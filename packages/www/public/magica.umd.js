(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.magica=f()}})((function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){var n=e[i][1][r];return o(n||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){(function(Buffer){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});const assert_1=require("assert");const cross_fetch_1=__importDefault(require("cross-fetch"));const fs_1=require("fs");const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const html_1=require("../image/html");const imageCompare_1=require("../image/imageCompare");const imageInfo_1=require("../image/imageInfo");const imageUtil_1=require("../image/imageUtil");const magickLoaded_1=require("../imageMagick/magickLoaded");const run_1=require("../main/run");const options_1=require("../options");const base64_1=require("../util/base64");const fileUtil_1=require("../util/fileUtil");const protected_1=require("./protected");class File{constructor(name,content,isProtected=false,url,width,height){this.name=name;this.content=content;this.url=url;this.width=width;this.height=height;if(isProtected){protected_1.protectFile(name)}}infoOne(){return __awaiter(this,void 0,void 0,(function*(){var i=yield this.info();if(!i||!i.length){throw new Error("Expected image info extract to work")}return i[0]}))}info(){return new Promise(resolve=>{if(this._info){resolve(this._info)}else{imageInfo_1.imageInfo(this).then(data=>{this._info=(data||[]).map(i=>i.image);resolve(this._info)})}})}size(){return __awaiter(this,void 0,void 0,(function*(){if(this.width&&this.height){return{width:this.width,height:this.height}}var i=yield this.infoOne();this.width=i.geometry?i.geometry.width:this.width;this.height=i.geometry?i.geometry.height:this.height;return{width:this.width||0,height:this.height||0}}))}widthXHeight(){return __awaiter(this,void 0,void 0,(function*(){if(this.width&&this.height){return`${this.width}x${this.height}`}var s=yield this.size();return`${s.width}x${s.height}`}))}mimeType(){return __awaiter(this,void 0,void 0,(function*(){var i=yield this.infoOne();return i.mimeType}))}pixel(x,y){return __awaiter(this,void 0,void 0,(function*(){if(this._pixels){return imageUtil_1.rgbaToString(this._pixels[imageUtil_1.coordsToIndex(this.width,x,y)])}return yield imageUtil_1.imagePixelColor(this,x,y)}))}rgba(x,y){return __awaiter(this,void 0,void 0,(function*(){yield this.pixelCalculate();return this._pixels[imageUtil_1.coordsToIndex(this.width,x,y)]}))}pixelCalculate(){return __awaiter(this,void 0,void 0,(function*(){this._pixels=yield imageUtil_1.getPixels(this)}))}asDataUrl(mime){return __awaiter(this,void 0,void 0,(function*(){return File.toDataUrl(this,mime)}))}asBase64(file){return File.toBase64(file)}equals(file){return __awaiter(this,void 0,void 0,(function*(){return yield imageCompare_1.imageCompare(this,file)}))}asArrayBuffer(){return __awaiter(this,void 0,void 0,(function*(){return this.content.buffer}))}asHTMLImageData(){return __awaiter(this,void 0,void 0,(function*(){var d=yield this.asRGBAImageData();return new ImageData(d.data,d.width,d.height)}))}asRGBAImageData(){return __awaiter(this,void 0,void 0,(function*(){var size=yield this.size();var{outputFiles:outputFiles}=this.name.endsWith(".rgba")&&this.width&&this.height?{outputFiles:[this]}:yield run_1.run({script:`convert ${yield this.sizeDepthArgs()} '${this.name}[0]' ${yield this.sizeDepthArgs(false)} output.rgba`,inputFiles:[this]});return{data:new Uint8ClampedArray(outputFiles[0].content.buffer),width:size.width,height:size.height}}))}sizeDepthArgs(onlyIfRGBA=true){return __awaiter(this,void 0,void 0,(function*(){return File.getSizeDepthArgs(this,onlyIfRGBA)}))}static getSizeDepthArgs(f,onlyIfRGBA=true){return __awaiter(this,void 0,void 0,(function*(){return!onlyIfRGBA||f.name.endsWith(".rgba")?`-size ${yield f.widthXHeight()} -depth 8`:""}))}static toDataUrl(file,mime){return __awaiter(this,void 0,void 0,(function*(){return yield html_1.toDataUrl(file,mime)}))}static fromUrl(url,o={}){return __awaiter(this,void 0,void 0,(function*(){try{const response=yield cross_fetch_1.default(url,o);return new File(o.name||misc_utils_of_mine_generic_1.getFileNameFromUrl(url),new Uint8ClampedArray(yield response.arrayBuffer()),o.protected,url)}catch(error){console.error(error);return undefined}}))}static fromArrayBuffer(b,o={}){return __awaiter(this,void 0,void 0,(function*(){const f=new File(o.name||"unknown",new Uint8ClampedArray(b),o.protected);if(!o.name){const info=yield f.infoOne();return new File(info.format?"unammed."+info.format.toLowerCase():"unknown",f.content,o.protected)}return f}))}static fromFile(f,o={}){if(!misc_utils_of_mine_generic_1.isNode()){throw new Error("File.readFile() called in the browser.")}try{return new File(o.name||misc_utils_of_mine_generic_1.basename(f),new Uint8ClampedArray(fs_1.readFileSync(f)),o.protected)}catch(error){console.error(error);return undefined}}static asString(f){return String.fromCharCode.apply(null,f.content)}static toBase64(file){return base64_1.arrayBufferToBase64(file.content.buffer)}static fromBase64(base64,name){return new File(name,Buffer.from(Base64.decode(base64),"base64"))}static fromDataUrl(dataUrl,name){return File.fromBase64(base64_1.urlToBase64(dataUrl),name)}static fromHtmlFileInputElement(el){return Promise.all(Array.from(el.files).map(file=>new Promise((resolve,reject)=>{var reader=new FileReader;reader.addEventListener("loadend",e=>resolve(new File(file.name,new Uint8ClampedArray(reader.result))));reader.readAsArrayBuffer(file)})))}static resolveOne(files,options={protected:false}){return __awaiter(this,void 0,void 0,(function*(){var a=yield File.resolve(files,options);return a.length>0?a[0]:undefined}))}static resolve(files,options={protected:false}){return __awaiter(this,void 0,void 0,(function*(){var fs=misc_utils_of_mine_generic_1.asArray(files||[]).filter(misc_utils_of_mine_generic_1.notUndefined);var result=yield misc_utils_of_mine_generic_1.serial(fs.map(f=>()=>__awaiter(this,void 0,void 0,(function*(){if(typeof f==="string"){if(misc_utils_of_mine_generic_1.isNode()&&fs_1.existsSync(f)){return yield File.fromFile(f,options)}else{return yield File.fromUrl(f,options)}}else{assert_1.ok(ArrayBuffer.isView(f.content));return f}}))));return result.filter(misc_utils_of_mine_generic_1.notUndefined).map(File.asFile)}))}static isFile(f){return!!f&&!!f.name&&!!f.content&&typeof f.constructor!=="undefined"&&!!f.size&&!!f.infoOne}static asFile(f){return File.isFile(f)?f:typeof f==="string"?fileUtil_1.readFile(f,magickLoaded_1.getFS()):new File(f.name,f.content)}static asPath(f){return typeof f==="string"?f:f.name}static fromRGBAImageData(d,name="img.rgba"){return new File(name,d.data,undefined,undefined,d.width,d.height)}static fromHTMLImageData(d,name="img.rgba"){return File.fromRGBAImageData(d,name)}static fileExists(f){return __awaiter(this,void 0,void 0,(function*(){const{FS:FS}=yield magickLoaded_1.magickLoaded;FS.chdir(options_1.getOption("emscriptenNodeFsRoot"));return fileUtil_1.isDir(File.asPath(f),FS)||fileUtil_1.isFile(File.asPath(f),FS)}))}}exports.File=File;File.equals=(a,b)=>File.asPath(a)!==File.asPath(b)}).call(this,require("buffer").Buffer)},{"../image/html":3,"../image/imageCompare":4,"../image/imageInfo":5,"../image/imageUtil":6,"../imageMagick/magickLoaded":11,"../main/run":16,"../options":20,"../util/base64":21,"../util/fileUtil":22,"./protected":2,assert:43,buffer:80,"cross-fetch":88,fs:78,"misc-utils-of-mine-generic":160}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const fileUtil_1=require("../util/fileUtil");function protectFile(f,protect=true){protectedFiles[fileUtil_1.getFilePath(f)]=protect}exports.protectFile=protectFile;function isProtectedFile(f){return protectedFiles[fileUtil_1.getFilePath(f)]}exports.isProtectedFile=isProtectedFile;const protectedFiles={}},{"../util/fileUtil":22}],3:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");function toDataUrl(o,mime){return __awaiter(this,void 0,void 0,(function*(){mime=mime||(yield o.mimeType());return"data:"+mime+";"+o.name+";base64,"+file_1.File.toBase64(o)}))}exports.toDataUrl=toDataUrl;function toDataUrlSync(o,mime=`image/${misc_utils_of_mine_generic_1.getFileExtension(o.name)}`){return`data:${mime};base64,${btoa(o.content.reduce((data,byte)=>data+String.fromCharCode(byte),""))}`}exports.toDataUrlSync=toDataUrlSync;function loadHtmlImageElement(o,el,forceDataUrl=false){return __awaiter(this,void 0,void 0,(function*(){var img=el||new Image;if(!forceDataUrl&&o.url){img.src=o.url}else{img.src=yield o.asDataUrl()}return img}))}exports.loadHtmlImageElement=loadHtmlImageElement;function loadHtmlCanvasElement(f,ctx,dx=0,dy=0,dirtyX=undefined,dirtyY=undefined,dirtyWidth=undefined,dirtyHeight=undefined){return __awaiter(this,void 0,void 0,(function*(){var d=yield f.asHTMLImageData();if(typeof dirtyX==="undefined"||typeof dirtyY==="undefined"||typeof dirtyWidth==="undefined"||typeof dirtyHeight==="undefined"){ctx.putImageData(d,dx,dy)}else{ctx.putImageData(d,dx,dy,dirtyX,dirtyY,dirtyWidth,dirtyHeight)}}))}exports.loadHtmlCanvasElement=loadHtmlCanvasElement},{"../file/file":1,"misc-utils-of-mine-generic":160}],4:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const file_1=require("../file/file");const main_1=require("../main/main");function imageCompare(img1,img2,fuzz=.015){return __awaiter(this,void 0,void 0,(function*(){if(!img1||!img2){return false}const identical=yield imageCompareNumber(img1,img2);return identical<=fuzz}))}exports.imageCompare=imageCompare;function imageCompareNumber(img1,img2){return __awaiter(this,void 0,void 0,(function*(){const result=yield main_1.main({inputFiles:[img1,img2],command:["convert",img1.name,img2.name,"-resize","256x256^!","-metric","RMSE","-format","%[distortion]","-compare","info:info.txt"]});const n=file_1.File.asString(result.outputFiles[0]);return parseFloat(n)}))}exports.imageCompareNumber=imageCompareNumber},{"../file/file":1,"../main/main":15}],5:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const assert_1=require("assert");const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");const main_1=require("../main/main");function imageInfo(img){return __awaiter(this,void 0,void 0,(function*(){if(!img){return Promise.resolve([])}var files=yield Promise.all(misc_utils_of_mine_generic_1.asArray(img).map(img=>__awaiter(this,void 0,void 0,(function*(){return typeof img==="string"?yield file_1.File.resolve(img):[img]}))));const r=yield main_1.main({inputFiles:files.flat().filter(misc_utils_of_mine_generic_1.notUndefined),command:["convert",...misc_utils_of_mine_generic_1.asArray(img).map(img=>typeof img==="string"?img:img.name),"imgInfo.json"]});assert_1.equal(r.outputFiles.length,1);const s=file_1.File.asString(r.outputFiles[0]);const obj=JSON.parse(s);return obj}))}exports.imageInfo=imageInfo},{"../file/file":1,"../main/main":15,assert:43,"misc-utils-of-mine-generic":160}],6:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");const main_1=require("../main/main");function getRgbaPixel(f,x,y){const i=coordsToIndex(f.width,x,y);const c=f.content;return{r:c[i],g:c[i+1],b:c[i+2],a:c[i+3]}}exports.getRgbaPixel=getRgbaPixel;function coordsToIndex(width,x,y){return(width*y+x)*4}exports.coordsToIndex=coordsToIndex;function getPixels(f){return __awaiter(this,void 0,void 0,(function*(){var data=yield f.asRGBAImageData();var pixels=[];for(let y=0;y<data.height;y++){for(let x=0;x<data.width;x++){pixels.push(getRgbaPixel(f,x,y))}}return pixels}))}exports.getPixels=getPixels;function imagePixelColor(img,x,y){return __awaiter(this,void 0,void 0,(function*(){if(!img){return}var f=file_1.File.asFile(img);if(isRgbaImage(f)){const c=getRgbaPixel(f,x,y);return rgbaToString(c)}else{const{outputFiles:outputFiles}=yield main_1.main({inputFiles:[img],command:`convert ${img.name} -format %[pixel:p{${x},${y}}] info:info.txt`});return(yield file_1.File.asString(outputFiles[0]))||undefined}}))}exports.imagePixelColor=imagePixelColor;function rgbaToString(c){return`rgba(${c.r},${c.g},${c.b},${c.a})`}exports.rgbaToString=rgbaToString;function isRgbaImage(f){return f.name.endsWith("rgba")&&f.width&&f.content instanceof Uint8ClampedArray}exports.isRgbaImage=isRgbaImage;function colorCount(img){return __awaiter(this,void 0,void 0,(function*(){if(!img){return}const{outputFiles:outputFiles}=yield main_1.main({inputFiles:[img],command:`convert ${img.name} -unique-colors -format %w info:info.txt`});var s=yield file_1.File.asString(outputFiles[0]);return parseInt(s)||undefined}))}exports.colorCount=colorCount;function parseConvertVerbose(stdout){var r=/([^=]+)=>([^\s]+)\s+([a-zA-Z0-9]+)\s+([^=]+)=>([^\s]+)/;var r2=/([^=]+)=>([^\s]+)\s+([a-zA-Z0-9]+)\s+([^\s]+)/;return stdout.map(l=>r.exec(l)||r2.exec(l)).filter(misc_utils_of_mine_generic_1.notFalsy).map(m=>{var a=m[4].split("x");var b=m[Math.min(m.length-1,6)].split("x");return{inputName:m[1],outputName:m[2],inputFormat:m[3].toLowerCase(),inputSize:{width:parseInt(a[0]),height:parseInt(a[1])},outputSize:{width:parseInt(b[0]),height:parseInt(b[1])}}})}exports.parseConvertVerbose=parseConvertVerbose},{"../file/file":1,"../main/main":15,"misc-utils-of-mine-generic":160}],7:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const main_1=require("../main/main");const imageInfo_1=require("./imageInfo");function getConfigureFolders(){return __awaiter(this,void 0,void 0,(function*(){const result=yield main_1.main({command:`convert -debug configure rose: info:`});const contains=`Searching for configure file:`;const folders=result.stderr.filter(line=>line.includes(contains)).map(line=>line.substring(line.indexOf(contains)+contains.length,line.length)).map(s=>s.replace(/\/\//g,"/")).map(s=>s.substring(0,s.lastIndexOf("/"))).map(s=>s.replace(/"/g,"").trim());return folders}))}exports.getConfigureFolders=getConfigureFolders;let listConfigure_;function listConfigure(){return __awaiter(this,void 0,void 0,(function*(){if(!listConfigure_){const result=yield main_1.main({command:`convert -list configure`});const delegatesS=result.stderr.find(l=>l.trim().toLowerCase().startsWith("delegates"));const delegates=delegatesS?delegatesS.split(/\s+/).splice(1):[];const featuresS=result.stderr.find(l=>l.trim().toLowerCase().startsWith("features"));const features=featuresS?featuresS.split(/\s+/).splice(1):[];listConfigure_={delegates:delegates,features:features}}return listConfigure_}))}exports.listConfigure=listConfigure;function listFormat(){return __awaiter(this,void 0,void 0,(function*(){if(!formats){const result=yield main_1.main({command:`convert -list format`});var r=/^\s*([^\s]+)\s+([^\s]+)\s+(.+)$/g;formats=result.stdout.slice(2).map(s=>r.exec(s)).filter(misc_utils_of_mine_generic_1.notFalsy).filter(r=>r[1]!=="See").map(r=>({name:r[1],flags:r[2],description:r[3]}))}return formats}))}exports.listFormat=listFormat;let formats;exports.knownSupportedReadWriteImageFormats=["jpg","png","psd","tiff","xcf","gif","bmp","tga","miff","ico","dcm","xpm","pcx","fits","ppm","pgm","pfm","mng","hdr","dds","otb","txt","psb"];exports.knownSupportedWriteOnlyImageFormats=["ps","pdf","epdf","svg","djvu"];exports.knownSupportedReadOnlyImageFormats=["mat"];let builtInImages;const names=["rose:","logo:","wizard:","granite:","netscape:"];function imageBuiltIn(builtIn){return __awaiter(this,void 0,void 0,(function*(){if(!builtInImages){builtInImages=yield misc_utils_of_mine_generic_1.serial(names.map(name=>()=>__awaiter(this,void 0,void 0,(function*(){const info=yield imageInfo_1.imageInfo(name);const{outputFiles:outputFiles}=yield main_1.main({command:`convert ${name} ${`output1.${info[0].image.format.toLowerCase()}`}`,inputFiles:[]});outputFiles[0].name=name;return outputFiles[0]}))))}return builtIn?builtInImages.filter(i=>i.name===builtIn):builtInImages}))}exports.imageBuiltIn=imageBuiltIn},{"../main/main":15,"./imageInfo":5,"misc-utils-of-mine-generic":160}],8:[function(require,module,exports){(function(process,Buffer,__dirname){const{magickLoaded:magickLoaded,pushStdout:pushStdout,pushStderr:pushStderr,getOptions:getOptions,moduleLocateFile:moduleLocateFile,isNode:isNode}=require("../magickLoaded");const{nodeFsLocalRoot:nodeFsLocalRoot,emscriptenNodeFsRoot:emscriptenNodeFsRoot,debug:debug,disableNodeFs:disableNodeFs}=getOptions();Module=typeof Module==="undefined"?{}:Module;Object.assign(Module,{noExitRuntime:true,noInitialRun:true,logReadFiles:debug,print:pushStdout,printErr:pushStderr,preRun:function(){debug&&console.log("Module.preRun. isNode: ",isNode());if(!FS.isDir(emscriptenNodeFsRoot)){FS.mkdir(emscriptenNodeFsRoot)}if(isNode()&&!disableNodeFs){if(!require("f"+"s").existsSync(nodeFsLocalRoot)){require("f"+"s").mkdirSync(nodeFsLocalRoot,{recursive:true})}debug&&console.log(`Mounting local folder "${nodeFsLocalRoot}" as emscripten root folder "${emscriptenNodeFsRoot}".`);FS.mount(NODEFS,{root:nodeFsLocalRoot},emscriptenNodeFsRoot)}debug&&console.log("Module.preRun <-- exiting")},onRuntimeInitialized:function(){debug&&console.log("Emscripten Module.onRuntimeInitialized ");magickLoaded.resolve({FS:FS,main:require("../createMain").createMain(Module,FS)})},onAbort:function(what){console.error("onAbort",what);console.trace()},locateFile:moduleLocateFile});var Module=typeof Module!=="undefined"?Module:{};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}Module["arguments"]=[];Module["thisProgram"]="./this.program";Module["quit"]=function(status,toThrow){throw toThrow};Module["preRun"]=[];Module["postRun"]=[];var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}else{return scriptDirectory+path}}if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){var ret;if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);ret=nodeFS["readFileSync"](filename);return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\/g,"/")}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("unhandledRejection",abort);Module["quit"]=function(status){process["exit"](status)};Module["inspect"]=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!="undefined"){Module["read"]=function shell_read(f){return read(f)}}Module["readBinary"]=function readBinary(f){var data;if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=function(status){quit(status)}}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1)}else{scriptDirectory=""}Module["read"]=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)};Module["setWindowTitle"]=function(title){document.title=title}}else{}var out=Module["print"]||(typeof console!=="undefined"?console.log.bind(console):typeof print!=="undefined"?print:null);var err=Module["printErr"]||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&console.warn.bind(console)||out);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;function dynamicAlloc(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=ret+size+15&-16;if(end<=_emscripten_get_heap_size()){HEAP32[DYNAMICTOP_PTR>>2]=end}else{var success=_emscripten_resize_heap(end);if(!success)return 0}return ret}function getNativeTypeSize(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(type[type.length-1]==="*"){return 4}else if(type[0]==="i"){var bits=parseInt(type.substr(1));assert(bits%8===0,"getNativeTypeSize invalid bits "+bits+", type "+type);return bits/8}else{return 0}}}}var asm2wasmImports={"f64-rem":function(x,y){return x%y},debugger:function(){debugger}};var functionPointers=new Array(0);var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};if(typeof WebAssembly!=="object"){err("no native wasm support detected")}var wasmMemory;var wasmTable;var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function setValue(ptr,value,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}var ALLOC_NORMAL=0;var ALLOC_NONE=3;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab==="number"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types==="string"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[_malloc,stackAlloc,dynamicAlloc][allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var stop;ptr=ret;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType==="i8"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];type=singleType||types[i];if(type===0){i++;continue}if(type=="i64")type="i32";setValue(ret+i,curr,type);if(previousType!==type){typeSize=getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}function getMemory(size){if(!runtimeInitialized)return dynamicAlloc(size);return _malloc(size)}var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(u8Array[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var str="";while(idx<endPtr){var u0=u8Array[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|u8Array[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):""}function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function allocateUTF8(str){var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8Array(str,HEAP8,ret,size);return ret}function allocateUTF8OnStack(str){var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8Array(str,HEAP8,ret,size);return ret}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}function demangle(func){return func}function demangleAll(text){var regex=/__Z[\w\d_]+/g;return text.replace(regex,(function(x){var y=demangle(x);return x===y?x:y+" ["+x+"]"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return"(no stack trace available)"}}return err.stack.toString()}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\n"+Module["extraStackTrace"]();return demangleAll(js)}var PAGE_SIZE=16384;var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var DYNAMIC_BASE=6646336,DYNAMICTOP_PTR=1403424;var TOTAL_STACK=5242880;var INITIAL_TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(INITIAL_TOTAL_MEMORY<TOTAL_STACK)err("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+INITIAL_TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){wasmMemory=new WebAssembly.Memory({initial:INITIAL_TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=wasmMemory.buffer}else{buffer=new ArrayBuffer(INITIAL_TOTAL_MEMORY)}}updateGlobalBufferViews();HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.init.initialized)FS.init();TTY.init();callRuntimeCallbacks(__ATINIT__)}function preMain(){FS.ignorePermissions=false;callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["preloadedImages"]={};Module["preloadedAudios"]={};var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return String.prototype.startsWith?filename.startsWith(dataURIPrefix):filename.indexOf(dataURIPrefix)===0}var wasmBinaryFile="magick.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(Module["wasmBinary"]){return new Uint8Array(Module["wasmBinary"])}if(Module["readBinary"]){return Module["readBinary"](wasmBinaryFile)}else{throw"both async and sync fetching of the wasm failed"}}catch(err){abort(err)}}function getBinaryPromise(){if(!Module["wasmBinary"]&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+wasmBinaryFile+"'"}return response["arrayBuffer"]()})).catch((function(){return getBinary()}))}return new Promise((function(resolve,reject){resolve(getBinary())}))}function createWasm(env){var info={env:env,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:asm2wasmImports};function receiveInstance(instance,module){var exports=instance.exports;Module["asm"]=exports;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){err("Module.instantiateWasm callback failed with error: "+e);return false}}function receiveInstantiatedSource(output){receiveInstance(output["instance"])}function instantiateArrayBuffer(receiver){getBinaryPromise().then((function(binary){return WebAssembly.instantiate(binary,info)})).then(receiver,(function(reason){err("failed to asynchronously prepare wasm: "+reason);abort(reason)}))}if(!Module["wasmBinary"]&&typeof WebAssembly.instantiateStreaming==="function"&&!isDataURI(wasmBinaryFile)&&typeof fetch==="function"){WebAssembly.instantiateStreaming(fetch(wasmBinaryFile,{credentials:"same-origin"}),info).then(receiveInstantiatedSource,(function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");instantiateArrayBuffer(receiveInstantiatedSource)}))}else{instantiateArrayBuffer(receiveInstantiatedSource)}return{}}Module["asm"]=function(global,env,providedBuffer){env["memory"]=wasmMemory;env["table"]=wasmTable=new WebAssembly.Table({initial:5443,maximum:5443,element:"anyfunc"});env["__memory_base"]=1024;env["__table_base"]=0;var exports=createWasm(env);return exports};__ATINIT__.push({func:function(){___emscripten_environ_constructor()}});function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])}var ENV={};function ___buildEnvironment(environ){var MAX_ENV_VALUES=64;var TOTAL_ENV_SIZE=1024;var poolPtr;var envPtr;if(!___buildEnvironment.called){___buildEnvironment.called=true;ENV["USER"]=ENV["LOGNAME"]="web_user";ENV["PATH"]="/";ENV["PWD"]="/";ENV["HOME"]="/home/web_user";ENV["LANG"]="C.UTF-8";ENV["_"]=Module["thisProgram"];poolPtr=getMemory(TOTAL_ENV_SIZE);envPtr=getMemory(MAX_ENV_VALUES*4);HEAP32[envPtr>>2]=poolPtr;HEAP32[environ>>2]=envPtr}else{envPtr=HEAP32[environ>>2];poolPtr=HEAP32[envPtr>>2]}var strings=[];var totalSize=0;for(var key in ENV){if(typeof ENV[key]==="string"){var line=key+"="+ENV[key];strings.push(line);totalSize+=line.length}}if(totalSize>TOTAL_ENV_SIZE){throw new Error("Environment size exceeded TOTAL_ENV_SIZE!")}var ptrSize=4;for(var i=0;i<strings.length;i++){var line=strings[i];writeAsciiToMemory(line,poolPtr);HEAP32[envPtr+i*ptrSize>>2]=poolPtr;poolPtr+=line.length+1}HEAP32[envPtr+strings.length*ptrSize>>2]=0}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return 0||ENVIRONMENT_IS_NODE||typeof dateNow!=="undefined"||typeof performance==="object"&&performance&&typeof performance["now"]==="function"}function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}function _clock_gettime(clk_id,tp){var now;if(clk_id===0){now=Date.now()}else if(clk_id===1&&_emscripten_get_now_is_monotonic()){now=_emscripten_get_now()}else{___setErrNo(22);return-1}HEAP32[tp>>2]=now/1e3|0;HEAP32[tp+4>>2]=now%1e3*1e3*1e3|0;return 0}function ___clock_gettime(a0,a1){return _clock_gettime(a0,a1)}function ___cxa_allocate_exception(size){return _malloc(size)}function ___cxa_free_exception(ptr){try{return _free(ptr)}catch(e){}}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(adjusted){if(!adjusted||EXCEPTIONS.infos[adjusted])return adjusted;for(var key in EXCEPTIONS.infos){var ptr=+key;var adj=EXCEPTIONS.infos[ptr].adjusted;var len=adj.length;for(var i=0;i<len;i++){if(adj[i]===adjusted){return ptr}}}return adjusted},addRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount++},decRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];assert(info.refcount>0);info.refcount--;if(info.refcount===0&&!info.rethrown){if(info.destructor){Module["dynCall_vi"](info.destructor,ptr)}delete EXCEPTIONS.infos[ptr];___cxa_free_exception(ptr)}},clearRef:function(ptr){if(!ptr)return;var info=EXCEPTIONS.infos[ptr];info.refcount=0}};function ___cxa_pure_virtual(){ABORT=true;throw"Pure virtual function called!"}function ___cxa_throw(ptr,type,destructor){EXCEPTIONS.infos[ptr]={ptr:ptr,adjusted:[ptr],type:type,destructor:destructor,refcount:0,caught:false,rethrown:false};EXCEPTIONS.last=ptr;if(!("uncaught_exception"in __ZSt18uncaught_exceptionv)){__ZSt18uncaught_exceptionv.uncaught_exception=1}else{__ZSt18uncaught_exceptionv.uncaught_exception++}throw ptr}function ___cxa_uncaught_exception(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___lock(){}function ___map_file(pathname,size){___setErrNo(1);return-1}var PATH={splitPath:function(filename){var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter((function(p){return!!p})),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path==="/")return"/";var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))},join2:function(l,r){return PATH.normalize(l+"/"+r)}};var PATH_FS={resolve:function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter((function(p){return!!p})),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:function(from,to){from=PATH_FS.resolve(from).substr(1);to=PATH_FS.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var TTY={ttys:[],init:function(){},shutdown:function(){},register:function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open:function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(19)}stream.tty=tty;stream.seekable=false},close:function(stream){stream.tty.ops.flush(stream.tty)},flush:function(stream){stream.tty.ops.flush(stream.tty)},read:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(6)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(5)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(11)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(6)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(5)}if(length){stream.node.timestamp=Date.now()}return i}},default_tty_ops:{get_char:function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=new Buffer(BUFSIZE);var bytesRead=0;var isPosixPlatform=process.platform!="win32";var fd=process.stdin.fd;if(isPosixPlatform){var usingDevice=false;try{fd=fs.openSync("/dev/stdin","r");usingDevice=true}catch(e){}}try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(usingDevice){fs.closeSync(fd)}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()},put_char:function(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){out(UTF8ArrayToString(tty.output,0));tty.output=[]}}},default_tty1_ops:{put_char:function(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}},flush:function(tty){if(tty.output&&tty.output.length>0){err(UTF8ArrayToString(tty.output,0));tty.output=[]}}}};var MEMFS={ops_table:null,mount:function(mount){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(1)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node}return node},getFileDataAsRegularArray:function(node){if(node.contents&&node.contents.subarray){var arr=[];for(var i=0;i<node.usedBytes;++i)arr.push(node.contents[i]);return arr}return node.contents},getFileDataAsTypedArray:function(node){if(!node.contents)return new Uint8Array;if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage:function(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)|0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0);return},resizeFileStorage:function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0;return}if(!node.contents||node.contents.subarray){var oldContents=node.contents;node.contents=new Uint8Array(new ArrayBuffer(newSize));if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize;return}if(!node.contents)node.contents=[];if(node.contents.length>newSize)node.contents.length=newSize;else while(node.contents.length<newSize)node.contents.push(0);node.usedBytes=newSize},node_ops:{getattr:function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup:function(parent,name){throw FS.genericErrors[2]},mknod:function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename:function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(39)}}}delete old_node.parent.contents[old_node.name];old_node.name=new_name;new_dir.contents[new_name]=old_node;old_node.parent=new_dir},unlink:function(parent,name){delete parent.contents[name]},rmdir:function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(39)}delete parent.contents[name]},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink:function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(22)}return node.link}},stream_ops:{read:function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write:function(stream,buffer,offset,length,position,canOwn){canOwn=false;if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=new Uint8Array(buffer.subarray(offset,offset+length));node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray)node.contents.set(buffer.subarray(offset,offset+length),position);else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(22)}return position},allocate:function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)},mmap:function(stream,buffer,offset,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(19)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&(contents.buffer===buffer||contents.buffer===buffer.buffer)){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<stream.node.usedBytes){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=_malloc(length);if(!ptr){throw new FS.ErrnoError(12)}buffer.set(contents,ptr)}return{ptr:ptr,allocated:allocated}},msync:function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(19)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var IDBFS={dbs:{},indexedDB:function(){if(typeof indexedDB!=="undefined")return indexedDB;var ret=null;if(typeof window==="object")ret=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;assert(ret,"IDBFS used, but indexedDB not supported");return ret},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(mount){return MEMFS.mount.apply(null,arguments)},syncfs:function(mount,populate,callback){IDBFS.getLocalSet(mount,(function(err,local){if(err)return callback(err);IDBFS.getRemoteSet(mount,(function(err,remote){if(err)return callback(err);var src=populate?remote:local;var dst=populate?local:remote;IDBFS.reconcile(src,dst,callback)}))}))},getDB:function(name,callback){var db=IDBFS.dbs[name];if(db){return callback(null,db)}var req;try{req=IDBFS.indexedDB().open(name,IDBFS.DB_VERSION)}catch(e){return callback(e)}if(!req){return callback("Unable to connect to IndexedDB")}req.onupgradeneeded=function(e){var db=e.target.result;var transaction=e.target.transaction;var fileStore;if(db.objectStoreNames.contains(IDBFS.DB_STORE_NAME)){fileStore=transaction.objectStore(IDBFS.DB_STORE_NAME)}else{fileStore=db.createObjectStore(IDBFS.DB_STORE_NAME)}if(!fileStore.indexNames.contains("timestamp")){fileStore.createIndex("timestamp","timestamp",{unique:false})}};req.onsuccess=function(){db=req.result;IDBFS.dbs[name]=db;callback(null,db)};req.onerror=function(e){callback(this.error);e.preventDefault()}},getLocalSet:function(mount,callback){var entries={};function isRealDir(p){return p!=="."&&p!==".."}function toAbsolute(root){return function(p){return PATH.join2(root,p)}}var check=FS.readdir(mount.mountpoint).filter(isRealDir).map(toAbsolute(mount.mountpoint));while(check.length){var path=check.pop();var stat;try{stat=FS.stat(path)}catch(e){return callback(e)}if(FS.isDir(stat.mode)){check.push.apply(check,FS.readdir(path).filter(isRealDir).map(toAbsolute(path)))}entries[path]={timestamp:stat.mtime}}return callback(null,{type:"local",entries:entries})},getRemoteSet:function(mount,callback){var entries={};IDBFS.getDB(mount.mountpoint,(function(err,db){if(err)return callback(err);try{var transaction=db.transaction([IDBFS.DB_STORE_NAME],"readonly");transaction.onerror=function(e){callback(this.error);e.preventDefault()};var store=transaction.objectStore(IDBFS.DB_STORE_NAME);var index=store.index("timestamp");index.openKeyCursor().onsuccess=function(event){var cursor=event.target.result;if(!cursor){return callback(null,{type:"remote",db:db,entries:entries})}entries[cursor.primaryKey]={timestamp:cursor.key};cursor.continue()}}catch(e){return callback(e)}}))},loadLocalEntry:function(path,callback){var stat,node;try{var lookup=FS.lookupPath(path);node=lookup.node;stat=FS.stat(path)}catch(e){return callback(e)}if(FS.isDir(stat.mode)){return callback(null,{timestamp:stat.mtime,mode:stat.mode})}else if(FS.isFile(stat.mode)){node.contents=MEMFS.getFileDataAsTypedArray(node);return callback(null,{timestamp:stat.mtime,mode:stat.mode,contents:node.contents})}else{return callback(new Error("node type not supported"))}},storeLocalEntry:function(path,entry,callback){try{if(FS.isDir(entry.mode)){FS.mkdir(path,entry.mode)}else if(FS.isFile(entry.mode)){FS.writeFile(path,entry.contents,{canOwn:true})}else{return callback(new Error("node type not supported"))}FS.chmod(path,entry.mode);FS.utime(path,entry.timestamp,entry.timestamp)}catch(e){return callback(e)}callback(null)},removeLocalEntry:function(path,callback){try{var lookup=FS.lookupPath(path);var stat=FS.stat(path);if(FS.isDir(stat.mode)){FS.rmdir(path)}else if(FS.isFile(stat.mode)){FS.unlink(path)}}catch(e){return callback(e)}callback(null)},loadRemoteEntry:function(store,path,callback){var req=store.get(path);req.onsuccess=function(event){callback(null,event.target.result)};req.onerror=function(e){callback(this.error);e.preventDefault()}},storeRemoteEntry:function(store,path,entry,callback){var req=store.put(entry,path);req.onsuccess=function(){callback(null)};req.onerror=function(e){callback(this.error);e.preventDefault()}},removeRemoteEntry:function(store,path,callback){var req=store.delete(path);req.onsuccess=function(){callback(null)};req.onerror=function(e){callback(this.error);e.preventDefault()}},reconcile:function(src,dst,callback){var total=0;var create=[];Object.keys(src.entries).forEach((function(key){var e=src.entries[key];var e2=dst.entries[key];if(!e2||e.timestamp>e2.timestamp){create.push(key);total++}}));var remove=[];Object.keys(dst.entries).forEach((function(key){var e=dst.entries[key];var e2=src.entries[key];if(!e2){remove.push(key);total++}}));if(!total){return callback(null)}var errored=false;var completed=0;var db=src.type==="remote"?src.db:dst.db;var transaction=db.transaction([IDBFS.DB_STORE_NAME],"readwrite");var store=transaction.objectStore(IDBFS.DB_STORE_NAME);function done(err){if(err){if(!done.errored){done.errored=true;return callback(err)}return}if(++completed>=total){return callback(null)}}transaction.onerror=function(e){done(this.error);e.preventDefault()};create.sort().forEach((function(path){if(dst.type==="local"){IDBFS.loadRemoteEntry(store,path,(function(err,entry){if(err)return done(err);IDBFS.storeLocalEntry(path,entry,done)}))}else{IDBFS.loadLocalEntry(path,(function(err,entry){if(err)return done(err);IDBFS.storeRemoteEntry(store,path,entry,done)}))}}));remove.sort().reverse().forEach((function(path){if(dst.type==="local"){IDBFS.removeLocalEntry(path,done)}else{IDBFS.removeRemoteEntry(store,path,done)}}))}};var NODEFS={isWindows:false,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var flags=process["binding"]("constants");if(flags["fs"]){flags=flags["fs"]}NODEFS.flagsForNodeMap={1024:flags["O_APPEND"],64:flags["O_CREAT"],128:flags["O_EXCL"],0:flags["O_RDONLY"],2:flags["O_RDWR"],4096:flags["O_SYNC"],512:flags["O_TRUNC"],1:flags["O_WRONLY"]}},bufferFrom:function(arrayBuffer){return Buffer.alloc?Buffer.from(arrayBuffer):new Buffer(arrayBuffer)},mount:function(mount){assert(ENVIRONMENT_IS_NODE);return NODEFS.createNode(null,"/",NODEFS.getMode(mount.opts.root),0)},createNode:function(parent,name,mode,dev){if(!FS.isDir(mode)&&!FS.isFile(mode)&&!FS.isLink(mode)){throw new FS.ErrnoError(22)}var node=FS.createNode(parent,name,mode);node.node_ops=NODEFS.node_ops;node.stream_ops=NODEFS.stream_ops;return node},getMode:function(path){var stat;try{stat=fs.lstatSync(path);if(NODEFS.isWindows){stat.mode=stat.mode|(stat.mode&292)>>2}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}return stat.mode},realPath:function(node){var parts=[];while(node.parent!==node){parts.push(node.name);node=node.parent}parts.push(node.mount.opts.root);parts.reverse();return PATH.join.apply(null,parts)},flagsForNode:function(flags){flags&=~2097152;flags&=~2048;flags&=~32768;flags&=~524288;var newFlags=0;for(var k in NODEFS.flagsForNodeMap){if(flags&k){newFlags|=NODEFS.flagsForNodeMap[k];flags^=k}}if(!flags){return newFlags}else{throw new FS.ErrnoError(22)}},node_ops:{getattr:function(node){var path=NODEFS.realPath(node);var stat;try{stat=fs.lstatSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}if(NODEFS.isWindows&&!stat.blksize){stat.blksize=4096}if(NODEFS.isWindows&&!stat.blocks){stat.blocks=(stat.size+stat.blksize-1)/stat.blksize|0}return{dev:stat.dev,ino:stat.ino,mode:stat.mode,nlink:stat.nlink,uid:stat.uid,gid:stat.gid,rdev:stat.rdev,size:stat.size,atime:stat.atime,mtime:stat.mtime,ctime:stat.ctime,blksize:stat.blksize,blocks:stat.blocks}},setattr:function(node,attr){var path=NODEFS.realPath(node);try{if(attr.mode!==undefined){fs.chmodSync(path,attr.mode);node.mode=attr.mode}if(attr.timestamp!==undefined){var date=new Date(attr.timestamp);fs.utimesSync(path,date,date)}if(attr.size!==undefined){fs.truncateSync(path,attr.size)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},lookup:function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);var mode=NODEFS.getMode(path);return NODEFS.createNode(parent,name,mode)},mknod:function(parent,name,mode,dev){var node=NODEFS.createNode(parent,name,mode,dev);var path=NODEFS.realPath(node);try{if(FS.isDir(node.mode)){fs.mkdirSync(path,node.mode)}else{fs.writeFileSync(path,"",{mode:node.mode})}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}return node},rename:function(oldNode,newDir,newName){var oldPath=NODEFS.realPath(oldNode);var newPath=PATH.join2(NODEFS.realPath(newDir),newName);try{fs.renameSync(oldPath,newPath)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},unlink:function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);try{fs.unlinkSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},rmdir:function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);try{fs.rmdirSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},readdir:function(node){var path=NODEFS.realPath(node);try{return fs.readdirSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},symlink:function(parent,newName,oldPath){var newPath=PATH.join2(NODEFS.realPath(parent),newName);try{fs.symlinkSync(oldPath,newPath)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},readlink:function(node){var path=NODEFS.realPath(node);try{path=fs.readlinkSync(path);path=NODEJS_PATH.relative(NODEJS_PATH.resolve(node.mount.opts.root),path);return path}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}}},stream_ops:{open:function(stream){var path=NODEFS.realPath(stream.node);try{if(FS.isFile(stream.node.mode)){stream.nfd=fs.openSync(path,NODEFS.flagsForNode(stream.flags))}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},close:function(stream){try{if(FS.isFile(stream.node.mode)&&stream.nfd){fs.closeSync(stream.nfd)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(-e.errno)}},read:function(stream,buffer,offset,length,position){if(length===0)return 0;try{return fs.readSync(stream.nfd,NODEFS.bufferFrom(buffer.buffer),offset,length,position)}catch(e){throw new FS.ErrnoError(-e.errno)}},write:function(stream,buffer,offset,length,position){try{return fs.writeSync(stream.nfd,NODEFS.bufferFrom(buffer.buffer),offset,length,position)}catch(e){throw new FS.ErrnoError(-e.errno)}},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){try{var stat=fs.fstatSync(stream.nfd);position+=stat.size}catch(e){throw new FS.ErrnoError(-e.errno)}}}if(position<0){throw new FS.ErrnoError(22)}return position}}};var WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(mount){assert(ENVIRONMENT_IS_WORKER);if(!WORKERFS.reader)WORKERFS.reader=new FileReaderSync;var root=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0);var createdParents={};function ensureParent(path){var parts=path.split("/");var parent=root;for(var i=0;i<parts.length-1;i++){var curr=parts.slice(0,i+1).join("/");if(!createdParents[curr]){createdParents[curr]=WORKERFS.createNode(parent,parts[i],WORKERFS.DIR_MODE,0)}parent=createdParents[curr]}return parent}function base(path){var parts=path.split("/");return parts[parts.length-1]}Array.prototype.forEach.call(mount.opts["files"]||[],(function(file){WORKERFS.createNode(ensureParent(file.name),base(file.name),WORKERFS.FILE_MODE,0,file,file.lastModifiedDate)}));(mount.opts["blobs"]||[]).forEach((function(obj){WORKERFS.createNode(ensureParent(obj["name"]),base(obj["name"]),WORKERFS.FILE_MODE,0,obj["data"])}));(mount.opts["packages"]||[]).forEach((function(pack){pack["metadata"].files.forEach((function(file){var name=file.filename.substr(1);WORKERFS.createNode(ensureParent(name),base(name),WORKERFS.FILE_MODE,0,pack["blob"].slice(file.start,file.end))}))}));return root},createNode:function(parent,name,mode,dev,contents,mtime){var node=FS.createNode(parent,name,mode);node.mode=mode;node.node_ops=WORKERFS.node_ops;node.stream_ops=WORKERFS.stream_ops;node.timestamp=(mtime||new Date).getTime();assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE);if(mode===WORKERFS.FILE_MODE){node.size=contents.size;node.contents=contents}else{node.size=4096;node.contents={}}if(parent){parent.contents[name]=node}return node},node_ops:{getattr:function(node){return{dev:1,ino:undefined,mode:node.mode,nlink:1,uid:0,gid:0,rdev:undefined,size:node.size,atime:new Date(node.timestamp),mtime:new Date(node.timestamp),ctime:new Date(node.timestamp),blksize:4096,blocks:Math.ceil(node.size/4096)}},setattr:function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}},lookup:function(parent,name){throw new FS.ErrnoError(2)},mknod:function(parent,name,mode,dev){throw new FS.ErrnoError(1)},rename:function(oldNode,newDir,newName){throw new FS.ErrnoError(1)},unlink:function(parent,name){throw new FS.ErrnoError(1)},rmdir:function(parent,name){throw new FS.ErrnoError(1)},readdir:function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries},symlink:function(parent,newName,oldPath){throw new FS.ErrnoError(1)},readlink:function(node){throw new FS.ErrnoError(1)}},stream_ops:{read:function(stream,buffer,offset,length,position){if(position>=stream.node.size)return 0;var chunk=stream.node.contents.slice(position,position+length);var ab=WORKERFS.reader.readAsArrayBuffer(chunk);buffer.set(new Uint8Array(ab),offset);return chunk.size},write:function(stream,buffer,offset,length,position){throw new FS.ErrnoError(5)},llseek:function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.size}}if(position<0){throw new FS.ErrnoError(22)}return position}}};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(path,opts){path=PATH_FS.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(40)}var parts=PATH.normalizeArray(path.split("/").filter((function(p){return!!p})),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH_FS.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(40)}}}}return{path:current_path,node:current}},getPath:function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}},hashName:function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode:function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode:function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode:function(parent,name){var err=FS.mayLookup(parent);if(err){throw new FS.ErrnoError(err,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode:function(parent,name,mode,rdev){if(!FS.FSNode){FS.FSNode=function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev};FS.FSNode.prototype={};var readMode=292|73;var writeMode=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&readMode)===readMode},set:function(val){val?this.mode|=readMode:this.mode&=~readMode}},write:{get:function(){return(this.mode&writeMode)===writeMode},set:function(val){val?this.mode|=writeMode:this.mode&=~writeMode}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode:function(node){FS.hashRemoveNode(node)},isRoot:function(node){return node===node.parent},isMountpoint:function(node){return!!node.mounted},isFile:function(mode){return(mode&61440)===32768},isDir:function(mode){return(mode&61440)===16384},isLink:function(mode){return(mode&61440)===40960},isChrdev:function(mode){return(mode&61440)===8192},isBlkdev:function(mode){return(mode&61440)===24576},isFIFO:function(mode){return(mode&61440)===4096},isSocket:function(mode){return(mode&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags},flagsToPermissionString:function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions:function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return 13}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return 13}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return 13}return 0},mayLookup:function(dir){var err=FS.nodePermissions(dir,"x");if(err)return err;if(!dir.node_ops.lookup)return 13;return 0},mayCreate:function(dir,name){try{var node=FS.lookupNode(dir,name);return 17}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete:function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var err=FS.nodePermissions(dir,"wx");if(err){return err}if(isdir){if(!FS.isDir(node.mode)){return 20}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 16}}else{if(FS.isDir(node.mode)){return 21}}return 0},mayOpen:function(node,flags){if(!node){return 2}if(FS.isLink(node.mode)){return 40}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return 21}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},MAX_OPEN_FDS:4096,nextfd:function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(24)},getStream:function(fd){return FS.streams[fd]},createStream:function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=function(){};FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(val){this.node=val}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}})}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream:function(fd){FS.streams[fd]=null},chrdev_stream_ops:{open:function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}},llseek:function(){throw new FS.ErrnoError(29)}},major:function(dev){return dev>>8},minor:function(dev){return dev&255},makedev:function(ma,mi){return ma<<8|mi},registerDevice:function(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:function(dev){return FS.devices[dev]},getMounts:function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts},syncfs:function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(err){FS.syncFSRequests--;return callback(err)}function done(err){if(err){if(!done.errored){done.errored=true;return doCallback(err)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach((function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)}))},mount:function(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(16)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(16)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(20)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount:function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(22)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach((function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}}));node.mounted=null;var idx=node.mount.mounts.indexOf(mount);node.mount.mounts.splice(idx,1)},lookup:function(parent,name){return parent.node_ops.lookup(parent,name)},mknod:function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(22)}var err=FS.mayCreate(parent,name);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(1)}return parent.node_ops.mknod(parent,name,mode,dev)},create:function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir:function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree:function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=17)throw e}}},mkdev:function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink:function(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(2)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(2)}var newname=PATH.basename(newpath);var err=FS.mayCreate(parent,newname);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(1)}return parent.node_ops.symlink(parent,newname,oldpath)},rename:function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;try{lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node}catch(e){throw new FS.ErrnoError(16)}if(!old_dir||!new_dir)throw new FS.ErrnoError(2);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(18)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(22)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(39)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var err=FS.mayDelete(old_dir,old_name,isdir);if(err){throw new FS.ErrnoError(err)}err=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(err){throw new FS.ErrnoError(err)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(1)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(16)}if(new_dir!==old_dir){err=FS.nodePermissions(old_dir,"w");if(err){throw new FS.ErrnoError(err)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){console.log("FS.trackingDelegate['willMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){console.log("FS.trackingDelegate['onMovePath']('"+old_path+"', '"+new_path+"') threw an exception: "+e.message)}},rmdir:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var err=FS.mayDelete(parent,name,true);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(1)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(16)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readdir:function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(20)}return node.node_ops.readdir(node)},unlink:function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var err=FS.mayDelete(parent,name,false);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(1)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(16)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+e.message)}},readlink:function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(2)}if(!link.node_ops.readlink){throw new FS.ErrnoError(22)}return PATH_FS.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(2)}if(!node.node_ops.getattr){throw new FS.ErrnoError(1)}return node.node_ops.getattr(node)},lstat:function(path){return FS.stat(path,true)},chmod:function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(1)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})},lchmod:function(path,mode){FS.chmod(path,mode,true)},fchmod:function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(9)}FS.chmod(stream.node,mode)},chown:function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(1)}node.node_ops.setattr(node,{timestamp:Date.now()})},lchown:function(path,uid,gid){FS.chown(path,uid,gid,true)},fchown:function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(9)}FS.chown(stream.node,uid,gid)},truncate:function(path,len){if(len<0){throw new FS.ErrnoError(22)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(1)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(21)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(22)}var err=FS.nodePermissions(node,"w");if(err){throw new FS.ErrnoError(err)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})},ftruncate:function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(9)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(22)}FS.truncate(stream.node,len)},utime:function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})},open:function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(2)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(17)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(2)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(20)}if(!created){var err=FS.mayOpen(node,flags);if(err){throw new FS.ErrnoError(err)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;console.log("FS.trackingDelegate error on read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+e.message)}return stream},close:function(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(9)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed:function(stream){return stream.fd===null},llseek:function(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(9)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(29)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(22)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read:function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(22)}if(FS.isClosed(stream)){throw new FS.ErrnoError(9)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(9)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(21)}if(!stream.stream_ops.read){throw new FS.ErrnoError(22)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(29)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write:function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(22)}if(FS.isClosed(stream)){throw new FS.ErrnoError(9)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(9)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(21)}if(!stream.stream_ops.write){throw new FS.ErrnoError(22)}if(stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!=="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(29)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+stream.path+"') threw an exception: "+e.message)}return bytesWritten},allocate:function(stream,offset,length){if(FS.isClosed(stream)){throw new FS.ErrnoError(9)}if(offset<0||length<=0){throw new FS.ErrnoError(22)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(9)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(19)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(95)}stream.stream_ops.allocate(stream,offset,length)},mmap:function(stream,buffer,offset,length,position,prot,flags){if((stream.flags&2097155)===1){throw new FS.ErrnoError(13)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(19)}return stream.stream_ops.mmap(stream,buffer,offset,length,position,prot,flags)},msync:function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},munmap:function(stream){return 0},ioctl:function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(25)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile:function(path,opts){opts=opts||{};opts.flags=opts.flags||"r";opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error('Invalid encoding type "'+opts.encoding+'"')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret},writeFile:function(path,data,opts){opts=opts||{};opts.flags=opts.flags||"w";var stream=FS.open(path,opts.flags,opts.mode);if(typeof data==="string"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,undefined,opts.canOwn)}else if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{throw new Error("Unsupported data type")}FS.close(stream)},cwd:function(){return FS.currentPath},chdir:function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(2)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(20)}var err=FS.nodePermissions(lookup.node,"x");if(err){throw new FS.ErrnoError(err)}FS.currentPath=lookup.path},createDefaultDirectories:function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(stream,buffer,offset,length,pos){return length}});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device;if(typeof crypto==="object"&&typeof crypto["getRandomValues"]==="function"){var randomBuffer=new Uint8Array(1);random_device=function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]}}else if(ENVIRONMENT_IS_NODE){try{var crypto_module=require("crypto");random_device=function(){return crypto_module["randomBytes"](1)[0]}}catch(e){}}else{}if(!random_device){random_device=function(){abort("random_device")}}FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc");FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:function(){var node=FS.createNode("/proc/self","fd",16384|511,73);node.node_ops={lookup:function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(9);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return stream.path}}};ret.parent=ret;return ret}};return node}},{},"/proc/self/fd")},createStandardStreams:function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin","r");var stdout=FS.open("/dev/stdout","w");var stderr=FS.open("/dev/stderr","w")},ensureErrnoError:function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=function(errno){this.errno=errno};this.setErrno(errno);this.message="FS error";if(this.stack)Object.defineProperty(this,"stack",{value:(new Error).stack,writable:true})};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[2].forEach((function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(input,output,error){FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()},quit:function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}},getMode:function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode},joinPath:function(parts,forceRelative){var path=PATH.join.apply(null,parts);if(forceRelative&&path[0]=="/")path=path.substr(1);return path},absolutePath:function(relative,base){return PATH_FS.resolve(base,relative)},standardizePath:function(path){return PATH.normalize(path)},findObject:function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{___setErrNo(ret.error);return null}},analyzePath:function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createFolder:function(parent,name,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.mkdir(path,mode)},createPath:function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current},createFile:function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile:function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,"w");FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node},createDevice:function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:function(stream){stream.seekable=false},close:function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}},read:function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(5)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(11)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead},write:function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(5)}}if(length){stream.node.timestamp=Date.now()}return i}});return FS.mkdev(path,mode,dev)},createLink:function(parent,name,target,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);return FS.symlink(target,path)},forceLoadFile:function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;var success=true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(Module["read"]){try{obj.contents=intArrayFromString(Module["read"](obj.url),true);obj.usedBytes=obj.contents.length}catch(e){success=false}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}if(!success)___setErrNo(5);return success},createLazyFile:function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn't load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}};var lazyArray=this;lazyArray.setDataGetter((function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]}));if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;console.log("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._length}},chunkSize:{get:function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach((function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){if(!FS.forceLoadFile(node)){throw new FS.ErrnoError(5)}return fn.apply(null,arguments)}}));stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){if(!FS.forceLoadFile(node)){throw new FS.ErrnoError(5)}var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node},createPreloadedFile:function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach((function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,(function(){if(onerror)onerror();removeRunDependency(dep)}));handled=true}}));if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,(function(byteArray){processData(byteArray)}),onerror)}else{processData(url)}},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){console.log("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach((function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}}));transaction.onerror=onerror};openRequest.onerror=onerror},loadFilesFromDB:function(paths,onload,onerror){onload=onload||function(){};onerror=onerror||function(){};var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach((function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}}));transaction.onerror=onerror};openRequest.onerror=onerror}};var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(dirfd,path){if(path[0]!=="/"){var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(9);dir=dirstream.path}path=PATH.join2(dir,path)}return path},doStat:function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-20}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;tempI64=[stat.size>>>0,(tempDouble=stat.size,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+40>>2]=tempI64[0],HEAP32[buf+44>>2]=tempI64[1];HEAP32[buf+48>>2]=4096;HEAP32[buf+52>>2]=stat.blocks;HEAP32[buf+56>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+76>>2]=0;tempI64=[stat.ino>>>0,(tempDouble=stat.ino,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[buf+80>>2]=tempI64[0],HEAP32[buf+84>>2]=tempI64[1];return 0},doMsync:function(addr,stream,len,flags){var buffer=new Uint8Array(HEAPU8.subarray(addr,addr+len));FS.msync(stream,buffer,0,len,flags)},doMkdir:function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0},doMknod:function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}FS.mknod(path,mode,dev);return 0},doReadlink:function(path,buf,bufsize){if(bufsize<=0)return-22;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len},doAccess:function(path,amode){if(amode&~7){return-22}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-13}return 0},doDup:function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd},doReadv:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret},doWritev:function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret},varargs:0,get:function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(){var ret=UTF8ToString(SYSCALLS.get());return ret},getStreamFromFD:function(){var stream=FS.getStream(SYSCALLS.get());if(!stream)throw new FS.ErrnoError(9);return stream},get64:function(){var low=SYSCALLS.get(),high=SYSCALLS.get();return low},getZero:function(){SYSCALLS.get()}};function ___syscall10(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr();FS.unlink(path);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall114(which,varargs){SYSCALLS.varargs=varargs;try{abort("cannot wait on child processes")}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall118(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();if(!(offset_high==-1&&offset_low<0)&&!(offset_high==0&&offset_low>=0)){return-75}var offset=offset_low;FS.llseek(stream,offset,whence);tempI64=[stream.position>>>0,(tempDouble=stream.position,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[result>>2]=tempI64[0],HEAP32[result+4>>2]=tempI64[1];if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall145(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();return SYSCALLS.doReadv(stream,iov,iovcnt)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();return SYSCALLS.doWritev(stream,iov,iovcnt)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall15(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr(),mode=SYSCALLS.get();FS.chmod(path,mode);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall180(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),buf=SYSCALLS.get(),count=SYSCALLS.get(),zero=SYSCALLS.getZero(),offset=SYSCALLS.get64();return FS.read(stream,HEAP8,buf,count,offset)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall181(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),buf=SYSCALLS.get(),count=SYSCALLS.get(),zero=SYSCALLS.getZero(),offset=SYSCALLS.get64();return FS.write(stream,HEAP8,buf,count,offset)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall183(which,varargs){SYSCALLS.varargs=varargs;try{var buf=SYSCALLS.get(),size=SYSCALLS.get();if(size===0)return-22;var cwd=FS.cwd();var cwdLengthInBytes=lengthBytesUTF8(cwd);if(size<cwdLengthInBytes+1)return-34;stringToUTF8(cwd,buf,size);return buf}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall191(which,varargs){SYSCALLS.varargs=varargs;try{var resource=SYSCALLS.get(),rlim=SYSCALLS.get();HEAP32[rlim>>2]=-1;HEAP32[rlim+4>>2]=-1;HEAP32[rlim+8>>2]=-1;HEAP32[rlim+12>>2]=-1;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall192(which,varargs){SYSCALLS.varargs=varargs;try{var addr=SYSCALLS.get(),len=SYSCALLS.get(),prot=SYSCALLS.get(),flags=SYSCALLS.get(),fd=SYSCALLS.get(),off=SYSCALLS.get();off<<=12;var ptr;var allocated=false;if(fd===-1){ptr=_memalign(PAGE_SIZE,len);if(!ptr)return-12;_memset(ptr,0,len);allocated=true}else{var info=FS.getStream(fd);if(!info)return-9;var res=FS.mmap(info,HEAPU8,addr,len,off,prot,flags);ptr=res.ptr;allocated=res.allocated}SYSCALLS.mappings[ptr]={malloc:ptr,len:len,allocated:allocated,fd:fd,flags:flags};return ptr}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall195(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr(),buf=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall197(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),buf=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,stream.path,buf)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var PROCINFO={ppid:1,pid:42,sid:42,pgid:42};function ___syscall20(which,varargs){SYSCALLS.varargs=varargs;try{return PROCINFO.pid}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall220(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),dirp=SYSCALLS.get(),count=SYSCALLS.get();if(!stream.getdents){stream.getdents=FS.readdir(stream.path)}var struct_size=280;var pos=0;var off=FS.llseek(stream,0,1);var idx=Math.floor(off/struct_size);while(idx<stream.getdents.length&&pos+struct_size<=count){var id;var type;var name=stream.getdents[idx];if(name[0]==="."){id=1;type=4}else{var child=FS.lookupNode(stream.node,name);id=child.id;type=FS.isChrdev(child.mode)?2:FS.isDir(child.mode)?4:FS.isLink(child.mode)?10:8}tempI64=[id>>>0,(tempDouble=id,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos>>2]=tempI64[0],HEAP32[dirp+pos+4>>2]=tempI64[1];tempI64=[(idx+1)*struct_size>>>0,(tempDouble=(idx+1)*struct_size,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[dirp+pos+8>>2]=tempI64[0],HEAP32[dirp+pos+12>>2]=tempI64[1];HEAP16[dirp+pos+16>>1]=280;HEAP8[dirp+pos+18>>0]=type;stringToUTF8(name,dirp+pos+19,256);pos+=struct_size;idx+=1}FS.llseek(stream,idx*struct_size,0);return pos}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall221(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),cmd=SYSCALLS.get();switch(cmd){case 0:{var arg=SYSCALLS.get();if(arg<0){return-22}var newStream;newStream=FS.open(stream.path,stream.flags,0,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=SYSCALLS.get();stream.flags|=arg;return 0}case 12:{var arg=SYSCALLS.get();var offset=0;HEAP16[arg+offset>>1]=2;return 0}case 13:case 14:return 0;case 16:case 8:return-22;case 9:___setErrNo(22);return-1;default:{return-22}}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall3(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),buf=SYSCALLS.get(),count=SYSCALLS.get();return FS.read(stream,HEAP8,buf,count)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall324(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),mode=SYSCALLS.get(),offset=SYSCALLS.get64(),len=SYSCALLS.get64();FS.allocate(stream,offset,len);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall33(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr(),amode=SYSCALLS.get();return SYSCALLS.doAccess(path,amode)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall340(which,varargs){SYSCALLS.varargs=varargs;try{var pid=SYSCALLS.get(),resource=SYSCALLS.get(),new_limit=SYSCALLS.get(),old_limit=SYSCALLS.get();if(old_limit){HEAP32[old_limit>>2]=-1;HEAP32[old_limit+4>>2]=-1;HEAP32[old_limit+8>>2]=-1;HEAP32[old_limit+12>>2]=-1}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall38(which,varargs){SYSCALLS.varargs=varargs;try{var old_path=SYSCALLS.getStr(),new_path=SYSCALLS.getStr();FS.rename(old_path,new_path);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall4(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),buf=SYSCALLS.get(),count=SYSCALLS.get();return FS.write(stream,HEAP8,buf,count)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall40(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr();FS.rmdir(path);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall5(which,varargs){SYSCALLS.varargs=varargs;try{var pathname=SYSCALLS.getStr(),flags=SYSCALLS.get(),mode=SYSCALLS.get();var stream=FS.open(pathname,flags,mode);return stream.fd}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),op=SYSCALLS.get();switch(op){case 21509:case 21505:{if(!stream.tty)return-25;return 0}case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:{if(!stream.tty)return-25;return 0}case 21519:{if(!stream.tty)return-25;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0}case 21520:{if(!stream.tty)return-25;return-22}case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-25;return 0}case 21524:{if(!stream.tty)return-25;return 0}default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall77(which,varargs){SYSCALLS.varargs=varargs;try{var who=SYSCALLS.get(),usage=SYSCALLS.get();_memset(usage,0,136);HEAP32[usage>>2]=1;HEAP32[usage+4>>2]=2;HEAP32[usage+8>>2]=3;HEAP32[usage+12>>2]=4;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall83(which,varargs){SYSCALLS.varargs=varargs;try{var target=SYSCALLS.getStr(),linkpath=SYSCALLS.getStr();FS.symlink(target,linkpath);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall85(which,varargs){SYSCALLS.varargs=varargs;try{var path=SYSCALLS.getStr(),buf=SYSCALLS.get(),bufsize=SYSCALLS.get();return SYSCALLS.doReadlink(path,buf,bufsize)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall91(which,varargs){SYSCALLS.varargs=varargs;try{var addr=SYSCALLS.get(),len=SYSCALLS.get();var info=SYSCALLS.mappings[addr];if(!info)return 0;if(len===info.len){var stream=FS.getStream(info.fd);SYSCALLS.doMsync(addr,stream,len,info.flags);FS.munmap(stream);SYSCALLS.mappings[addr]=null;if(info.allocated){_free(info.malloc)}}return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall94(which,varargs){SYSCALLS.varargs=varargs;try{var fd=SYSCALLS.get(),mode=SYSCALLS.get();FS.fchmod(fd,mode);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___unlock(){}function _exit(status){exit(status)}function __exit(a0){return _exit(a0)}function _abort(){Module["abort"]()}function _clock(){if(_clock.start===undefined)_clock.start=Date.now();return(Date.now()-_clock.start)*(1e6/1e3)|0}function _emscripten_get_heap_size(){return HEAP8.length}function _longjmp(env,value){_setThrew(env,value||1);throw"longjmp"}function _emscripten_longjmp(env,value){_longjmp(env,value)}function abortOnCannotGrowMemory(requestedSize){abort("OOM")}function emscripten_realloc_buffer(size){var PAGE_MULTIPLE=65536;size=alignUp(size,PAGE_MULTIPLE);var oldSize=buffer.byteLength;try{var result=wasmMemory.grow((size-oldSize)/65536);if(result!==(-1|0)){buffer=wasmMemory.buffer;return true}else{return false}}catch(e){return false}}function _emscripten_resize_heap(requestedSize){var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=65536;var LIMIT=2147483648-PAGE_MULTIPLE;if(requestedSize>LIMIT){return false}var MIN_TOTAL_MEMORY=16777216;var newSize=Math.max(oldSize,MIN_TOTAL_MEMORY);while(newSize<requestedSize){if(newSize<=536870912){newSize=alignUp(2*newSize,PAGE_MULTIPLE)}else{newSize=Math.min(alignUp((3*newSize+2147483648)/4,PAGE_MULTIPLE),LIMIT)}}if(!emscripten_realloc_buffer(newSize)){return false}updateGlobalBufferViews();return true}function _execl(){___setErrNo(8);return-1}function _execvp(){return _execl.apply(null,arguments)}function _fork(){___setErrNo(11);return-1}function _getenv(name){if(name===0)return 0;name=UTF8ToString(name);if(!ENV.hasOwnProperty(name))return 0;if(_getenv.ret)_free(_getenv.ret);_getenv.ret=allocateUTF8(ENV[name]);return _getenv.ret}function _getpwnam(){throw"getpwnam: TODO"}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}var ___tm_current=1403280;var ___tm_timezone=(stringToUTF8("GMT",1403328,4),1403328);function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+40>>2]=___tm_timezone;return tmPtr}function _gmtime(time){return _gmtime_r(time,___tm_current)}function _llvm_bswap_i64(l,h){var retl=_llvm_bswap_i32(h)>>>0;var reth=_llvm_bswap_i32(l)>>>0;return(setTempRet0(reth),retl)|0}function _llvm_exp2_f32(x){return Math.pow(2,x)}function _llvm_exp2_f64(a0){return _llvm_exp2_f32(a0)}function _llvm_log10_f32(x){return Math.log(x)/Math.LN10}function _llvm_log10_f64(a0){return _llvm_log10_f32(a0)}function _llvm_stackrestore(p){var self=_llvm_stacksave;var ret=self.LLVM_SAVEDSTACKS[p];self.LLVM_SAVEDSTACKS.splice(p,1);stackRestore(ret)}function _llvm_stacksave(){var self=_llvm_stacksave;if(!self.LLVM_SAVEDSTACKS){self.LLVM_SAVEDSTACKS=[]}self.LLVM_SAVEDSTACKS.push(stackSave());return self.LLVM_SAVEDSTACKS.length-1}function _llvm_trap(){abort("trap!")}function _tzset(){if(_tzset.called)return;_tzset.called=true;HEAP32[__get_timezone()>>2]=(new Date).getTimezoneOffset()*60;var winter=new Date(2e3,0,1);var summer=new Date(2e3,6,1);HEAP32[__get_daylight()>>2]=Number(winter.getTimezoneOffset()!=summer.getTimezoneOffset());function extractZone(date){var match=date.toTimeString().match(/\(([A-Za-z ]+)\)$/);return match?match[1]:"GMT"}var winterName=extractZone(winter);var summerName=extractZone(summer);var winterNamePtr=allocate(intArrayFromString(winterName),"i8",ALLOC_NORMAL);var summerNamePtr=allocate(intArrayFromString(summerName),"i8",ALLOC_NORMAL);if(summer.getTimezoneOffset()<winter.getTimezoneOffset()){HEAP32[__get_tzname()>>2]=winterNamePtr;HEAP32[__get_tzname()+4>>2]=summerNamePtr}else{HEAP32[__get_tzname()>>2]=summerNamePtr;HEAP32[__get_tzname()+4>>2]=winterNamePtr}}function _localtime_r(time,tmPtr){_tzset();var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getSeconds();HEAP32[tmPtr+4>>2]=date.getMinutes();HEAP32[tmPtr+8>>2]=date.getHours();HEAP32[tmPtr+12>>2]=date.getDate();HEAP32[tmPtr+16>>2]=date.getMonth();HEAP32[tmPtr+20>>2]=date.getFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getDay();var start=new Date(date.getFullYear(),0,1);var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+36>>2]=-(date.getTimezoneOffset()*60);var summerOffset=new Date(2e3,6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dst=(summerOffset!=winterOffset&&date.getTimezoneOffset()==Math.min(winterOffset,summerOffset))|0;HEAP32[tmPtr+32>>2]=dst;var zonePtr=HEAP32[__get_tzname()+(dst?4:0)>>2];HEAP32[tmPtr+40>>2]=zonePtr;return tmPtr}function _localtime(time){return _localtime_r(time,___tm_current)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest)}function _mktime(tmPtr){_tzset();var date=new Date(HEAP32[tmPtr+20>>2]+1900,HEAP32[tmPtr+16>>2],HEAP32[tmPtr+12>>2],HEAP32[tmPtr+8>>2],HEAP32[tmPtr+4>>2],HEAP32[tmPtr>>2],0);var dst=HEAP32[tmPtr+32>>2];var guessedOffset=date.getTimezoneOffset();var start=new Date(date.getFullYear(),0,1);var summerOffset=new Date(2e3,6,1).getTimezoneOffset();var winterOffset=start.getTimezoneOffset();var dstOffset=Math.min(winterOffset,summerOffset);if(dst<0){HEAP32[tmPtr+32>>2]=Number(summerOffset!=winterOffset&&dstOffset==guessedOffset)}else if(dst>0!=(dstOffset==guessedOffset)){var nonDstOffset=Math.max(winterOffset,summerOffset);var trueOffset=dst>0?dstOffset:nonDstOffset;date.setTime(date.getTime()+(trueOffset-guessedOffset)*6e4)}HEAP32[tmPtr+24>>2]=date.getDay();var yday=(date.getTime()-start.getTime())/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;return date.getTime()/1e3|0}function _usleep(useconds){var msec=useconds/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self["performance"]&&self["performance"]["now"]){var start=self["performance"]["now"]();while(self["performance"]["now"]()-start<msec){}}else{var start=Date.now();while(Date.now()-start<msec){}}return 0}function _nanosleep(rqtp,rmtp){var seconds=HEAP32[rqtp>>2];var nanoseconds=HEAP32[rqtp+4>>2];if(rmtp!==0){HEAP32[rmtp>>2]=0;HEAP32[rmtp+4>>2]=0}return _usleep(seconds*1e6+nanoseconds/1e3)}function _pthread_attr_init(attr){return 0}function _pthread_attr_setdetachstate(){}function _pthread_cond_destroy(){return 0}function _pthread_cond_init(){return 0}function _pthread_cond_signal(){return 0}function _pthread_cond_wait(){return 0}function _pthread_create(){return 11}function _pthread_join(){}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _raise(sig){___setErrNo(ERRNO_CODES.ENOSYS);return-1}function _sigaction(signum,act,oldact){return 0}function _sigaddset(set,signum){HEAP32[set>>2]=HEAP32[set>>2]|1<<signum-1;return 0}function _sigemptyset(set){HEAP32[set>>2]=0;return 0}var __sigalrm_handler=0;function _signal(sig,func){if(sig==14){__sigalrm_handler=func}else{}return 0}function _sigprocmask(){return 0}function __isLeapYear(year){return year%4===0&&(year%100!==0||year%400===0)}function __arraySum(array,index){var sum=0;for(var i=0;i<=index;sum+=array[i++]);return sum}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31];var __MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(date,days){var newDate=new Date(date.getTime());while(days>0){var leap=__isLeapYear(newDate.getFullYear());var currentMonth=newDate.getMonth();var daysInCurrentMonth=(leap?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[currentMonth];if(days>daysInCurrentMonth-newDate.getDate()){days-=daysInCurrentMonth-newDate.getDate()+1;newDate.setDate(1);if(currentMonth<11){newDate.setMonth(currentMonth+1)}else{newDate.setMonth(0);newDate.setFullYear(newDate.getFullYear()+1)}}else{newDate.setDate(newDate.getDate()+days);return newDate}}return newDate}function _strftime(s,maxsize,format,tm){var tm_zone=HEAP32[tm+40>>2];var date={tm_sec:HEAP32[tm>>2],tm_min:HEAP32[tm+4>>2],tm_hour:HEAP32[tm+8>>2],tm_mday:HEAP32[tm+12>>2],tm_mon:HEAP32[tm+16>>2],tm_year:HEAP32[tm+20>>2],tm_wday:HEAP32[tm+24>>2],tm_yday:HEAP32[tm+28>>2],tm_isdst:HEAP32[tm+32>>2],tm_gmtoff:HEAP32[tm+36>>2],tm_zone:tm_zone?UTF8ToString(tm_zone):""};var pattern=UTF8ToString(format);var EXPANSION_RULES_1={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var rule in EXPANSION_RULES_1){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_1[rule])}var WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function leadingSomething(value,digits,character){var str=typeof value==="number"?value.toString():value||"";while(str.length<digits){str=character[0]+str}return str}function leadingNulls(value,digits){return leadingSomething(value,digits,"0")}function compareByDay(date1,date2){function sgn(value){return value<0?-1:value>0?1:0}var compare;if((compare=sgn(date1.getFullYear()-date2.getFullYear()))===0){if((compare=sgn(date1.getMonth()-date2.getMonth()))===0){compare=sgn(date1.getDate()-date2.getDate())}}return compare}function getFirstWeekStartDate(janFourth){switch(janFourth.getDay()){case 0:return new Date(janFourth.getFullYear()-1,11,29);case 1:return janFourth;case 2:return new Date(janFourth.getFullYear(),0,3);case 3:return new Date(janFourth.getFullYear(),0,2);case 4:return new Date(janFourth.getFullYear(),0,1);case 5:return new Date(janFourth.getFullYear()-1,11,31);case 6:return new Date(janFourth.getFullYear()-1,11,30)}}function getWeekBasedYear(date){var thisDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);var janFourthThisYear=new Date(thisDate.getFullYear(),0,4);var janFourthNextYear=new Date(thisDate.getFullYear()+1,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);if(compareByDay(firstWeekStartThisYear,thisDate)<=0){if(compareByDay(firstWeekStartNextYear,thisDate)<=0){return thisDate.getFullYear()+1}else{return thisDate.getFullYear()}}else{return thisDate.getFullYear()-1}}var EXPANSION_RULES_2={"%a":function(date){return WEEKDAYS[date.tm_wday].substring(0,3)},"%A":function(date){return WEEKDAYS[date.tm_wday]},"%b":function(date){return MONTHS[date.tm_mon].substring(0,3)},"%B":function(date){return MONTHS[date.tm_mon]},"%C":function(date){var year=date.tm_year+1900;return leadingNulls(year/100|0,2)},"%d":function(date){return leadingNulls(date.tm_mday,2)},"%e":function(date){return leadingSomething(date.tm_mday,2," ")},"%g":function(date){return getWeekBasedYear(date).toString().substring(2)},"%G":function(date){return getWeekBasedYear(date)},"%H":function(date){return leadingNulls(date.tm_hour,2)},"%I":function(date){var twelveHour=date.tm_hour;if(twelveHour==0)twelveHour=12;else if(twelveHour>12)twelveHour-=12;return leadingNulls(twelveHour,2)},"%j":function(date){return leadingNulls(date.tm_mday+__arraySum(__isLeapYear(date.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,date.tm_mon-1),3)},"%m":function(date){return leadingNulls(date.tm_mon+1,2)},"%M":function(date){return leadingNulls(date.tm_min,2)},"%n":function(){return"\n"},"%p":function(date){if(date.tm_hour>=0&&date.tm_hour<12){return"AM"}else{return"PM"}},"%S":function(date){return leadingNulls(date.tm_sec,2)},"%t":function(){return"\t"},"%u":function(date){var day=new Date(date.tm_year+1900,date.tm_mon+1,date.tm_mday,0,0,0,0);return day.getDay()||7},"%U":function(date){var janFirst=new Date(date.tm_year+1900,0,1);var firstSunday=janFirst.getDay()===0?janFirst:__addDays(janFirst,7-janFirst.getDay());var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstSunday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstSundayUntilEndJanuary=31-firstSunday.getDate();var days=firstSundayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstSunday,janFirst)===0?"01":"00"},"%V":function(date){var janFourthThisYear=new Date(date.tm_year+1900,0,4);var janFourthNextYear=new Date(date.tm_year+1901,0,4);var firstWeekStartThisYear=getFirstWeekStartDate(janFourthThisYear);var firstWeekStartNextYear=getFirstWeekStartDate(janFourthNextYear);var endDate=__addDays(new Date(date.tm_year+1900,0,1),date.tm_yday);if(compareByDay(endDate,firstWeekStartThisYear)<0){return"53"}if(compareByDay(firstWeekStartNextYear,endDate)<=0){return"01"}var daysDifference;if(firstWeekStartThisYear.getFullYear()<date.tm_year+1900){daysDifference=date.tm_yday+32-firstWeekStartThisYear.getDate()}else{daysDifference=date.tm_yday+1-firstWeekStartThisYear.getDate()}return leadingNulls(Math.ceil(daysDifference/7),2)},"%w":function(date){var day=new Date(date.tm_year+1900,date.tm_mon+1,date.tm_mday,0,0,0,0);return day.getDay()},"%W":function(date){var janFirst=new Date(date.tm_year,0,1);var firstMonday=janFirst.getDay()===1?janFirst:__addDays(janFirst,janFirst.getDay()===0?1:7-janFirst.getDay()+1);var endDate=new Date(date.tm_year+1900,date.tm_mon,date.tm_mday);if(compareByDay(firstMonday,endDate)<0){var februaryFirstUntilEndMonth=__arraySum(__isLeapYear(endDate.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,endDate.getMonth()-1)-31;var firstMondayUntilEndJanuary=31-firstMonday.getDate();var days=firstMondayUntilEndJanuary+februaryFirstUntilEndMonth+endDate.getDate();return leadingNulls(Math.ceil(days/7),2)}return compareByDay(firstMonday,janFirst)===0?"01":"00"},"%y":function(date){return(date.tm_year+1900).toString().substring(2)},"%Y":function(date){return date.tm_year+1900},"%z":function(date){var off=date.tm_gmtoff;var ahead=off>=0;off=Math.abs(off)/60;off=off/60*100+off%60;return(ahead?"+":"-")+String("0000"+off).slice(-4)},"%Z":function(date){return date.tm_zone},"%%":function(){return"%"}};for(var rule in EXPANSION_RULES_2){if(pattern.indexOf(rule)>=0){pattern=pattern.replace(new RegExp(rule,"g"),EXPANSION_RULES_2[rule](date))}}var bytes=intArrayFromString(pattern,false);if(bytes.length>maxsize){return 0}writeArrayToMemory(bytes,s);return bytes.length-1}function _strftime_l(s,maxsize,format,tm){return _strftime(s,maxsize,format,tm)}function _sysconf(name){switch(name){case 30:return PAGE_SIZE;case 85:var maxHeapSize=2*1024*1024*1024-65536;return maxHeapSize/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator==="object")return navigator["hardwareConcurrency"]||1;return 1}}___setErrNo(22);return-1}function _system(command){___setErrNo(11);return-1}function _time(ptr){var ret=Date.now()/1e3|0;if(ptr){HEAP32[ptr>>2]=ret}return ret}function _times(buffer){if(buffer!==0){_memset(buffer,0,16)}return 0}function _utime(path,times){var time;if(times){var offset=4;time=HEAP32[times+offset>>2];time*=1e3}else{time=Date.now()}path=UTF8ToString(path);try{FS.utime(path,time,time);return 0}catch(e){FS.handleFSError(e);return-1}}function _wait(stat_loc){___setErrNo(10);return-1}function _waitpid(){return _wait.apply(null,arguments)}if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function _emscripten_get_now_actual(){var t=process["hrtime"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!=="undefined"){_emscripten_get_now=dateNow}else if(typeof performance==="object"&&performance&&typeof performance["now"]==="function"){_emscripten_get_now=function(){return performance["now"]()}}else{_emscripten_get_now=Date.now}FS.staticInit();if(ENVIRONMENT_IS_NODE){var fs=require("fs");var NODEJS_PATH=require("path");NODEFS.staticInit()}function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}function invoke_dii(index,a1,a2){var sp=stackSave();try{return dynCall_dii(index,a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_i(index){var sp=stackSave();try{return dynCall_i(index)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return dynCall_ii(index,a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iifi(index,a1,a2,a3){var sp=stackSave();try{return dynCall_iifi(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return dynCall_iii(index,a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return dynCall_iiii(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiii(index,a1,a2,a3,a4){var sp=stackSave();try{return dynCall_iiiii(index,a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{return dynCall_iiiiii(index,a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return dynCall_iiiiiii(index,a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iiijj(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{return dynCall_iiijj(index,a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_iij(index,a1,a2,a3){var sp=stackSave();try{return dynCall_iij(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_ji(index,a1){var sp=stackSave();try{return dynCall_ji(index,a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_v(index){var sp=stackSave();try{dynCall_v(index)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vi(index,a1){var sp=stackSave();try{dynCall_vi(index,a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vii(index,a1,a2){var sp=stackSave();try{dynCall_vii(index,a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viid(index,a1,a2,a3){var sp=stackSave();try{dynCall_viid(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viidddddddd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{dynCall_viidddddddd(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{dynCall_viii(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{dynCall_viiii(index,a1,a2,a3,a4)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{dynCall_viiiii(index,a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiii(index,a1,a2,a3,a4,a5,a6){var sp=stackSave();try{dynCall_viiiiii(index,a1,a2,a3,a4,a5,a6)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8){var sp=stackSave();try{dynCall_viiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9){var sp=stackSave();try{dynCall_viiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10){var sp=stackSave();try{dynCall_viiiiiiiiii(index,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}function invoke_vij(index,a1,a2,a3){var sp=stackSave();try{dynCall_vij(index,a1,a2,a3)}catch(e){stackRestore(sp);if(e!==e+0&&e!=="longjmp")throw e;_setThrew(1,0)}}var asmGlobalArg={};var asmLibraryArg={r:abort,e:setTempRet0,c:getTempRet0,$:invoke_dii,T:invoke_i,o:invoke_ii,za:invoke_iifi,l:invoke_iii,m:invoke_iiii,w:invoke_iiiii,W:invoke_iiiiii,h:invoke_iiiiiii,hb:invoke_iiijj,gb:invoke_iij,fb:invoke_ji,ka:invoke_v,j:invoke_vi,n:invoke_vii,ja:invoke_viid,ia:invoke_viidddddddd,x:invoke_viii,k:invoke_viiii,K:invoke_viiiii,cb:invoke_viiiiii,y:invoke_viiiiiiii,ha:invoke_viiiiiiiii,bb:invoke_viiiiiiiiii,eb:invoke_vij,b:___assert_fail,ab:___buildEnvironment,$a:___clock_gettime,f:___cxa_allocate_exception,_a:___cxa_pure_virtual,g:___cxa_throw,Za:___cxa_uncaught_exception,V:___lock,Ya:___map_file,ga:___setErrNo,fa:___syscall10,Xa:___syscall114,Wa:___syscall118,ea:___syscall140,Va:___syscall145,da:___syscall146,Ua:___syscall15,Ta:___syscall180,Sa:___syscall181,Ra:___syscall183,Qa:___syscall191,Pa:___syscall192,ca:___syscall195,Oa:___syscall197,Na:___syscall20,Ma:___syscall220,R:___syscall221,La:___syscall3,Ka:___syscall324,Ja:___syscall33,Ia:___syscall340,Ha:___syscall38,Ga:___syscall4,Fa:___syscall40,ba:___syscall5,aa:___syscall54,X:___syscall6,Ea:___syscall77,Da:___syscall83,Ca:___syscall85,Ba:___syscall91,Aa:___syscall94,Q:___unlock,i:__exit,q:_abort,ya:_clock,H:_clock_gettime,xa:_emscripten_get_heap_size,wa:_emscripten_longjmp,va:_emscripten_memcpy_big,ua:_emscripten_resize_heap,ta:_execvp,_:_exit,sa:_fork,t:_getenv,ra:_getpwnam,P:_gettimeofday,Z:_gmtime,F:_gmtime_r,db:_llvm_bswap_i64,s:_llvm_exp2_f32,S:_llvm_exp2_f64,p:_llvm_log10_f64,O:_llvm_stackrestore,N:_llvm_stacksave,I:_llvm_trap,qa:_localtime,d:_longjmp,G:_mktime,z:_nanosleep,pa:_pthread_attr_init,oa:_pthread_attr_setdetachstate,J:_pthread_cond_destroy,Y:_pthread_cond_init,D:_pthread_cond_signal,v:_pthread_cond_wait,na:_pthread_create,U:_pthread_join,nb:_raise,C:_sigaction,B:_sigaddset,A:_sigemptyset,mb:_signal,u:_sigprocmask,ma:_strftime,lb:_strftime_l,E:_sysconf,la:_system,M:_time,L:_times,kb:_utime,jb:_waitpid,ib:abortOnCannotGrowMemory,a:DYNAMICTOP_PTR};var asm=Module["asm"](asmGlobalArg,asmLibraryArg,buffer);Module["asm"]=asm;var __ZSt18uncaught_exceptionv=Module["__ZSt18uncaught_exceptionv"]=function(){return Module["asm"]["ob"].apply(null,arguments)};var ___emscripten_environ_constructor=Module["___emscripten_environ_constructor"]=function(){return Module["asm"]["pb"].apply(null,arguments)};var ___errno_location=Module["___errno_location"]=function(){return Module["asm"]["qb"].apply(null,arguments)};var __get_daylight=Module["__get_daylight"]=function(){return Module["asm"]["rb"].apply(null,arguments)};var __get_timezone=Module["__get_timezone"]=function(){return Module["asm"]["sb"].apply(null,arguments)};var __get_tzname=Module["__get_tzname"]=function(){return Module["asm"]["tb"].apply(null,arguments)};var _free=Module["_free"]=function(){return Module["asm"]["ub"].apply(null,arguments)};var _llvm_bswap_i32=Module["_llvm_bswap_i32"]=function(){return Module["asm"]["vb"].apply(null,arguments)};var _main=Module["_main"]=function(){return Module["asm"]["wb"].apply(null,arguments)};var _malloc=Module["_malloc"]=function(){return Module["asm"]["xb"].apply(null,arguments)};var _memalign=Module["_memalign"]=function(){return Module["asm"]["yb"].apply(null,arguments)};var _memset=Module["_memset"]=function(){return Module["asm"]["zb"].apply(null,arguments)};var _setThrew=Module["_setThrew"]=function(){return Module["asm"]["Ab"].apply(null,arguments)};var stackAlloc=Module["stackAlloc"]=function(){return Module["asm"]["_b"].apply(null,arguments)};var stackRestore=Module["stackRestore"]=function(){return Module["asm"]["$b"].apply(null,arguments)};var stackSave=Module["stackSave"]=function(){return Module["asm"]["ac"].apply(null,arguments)};var dynCall_dii=Module["dynCall_dii"]=function(){return Module["asm"]["Bb"].apply(null,arguments)};var dynCall_i=Module["dynCall_i"]=function(){return Module["asm"]["Cb"].apply(null,arguments)};var dynCall_ii=Module["dynCall_ii"]=function(){return Module["asm"]["Db"].apply(null,arguments)};var dynCall_iifi=Module["dynCall_iifi"]=function(){return Module["asm"]["Eb"].apply(null,arguments)};var dynCall_iii=Module["dynCall_iii"]=function(){return Module["asm"]["Fb"].apply(null,arguments)};var dynCall_iiii=Module["dynCall_iiii"]=function(){return Module["asm"]["Gb"].apply(null,arguments)};var dynCall_iiiii=Module["dynCall_iiiii"]=function(){return Module["asm"]["Hb"].apply(null,arguments)};var dynCall_iiiiii=Module["dynCall_iiiiii"]=function(){return Module["asm"]["Ib"].apply(null,arguments)};var dynCall_iiiiiii=Module["dynCall_iiiiiii"]=function(){return Module["asm"]["Jb"].apply(null,arguments)};var dynCall_iiijj=Module["dynCall_iiijj"]=function(){return Module["asm"]["Kb"].apply(null,arguments)};var dynCall_iij=Module["dynCall_iij"]=function(){return Module["asm"]["Lb"].apply(null,arguments)};var dynCall_ji=Module["dynCall_ji"]=function(){return Module["asm"]["Mb"].apply(null,arguments)};var dynCall_v=Module["dynCall_v"]=function(){return Module["asm"]["Nb"].apply(null,arguments)};var dynCall_vi=Module["dynCall_vi"]=function(){return Module["asm"]["Ob"].apply(null,arguments)};var dynCall_vii=Module["dynCall_vii"]=function(){return Module["asm"]["Pb"].apply(null,arguments)};var dynCall_viid=Module["dynCall_viid"]=function(){return Module["asm"]["Qb"].apply(null,arguments)};var dynCall_viidddddddd=Module["dynCall_viidddddddd"]=function(){return Module["asm"]["Rb"].apply(null,arguments)};var dynCall_viii=Module["dynCall_viii"]=function(){return Module["asm"]["Sb"].apply(null,arguments)};var dynCall_viiii=Module["dynCall_viiii"]=function(){return Module["asm"]["Tb"].apply(null,arguments)};var dynCall_viiiii=Module["dynCall_viiiii"]=function(){return Module["asm"]["Ub"].apply(null,arguments)};var dynCall_viiiiii=Module["dynCall_viiiiii"]=function(){return Module["asm"]["Vb"].apply(null,arguments)};var dynCall_viiiiiiii=Module["dynCall_viiiiiiii"]=function(){return Module["asm"]["Wb"].apply(null,arguments)};var dynCall_viiiiiiiii=Module["dynCall_viiiiiiiii"]=function(){return Module["asm"]["Xb"].apply(null,arguments)};var dynCall_viiiiiiiiii=Module["dynCall_viiiiiiiiii"]=function(){return Module["asm"]["Yb"].apply(null,arguments)};var dynCall_vij=Module["dynCall_vij"]=function(){return Module["asm"]["Zb"].apply(null,arguments)};Module["asm"]=asm;function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var calledMain=false;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};Module["callMain"]=function callMain(args){args=args||[];ensureInitRuntime();var argc=args.length+1;var argv=stackAlloc((argc+1)*4);HEAP32[argv>>2]=allocateUTF8OnStack(Module["thisProgram"]);for(var i=1;i<argc;i++){HEAP32[(argv>>2)+i]=allocateUTF8OnStack(args[i-1])}HEAP32[(argv>>2)+argc]=0;try{var ret=Module["_main"](argc,argv,0);exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e=="SimulateInfiniteLoop"){Module["noExitRuntime"]=true;return}else{var toLog=e;if(e&&typeof e==="object"&&e.stack){toLog=[e,e.stack]}err("exception thrown: "+toLog);Module["quit"](1,e)}}finally{calledMain=true}};function run(args){args=args||Module["arguments"];if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();if(Module["_main"]&&shouldRunNow)Module["callMain"](args);postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){Module["setStatus"]("")}),1);doRun()}),1)}else{doRun()}}Module["run"]=run;function exit(status,implicit){if(implicit&&Module["noExitRuntime"]&&status===0){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=status;exitRuntime();if(Module["onExit"])Module["onExit"](status)}Module["quit"](status,new ExitStatus(status))}function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){out(what);err(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;throw"abort("+what+"). Build with -s ASSERTIONS=1 for more info."}Module["abort"]=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}var shouldRunNow=true;if(Module["noInitialRun"]){shouldRunNow=false}Module["noExitRuntime"]=true;run()}).call(this,require("_process"),require("buffer").Buffer,"/dist/src/imageMagick/compiled")},{"../createMain":9,"../magickLoaded":11,_process:205,buffer:80,crypto:89,fs:78,path:198}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const options_1=require("../options");const magickLoaded_1=require("./magickLoaded");function createMain(Module,FS){return function main(...args){var debug=options_1.getOption("debug");magickLoaded_1.resetStdout();magickLoaded_1.resetStderr();let returnValue,error;try{Module.noExitRuntime=true;debug&&console.log("before Module.callMain");returnValue=Module.callMain(...args);debug&&console.log("after Module.callMain",returnValue)}catch(ex){debug&&console.error(ex);error=ex}return{returnValue:returnValue,stdout:magickLoaded_1.getStdout(),stderr:magickLoaded_1.getStderr(),error:error}}}exports.createMain=createMain},{"../options":20,"./magickLoaded":11}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var imList;(function(imList){let Align;(function(Align){Align["Center"]="Center";Align["End"]="End";Align["Left"]="Left";Align["Middle"]="Middle";Align["Right"]="Right";Align["Start"]="Start"})(Align=imList.Align||(imList.Align={}));let Alpha;(function(Alpha){Alpha["Activate"]="Activate";Alpha["Associate"]="Associate";Alpha["Background"]="Background";Alpha["Copy"]="Copy";Alpha["Deactivate"]="Deactivate";Alpha["Discrete"]="Discrete";Alpha["Disassociate"]="Disassociate";Alpha["Extract"]="Extract";Alpha["Off"]="Off";Alpha["On"]="On";Alpha["Opaque"]="Opaque";Alpha["Remove"]="Remove";Alpha["Set"]="Set";Alpha["Shape"]="Shape";Alpha["Transparent"]="Transparent"})(Alpha=imList.Alpha||(imList.Alpha={}));let AutoThreshold;(function(AutoThreshold){AutoThreshold["Kapur"]="Kapur";AutoThreshold["OTSU"]="OTSU";AutoThreshold["Triangle"]="Triangle"})(AutoThreshold=imList.AutoThreshold||(imList.AutoThreshold={}));let Boolean_;(function(Boolean_){Boolean_["False"]="False";Boolean_["True"]="True"})(Boolean_=imList.Boolean_||(imList.Boolean_={}));let Cache_;(function(Cache_){Cache_["Disk"]="Disk";Cache_["Distributed"]="Distributed";Cache_["Map"]="Map";Cache_["Memory"]="Memory";Cache_["Ping"]="Ping"})(Cache_=imList.Cache_||(imList.Cache_={}));let Channel;(function(Channel){Channel["All"]="All";Channel["Sync"]="Sync";Channel["Default"]="Default";Channel["A"]="A";Channel["Alpha"]="Alpha";Channel["Black"]="Black";Channel["B"]="B";Channel["Blue"]="Blue";Channel["C"]="C";Channel["Chroma"]="Chroma";Channel["Cyan"]="Cyan";Channel["Gray"]="Gray";Channel["G"]="G";Channel["Green"]="Green";Channel["H"]="H";Channel["Hue"]="Hue";Channel["K"]="K";Channel["L"]="L";Channel["Lightness"]="Lightness";Channel["Luminance"]="Luminance";Channel["M"]="M";Channel["Magenta"]="Magenta";Channel["Meta"]="Meta";Channel["R"]="R";Channel["Red"]="Red";Channel["S"]="S";Channel["Saturation"]="Saturation";Channel["Y"]="Y";Channel["Yellow"]="Yellow"})(Channel=imList.Channel||(imList.Channel={}));let Class;(function(Class){Class["DirectClass"]="DirectClass";Class["PseudoClass"]="PseudoClass"})(Class=imList.Class||(imList.Class={}));let CLI;(function(CLI){CLI["Setting"]="Setting";CLI["adjoin"]="adjoin";CLI["affine"]="affine";CLI["alpha"]="alpha";CLI["antialias"]="antialias";CLI["authenticate"]="authenticate";CLI["background"]="background";CLI["bias"]="bias";CLI["black-point-compensation"]="black-point-compensation";CLI["blue-primary"]="blue-primary";CLI["bordercolor"]="bordercolor";CLI["caption"]="caption";CLI["channel"]="channel";CLI["comment"]="comment";CLI["compress"]="compress";CLI["debug"]="debug";CLI["define"]="define";CLI["delay"]="delay";CLI["density"]="density";CLI["depth"]="depth";CLI["direction"]="direction";CLI["display"]="display";CLI["dispose"]="dispose";CLI["dither"]="dither";CLI["encoding"]="encoding";CLI["endian"]="endian";CLI["extract"]="extract";CLI["family"]="family";CLI["fill"]="fill";CLI["filter"]="filter";CLI["font"]="font";CLI["format"]="format";CLI["fuzz"]="fuzz";CLI["geometry"]="geometry";CLI["gravity"]="gravity";CLI["green-primary"]="green-primary";CLI["interlace"]="interlace";CLI["intent"]="intent";CLI["interpolate"]="interpolate";CLI["label"]="label";CLI["limit"]="limit";CLI["linewidth"]="linewidth";CLI["log"]="log";CLI["loop"]="loop";CLI["mattecolor"]="mattecolor";CLI["monitor"]="monitor";CLI["orient"]="orient";CLI["page"]="page";CLI["pointsize"]="pointsize";CLI["preview"]="preview";CLI["quality"]="quality";CLI["quiet"]="quiet";CLI["read-mask"]="read-mask";CLI["red-primary"]="red-primary";CLI["region"]="region";CLI["render"]="render";CLI["repage"]="repage";CLI["sampling-factor"]="sampling-factor";CLI["scene"]="scene";CLI["seed"]="seed";CLI["size"]="size";CLI["stretch"]="stretch";CLI["stroke"]="stroke";CLI["strokewidth"]="strokewidth";CLI["style"]="style";CLI["texture"]="texture";CLI["tile"]="tile";CLI["transparent-color"]="transparent-color";CLI["treedepth"]="treedepth";CLI["type"]="type";CLI["undercolor"]="undercolor";CLI["units"]="units";CLI["verbose"]="verbose";CLI["virtual-pixel"]="virtual-pixel";CLI["weight"]="weight";CLI["write-mask"]="write-mask";CLI["Operator"]="Operator";CLI["annotate"]="annotate";CLI["black-threshold"]="black-threshold";CLI["blur"]="blur";CLI["border"]="border";CLI["charcoal"]="charcoal";CLI["chop"]="chop";CLI["clip"]="clip";CLI["clip-path"]="clip-path";CLI["clip-mask"]="clip-mask";CLI["colors"]="colors";CLI["colorize"]="colorize";CLI["colorspace"]="colorspace";CLI["compose"]="compose";CLI["contrast"]="contrast";CLI["convolve"]="convolve";CLI["crop"]="crop";CLI["cycle"]="cycle";CLI["despeckle"]="despeckle";CLI["draw"]="draw";CLI["edge"]="edge";CLI["emboss"]="emboss";CLI["enhance"]="enhance";CLI["equalize"]="equalize";CLI["evaluate"]="evaluate";CLI["extent"]="extent";CLI["flip"]="flip";CLI["flop"]="flop";CLI["floodfill"]="floodfill";CLI["frame"]="frame";CLI["gamma"]="gamma";CLI["gaussian-blur"]="gaussian-blur";CLI["grayscale"]="grayscale";CLI["implode"]="implode";CLI["lat"]="lat";CLI["level"]="level";CLI["map"]="map";CLI["median"]="median";CLI["modulate"]="modulate";CLI["monochrome"]="monochrome";CLI["negate"]="negate";CLI["noise"]="noise";CLI["normalize"]="normalize";CLI["opaque"]="opaque";CLI["ordered-dither"]="ordered-dither";CLI["paint"]="paint";CLI["posterize"]="posterize";CLI["raise"]="raise";CLI["profile"]="profile";CLI["radial-blur"]="radial-blur";CLI["random-threshold"]="random-threshold";CLI["range-threshold"]="range-threshold";CLI["resample"]="resample";CLI["resize"]="resize";CLI["roll"]="roll";CLI["rotate"]="rotate";CLI["sample"]="sample";CLI["scale"]="scale";CLI["sepia-tone"]="sepia-tone";CLI["segment"]="segment";CLI["shade"]="shade";CLI["shadow"]="shadow";CLI["sharpen"]="sharpen";CLI["shave"]="shave";CLI["shear"]="shear";CLI["sigmoidal-contrast"]="sigmoidal-contrast";CLI["solarize"]="solarize";CLI["splice"]="splice";CLI["spread"]="spread";CLI["strip"]="strip";CLI["swirl"]="swirl";CLI["threshold"]="threshold";CLI["transparent"]="transparent";CLI["thumbnail"]="thumbnail";CLI["tint"]="tint";CLI["transform"]="transform";CLI["trim"]="trim";CLI["unsharp"]="unsharp";CLI["version"]="version";CLI["wave"]="wave";CLI["white-point"]="white-point";CLI["white-threshold"]="white-threshold";CLI["Channel Operator"]="Channel Operator";CLI["channel-fx"]="channel-fx";CLI["separate"]="separate";CLI["Sequence Operator"]="Sequence Operator";CLI["append"]="append";CLI["affinity"]="affinity";CLI["average"]="average";CLI["clut"]="clut";CLI["coalesce"]="coalesce";CLI["combine"]="combine";CLI["compare"]="compare";CLI["complex"]="complex";CLI["composite"]="composite";CLI["copy"]="copy";CLI["deconstruct"]="deconstruct";CLI["delete"]="delete";CLI["evaluate-sequence"]="evaluate-sequence";CLI["fft"]="fft";CLI["flatten"]="flatten";CLI["fx"]="fx";CLI["hald-clut"]="hald-clut";CLI["ift"]="ift";CLI["identify"]="identify";CLI["insert"]="insert";CLI["layers"]="layers";CLI["maximum"]="maximum";CLI["minimum"]="minimum";CLI["morph"]="morph";CLI["mosaic"]="mosaic";CLI["optimize"]="optimize";CLI["print"]="print";CLI["process"]="process";CLI["swap"]="swap";CLI["write"]="write";CLI["Geometry"]="Geometry";CLI["adaptive-resize"]="adaptive-resize";CLI["borderwidth"]="borderwidth";CLI["iconGeometry"]="iconGeometry";CLI["liquid-rescale"]="liquid-rescale";CLI["window"]="window";CLI["Stack"]="Stack";CLI["clone"]="clone"})(CLI=imList.CLI||(imList.CLI={}));let ClipPath;(function(ClipPath){ClipPath["ObjectBoundingBox"]="ObjectBoundingBox";ClipPath["UserSpace"]="UserSpace";ClipPath["UserSpaceOnUse"]="UserSpaceOnUse"})(ClipPath=imList.ClipPath||(imList.ClipPath={}));let Coder;(function(Coder){Coder[""]="";Coder["Path: [built-in]"]="Path: [built-in]";Coder["Magick          Coder"]="Magick          Coder";Coder["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Coder["BGRO            BGR"]="BGRO            BGR";Coder["BGRA            BGR"]="BGRA            BGR";Coder["BMP2            BMP"]="BMP2            BMP";Coder["BMP3            BMP"]="BMP3            BMP";Coder["UBRL6           BRAILLE"]="UBRL6           BRAILLE";Coder["ISOBRL6         BRAILLE"]="ISOBRL6         BRAILLE";Coder["ISOBRL          BRAILLE"]="ISOBRL          BRAILLE";Coder["BRF             BRAILLE"]="BRF             BRAILLE";Coder["UBRL            BRAILLE"]="UBRL            BRAILLE";Coder["CAL             CALS"]="CAL             CALS";Coder["CMYKA           CMYK"]="CMYKA           CMYK";Coder["DXT5            DDS"]="DXT5            DDS";Coder["DXT1            DDS"]="DXT1            DDS";Coder["ICODIB          DIB"]="ICODIB          DIB";Coder["ARW             DNG"]="ARW             DNG";Coder["MRW             DNG"]="MRW             DNG";Coder["PEF             DNG"]="PEF             DNG";Coder["SR2             DNG"]="SR2             DNG";Coder["MEF             DNG"]="MEF             DNG";Coder["ORF             DNG"]="ORF             DNG";Coder["CRW             DNG"]="CRW             DNG";Coder["RW2             DNG"]="RW2             DNG";Coder["CR2             DNG"]="CR2             DNG";Coder["NRW             DNG"]="NRW             DNG";Coder["RAW             DNG"]="RAW             DNG";Coder["ERF             DNG"]="ERF             DNG";Coder["K25             DNG"]="K25             DNG";Coder["DCRAW           DNG"]="DCRAW           DNG";Coder["DCR             DNG"]="DCR             DNG";Coder["SRF             DNG"]="SRF             DNG";Coder["NEF             DNG"]="NEF             DNG";Coder["RMF             DNG"]="RMF             DNG";Coder["IIQ             DNG"]="IIQ             DNG";Coder["KDC             DNG"]="KDC             DNG";Coder["RAF             DNG"]="RAF             DNG";Coder["X3F             DNG"]="X3F             DNG";Coder["EPT2            EPT"]="EPT2            EPT";Coder["EPT3            EPT"]="EPT3            EPT";Coder["G3              FAX"]="G3              FAX";Coder["G4              FAX"]="G4              FAX";Coder["FTS             FITS"]="FTS             FITS";Coder["GIF87           GIF"]="GIF87           GIF";Coder["RADIAL-GRADIENT GRADIENT"]="RADIAL-GRADIENT GRADIENT";Coder["GRAYA           GRAY"]="GRAYA           GRAY";Coder["SHTML           HTML"]="SHTML           HTML";Coder["HTM             HTML"]="HTM             HTML";Coder["CUR             ICON"]="CUR             ICON";Coder["ICO             ICON"]="ICO             ICON";Coder["DATA            INLINE"]="DATA            INLINE";Coder["J2K             JP2"]="J2K             JP2";Coder["JPM             JP2"]="JPM             JP2";Coder["JPC             JP2"]="JPC             JP2";Coder["JPT             JP2"]="JPT             JP2";Coder["J2C             JP2"]="J2C             JP2";Coder["PJPEG           JPEG"]="PJPEG           JPEG";Coder["JPG             JPEG"]="JPG             JPEG";Coder["JPE             JPEG"]="JPE             JPEG";Coder["JPS             JPEG"]="JPS             JPEG";Coder["ROSE            MAGICK"]="ROSE            MAGICK";Coder["WIZARD          MAGICK"]="WIZARD          MAGICK";Coder["LOGO            MAGICK"]="LOGO            MAGICK";Coder["GRANITE         MAGICK"]="GRANITE         MAGICK";Coder["NETSCAPE        MAGICK"]="NETSCAPE        MAGICK";Coder["H               MAGICK"]="H               MAGICK";Coder["ICM             META"]="ICM             META";Coder["ICC             META"]="ICC             META";Coder["IPTCTEXT        META"]="IPTCTEXT        META";Coder["XMP             META"]="XMP             META";Coder["EXIF            META"]="EXIF            META";Coder["IPTC            META"]="IPTC            META";Coder["APP1JPEG        META"]="APP1JPEG        META";Coder["APP1            META"]="APP1            META";Coder["IPTCWTEXT       META"]="IPTCWTEXT       META";Coder["CACHE           MPC"]="CACHE           MPC";Coder["WMV             MPEG"]="WMV             MPEG";Coder["FLV             MPEG"]="FLV             MPEG";Coder["MPG             MPEG"]="MPG             MPEG";Coder["AVI             MPEG"]="AVI             MPEG";Coder["MP4             MPEG"]="MP4             MPEG";Coder["MOV             MPEG"]="MOV             MPEG";Coder["M2V             MPEG"]="M2V             MPEG";Coder["M4V             MPEG"]="M4V             MPEG";Coder["MKV             MPEG"]="MKV             MPEG";Coder["MPRI            MPR"]="MPRI            MPR";Coder["PCDS            PCD"]="PCDS            PCD";Coder["DCX             PCX"]="DCX             PCX";Coder["EPDF            PDF"]="EPDF            PDF";Coder["PDFA            PDF"]="PDFA            PDF";Coder["AI              PDF"]="AI              PDF";Coder["PCT             PICT"]="PCT             PICT";Coder["FRACTAL         PLASMA"]="FRACTAL         PLASMA";Coder["PNG00           PNG"]="PNG00           PNG";Coder["PNG48           PNG"]="PNG48           PNG";Coder["PNG24           PNG"]="PNG24           PNG";Coder["MNG             PNG"]="MNG             PNG";Coder["JNG             PNG"]="JNG             PNG";Coder["PNG32           PNG"]="PNG32           PNG";Coder["PNG64           PNG"]="PNG64           PNG";Coder["PNG8            PNG"]="PNG8            PNG";Coder["PBM             PNM"]="PBM             PNM";Coder["PAM             PNM"]="PAM             PNM";Coder["PPM             PNM"]="PPM             PNM";Coder["PFM             PNM"]="PFM             PNM";Coder["PGM             PNM"]="PGM             PNM";Coder["EPSF            PS"]="EPSF            PS";Coder["EPS             PS"]="EPS             PS";Coder["EPI             PS"]="EPI             PS";Coder["EPSI            PS"]="EPSI            PS";Coder["EPS2            PS2"]="EPS2            PS2";Coder["EPS3            PS3"]="EPS3            PS3";Coder["PSB             PSD"]="PSB             PSD";Coder["O               RAW"]="O               RAW";Coder["Y               RAW"]="Y               RAW";Coder["M               RAW"]="M               RAW";Coder["K               RAW"]="K               RAW";Coder["G               RAW"]="G               RAW";Coder["C               RAW"]="C               RAW";Coder["B               RAW"]="B               RAW";Coder["A               RAW"]="A               RAW";Coder["R               RAW"]="R               RAW";Coder["RGBA            RGB"]="RGBA            RGB";Coder["RGBO            RGB"]="RGBO            RGB";Coder["RGB565          RGB"]="RGB565          RGB";Coder["SIX             SIXEL"]="SIX             SIXEL";Coder["RAS             SUN"]="RAS             SUN";Coder["MSVG            SVG"]="MSVG            SVG";Coder["SVGZ            SVG"]="SVGZ            SVG";Coder["ICB             TGA"]="ICB             TGA";Coder["VDA             TGA"]="VDA             TGA";Coder["VST             TGA"]="VST             TGA";Coder["TIF             TIFF"]="TIF             TIFF";Coder["GROUP4          TIFF"]="GROUP4          TIFF";Coder["TIFF64          TIFF"]="TIFF64          TIFF";Coder["PTIF            TIFF"]="PTIF            TIFF";Coder["TM2             TIM2"]="TM2             TIM2";Coder["OTF             TTF"]="OTF             TTF";Coder["DFONT           TTF"]="DFONT           TTF";Coder["PFA             TTF"]="PFA             TTF";Coder["PFB             TTF"]="PFB             TTF";Coder["TTC             TTF"]="TTC             TTF";Coder["TEXT            TXT"]="TEXT            TXT";Coder["SPARSE-COLOR    TXT"]="SPARSE-COLOR    TXT";Coder["HTTPS           URL"]="HTTPS           URL";Coder["HTTP            URL"]="HTTP            URL";Coder["FTP             URL"]="FTP             URL";Coder["FILE            URL"]="FILE            URL";Coder["PAL             UYVY"]="PAL             UYVY";Coder["XV              VIFF"]="XV              VIFF";Coder["CANVAS          XC"]="CANVAS          XC";Coder["PM              XPM"]="PM              XPM";Coder["PICON           XPM"]="PICON           XPM";Coder["XTRNARRAY       XTRN"]="XTRNARRAY       XTRN";Coder["YCbCrA          YCbCr"]="YCbCrA          YCbCr"})(Coder=imList.Coder||(imList.Coder={}));let Color;(function(Color){Color[""]="";Color["Path: [built-in]"]="Path: [built-in]";Color["Name                  Color                                         Compliance"]="Name                  Color                                         Compliance";Color["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Color["AliceBlue             srgb(240,248,255)                             SVG X11 XPM"]="AliceBlue             srgb(240,248,255)                             SVG X11 XPM";Color["AntiqueWhite          srgb(250,235,215)                             SVG X11 XPM"]="AntiqueWhite          srgb(250,235,215)                             SVG X11 XPM";Color["AntiqueWhite1         srgb(255,239,219)                             X11"]="AntiqueWhite1         srgb(255,239,219)                             X11";Color["AntiqueWhite2         srgb(238,223,204)                             X11"]="AntiqueWhite2         srgb(238,223,204)                             X11";Color["AntiqueWhite3         srgb(205,192,176)                             X11"]="AntiqueWhite3         srgb(205,192,176)                             X11";Color["AntiqueWhite4         srgb(139,131,120)                             X11"]="AntiqueWhite4         srgb(139,131,120)                             X11";Color["aqua                  srgb(0,255,255)                               SVG"]="aqua                  srgb(0,255,255)                               SVG";Color["aquamarine            srgb(127,255,212)                             SVG X11 XPM"]="aquamarine            srgb(127,255,212)                             SVG X11 XPM";Color["aquamarine1           srgb(127,255,212)                             X11"]="aquamarine1           srgb(127,255,212)                             X11";Color["aquamarine2           srgb(118,238,198)                             X11"]="aquamarine2           srgb(118,238,198)                             X11";Color["aquamarine3           srgb(102,205,170)                             X11"]="aquamarine3           srgb(102,205,170)                             X11";Color["aquamarine4           srgb(69,139,116)                              X11"]="aquamarine4           srgb(69,139,116)                              X11";Color["azure                 srgb(240,255,255)                             SVG X11 XPM"]="azure                 srgb(240,255,255)                             SVG X11 XPM";Color["azure1                srgb(240,255,255)                             X11"]="azure1                srgb(240,255,255)                             X11";Color["azure2                srgb(224,238,238)                             X11"]="azure2                srgb(224,238,238)                             X11";Color["azure3                srgb(193,205,205)                             X11"]="azure3                srgb(193,205,205)                             X11";Color["azure4                srgb(131,139,139)                             X11"]="azure4                srgb(131,139,139)                             X11";Color["beige                 srgb(245,245,220)                             SVG X11 XPM"]="beige                 srgb(245,245,220)                             SVG X11 XPM";Color["bisque                srgb(255,228,196)                             SVG X11 XPM"]="bisque                srgb(255,228,196)                             SVG X11 XPM";Color["bisque1               srgb(255,228,196)                             X11"]="bisque1               srgb(255,228,196)                             X11";Color["bisque2               srgb(238,213,183)                             X11"]="bisque2               srgb(238,213,183)                             X11";Color["bisque3               srgb(205,183,158)                             X11"]="bisque3               srgb(205,183,158)                             X11";Color["bisque4               srgb(139,125,107)                             X11"]="bisque4               srgb(139,125,107)                             X11";Color["black                 srgb(0,0,0)                                   SVG X11 XPM"]="black                 srgb(0,0,0)                                   SVG X11 XPM";Color["BlanchedAlmond        srgb(255,235,205)                             SVG X11 XPM"]="BlanchedAlmond        srgb(255,235,205)                             SVG X11 XPM";Color["blue                  srgb(0,0,255)                                 SVG X11 XPM"]="blue                  srgb(0,0,255)                                 SVG X11 XPM";Color["blue1                 srgb(0,0,255)                                 X11"]="blue1                 srgb(0,0,255)                                 X11";Color["blue2                 srgb(0,0,238)                                 X11"]="blue2                 srgb(0,0,238)                                 X11";Color["blue3                 srgb(0,0,205)                                 X11"]="blue3                 srgb(0,0,205)                                 X11";Color["blue4                 srgb(0,0,139)                                 X11"]="blue4                 srgb(0,0,139)                                 X11";Color["BlueViolet            srgb(138,43,226)                              SVG X11 XPM"]="BlueViolet            srgb(138,43,226)                              SVG X11 XPM";Color["brown                 srgb(165,42,42)                               SVG X11 XPM"]="brown                 srgb(165,42,42)                               SVG X11 XPM";Color["brown1                srgb(255,64,64)                               X11"]="brown1                srgb(255,64,64)                               X11";Color["brown2                srgb(238,59,59)                               X11"]="brown2                srgb(238,59,59)                               X11";Color["brown3                srgb(205,51,51)                               X11"]="brown3                srgb(205,51,51)                               X11";Color["brown4                srgb(139,35,35)                               X11"]="brown4                srgb(139,35,35)                               X11";Color["burlywood             srgb(222,184,135)                             SVG X11 XPM"]="burlywood             srgb(222,184,135)                             SVG X11 XPM";Color["burlywood1            srgb(255,211,155)                             X11"]="burlywood1            srgb(255,211,155)                             X11";Color["burlywood2            srgb(238,197,145)                             X11"]="burlywood2            srgb(238,197,145)                             X11";Color["burlywood3            srgb(205,170,125)                             X11"]="burlywood3            srgb(205,170,125)                             X11";Color["burlywood4            srgb(139,115,85)                              X11"]="burlywood4            srgb(139,115,85)                              X11";Color["CadetBlue             srgb(95,158,160)                              SVG X11 XPM"]="CadetBlue             srgb(95,158,160)                              SVG X11 XPM";Color["CadetBlue1            srgb(152,245,255)                             X11"]="CadetBlue1            srgb(152,245,255)                             X11";Color["CadetBlue2            srgb(142,229,238)                             X11"]="CadetBlue2            srgb(142,229,238)                             X11";Color["CadetBlue3            srgb(122,197,205)                             X11"]="CadetBlue3            srgb(122,197,205)                             X11";Color["CadetBlue4            srgb(83,134,139)                              X11"]="CadetBlue4            srgb(83,134,139)                              X11";Color["chartreuse            srgb(127,255,0)                               SVG X11 XPM"]="chartreuse            srgb(127,255,0)                               SVG X11 XPM";Color["chartreuse1           srgb(127,255,0)                               X11"]="chartreuse1           srgb(127,255,0)                               X11";Color["chartreuse2           srgb(118,238,0)                               X11"]="chartreuse2           srgb(118,238,0)                               X11";Color["chartreuse3           srgb(102,205,0)                               X11"]="chartreuse3           srgb(102,205,0)                               X11";Color["chartreuse4           srgb(69,139,0)                                X11"]="chartreuse4           srgb(69,139,0)                                X11";Color["chocolate             srgb(210,105,30)                              SVG X11 XPM"]="chocolate             srgb(210,105,30)                              SVG X11 XPM";Color["chocolate1            srgb(255,127,36)                              X11"]="chocolate1            srgb(255,127,36)                              X11";Color["chocolate2            srgb(238,118,33)                              X11"]="chocolate2            srgb(238,118,33)                              X11";Color["chocolate3            srgb(205,102,29)                              X11"]="chocolate3            srgb(205,102,29)                              X11";Color["chocolate4            srgb(139,69,19)                               X11"]="chocolate4            srgb(139,69,19)                               X11";Color["coral                 srgb(255,127,80)                              SVG X11 XPM"]="coral                 srgb(255,127,80)                              SVG X11 XPM";Color["coral1                srgb(255,114,86)                              X11"]="coral1                srgb(255,114,86)                              X11";Color["coral2                srgb(238,106,80)                              X11"]="coral2                srgb(238,106,80)                              X11";Color["coral3                srgb(205,91,69)                               X11"]="coral3                srgb(205,91,69)                               X11";Color["coral4                srgb(139,62,47)                               X11"]="coral4                srgb(139,62,47)                               X11";Color["CornflowerBlue        srgb(100,149,237)                             SVG X11 XPM"]="CornflowerBlue        srgb(100,149,237)                             SVG X11 XPM";Color["cornsilk              srgb(255,248,220)                             SVG X11 XPM"]="cornsilk              srgb(255,248,220)                             SVG X11 XPM";Color["cornsilk1             srgb(255,248,220)                             X11"]="cornsilk1             srgb(255,248,220)                             X11";Color["cornsilk2             srgb(238,232,205)                             X11"]="cornsilk2             srgb(238,232,205)                             X11";Color["cornsilk3             srgb(205,200,177)                             X11"]="cornsilk3             srgb(205,200,177)                             X11";Color["cornsilk4             srgb(139,136,120)                             X11"]="cornsilk4             srgb(139,136,120)                             X11";Color["crimson               srgb(220,20,60)                               SVG"]="crimson               srgb(220,20,60)                               SVG";Color["cyan                  srgb(0,255,255)                               SVG X11 XPM"]="cyan                  srgb(0,255,255)                               SVG X11 XPM";Color["cyan1                 srgb(0,255,255)                               X11"]="cyan1                 srgb(0,255,255)                               X11";Color["cyan2                 srgb(0,238,238)                               X11"]="cyan2                 srgb(0,238,238)                               X11";Color["cyan3                 srgb(0,205,205)                               X11"]="cyan3                 srgb(0,205,205)                               X11";Color["cyan4                 srgb(0,139,139)                               X11"]="cyan4                 srgb(0,139,139)                               X11";Color["DarkBlue              srgb(0,0,139)                                 SVG X11"]="DarkBlue              srgb(0,0,139)                                 SVG X11";Color["DarkCyan              srgb(0,139,139)                               SVG X11"]="DarkCyan              srgb(0,139,139)                               SVG X11";Color["DarkGoldenrod         srgb(184,134,11)                              SVG X11 XPM"]="DarkGoldenrod         srgb(184,134,11)                              SVG X11 XPM";Color["DarkGoldenrod1        srgb(255,185,15)                              X11"]="DarkGoldenrod1        srgb(255,185,15)                              X11";Color["DarkGoldenrod2        srgb(238,173,14)                              X11"]="DarkGoldenrod2        srgb(238,173,14)                              X11";Color["DarkGoldenrod3        srgb(205,149,12)                              X11"]="DarkGoldenrod3        srgb(205,149,12)                              X11";Color["DarkGoldenrod4        srgb(139,101,8)                               X11"]="DarkGoldenrod4        srgb(139,101,8)                               X11";Color["DarkGray              srgb(169,169,169)                             SVG X11"]="DarkGray              srgb(169,169,169)                             SVG X11";Color["DarkGreen             srgb(0,100,0)                                 SVG X11 XPM"]="DarkGreen             srgb(0,100,0)                                 SVG X11 XPM";Color["DarkGrey              srgb(169,169,169)                             SVG X11"]="DarkGrey              srgb(169,169,169)                             SVG X11";Color["DarkKhaki             srgb(189,183,107)                             SVG X11 XPM"]="DarkKhaki             srgb(189,183,107)                             SVG X11 XPM";Color["DarkMagenta           srgb(139,0,139)                               SVG X11"]="DarkMagenta           srgb(139,0,139)                               SVG X11";Color["DarkOliveGreen        srgb(85,107,47)                               SVG X11 XPM"]="DarkOliveGreen        srgb(85,107,47)                               SVG X11 XPM";Color["DarkOliveGreen1       srgb(202,255,112)                             X11"]="DarkOliveGreen1       srgb(202,255,112)                             X11";Color["DarkOliveGreen2       srgb(188,238,104)                             X11"]="DarkOliveGreen2       srgb(188,238,104)                             X11";Color["DarkOliveGreen3       srgb(162,205,90)                              X11"]="DarkOliveGreen3       srgb(162,205,90)                              X11";Color["DarkOliveGreen4       srgb(110,139,61)                              X11"]="DarkOliveGreen4       srgb(110,139,61)                              X11";Color["DarkOrange            srgb(255,140,0)                               SVG X11 XPM"]="DarkOrange            srgb(255,140,0)                               SVG X11 XPM";Color["DarkOrange1           srgb(255,127,0)                               X11"]="DarkOrange1           srgb(255,127,0)                               X11";Color["DarkOrange2           srgb(238,118,0)                               X11"]="DarkOrange2           srgb(238,118,0)                               X11";Color["DarkOrange3           srgb(205,102,0)                               X11"]="DarkOrange3           srgb(205,102,0)                               X11";Color["DarkOrange4           srgb(139,69,0)                                X11"]="DarkOrange4           srgb(139,69,0)                                X11";Color["DarkOrchid            srgb(153,50,204)                              SVG X11 XPM"]="DarkOrchid            srgb(153,50,204)                              SVG X11 XPM";Color["DarkOrchid1           srgb(191,62,255)                              X11"]="DarkOrchid1           srgb(191,62,255)                              X11";Color["DarkOrchid2           srgb(178,58,238)                              X11"]="DarkOrchid2           srgb(178,58,238)                              X11";Color["DarkOrchid3           srgb(154,50,205)                              X11"]="DarkOrchid3           srgb(154,50,205)                              X11";Color["DarkOrchid4           srgb(104,34,139)                              X11"]="DarkOrchid4           srgb(104,34,139)                              X11";Color["DarkRed               srgb(139,0,0)                                 SVG X11"]="DarkRed               srgb(139,0,0)                                 SVG X11";Color["DarkSalmon            srgb(233,150,122)                             SVG X11 XPM"]="DarkSalmon            srgb(233,150,122)                             SVG X11 XPM";Color["DarkSeaGreen          srgb(143,188,143)                             SVG X11 XPM"]="DarkSeaGreen          srgb(143,188,143)                             SVG X11 XPM";Color["DarkSeaGreen1         srgb(193,255,193)                             X11"]="DarkSeaGreen1         srgb(193,255,193)                             X11";Color["DarkSeaGreen2         srgb(180,238,180)                             X11"]="DarkSeaGreen2         srgb(180,238,180)                             X11";Color["DarkSeaGreen3         srgb(155,205,155)                             X11"]="DarkSeaGreen3         srgb(155,205,155)                             X11";Color["DarkSeaGreen4         srgb(105,139,105)                             X11"]="DarkSeaGreen4         srgb(105,139,105)                             X11";Color["DarkSlateBlue         srgb(72,61,139)                               SVG X11 XPM"]="DarkSlateBlue         srgb(72,61,139)                               SVG X11 XPM";Color["DarkSlateGray         srgb(47,79,79)                                SVG X11 XPM"]="DarkSlateGray         srgb(47,79,79)                                SVG X11 XPM";Color["DarkSlateGray1        srgb(151,255,255)                             X11"]="DarkSlateGray1        srgb(151,255,255)                             X11";Color["DarkSlateGray2        srgb(141,238,238)                             X11"]="DarkSlateGray2        srgb(141,238,238)                             X11";Color["DarkSlateGray3        srgb(121,205,205)                             X11"]="DarkSlateGray3        srgb(121,205,205)                             X11";Color["DarkSlateGray4        srgb(82,139,139)                              X11"]="DarkSlateGray4        srgb(82,139,139)                              X11";Color["DarkSlateGrey         srgb(47,79,79)                                SVG X11"]="DarkSlateGrey         srgb(47,79,79)                                SVG X11";Color["DarkTurquoise         srgb(0,206,209)                               SVG X11 XPM"]="DarkTurquoise         srgb(0,206,209)                               SVG X11 XPM";Color["DarkViolet            srgb(148,0,211)                               SVG X11 XPM"]="DarkViolet            srgb(148,0,211)                               SVG X11 XPM";Color["DeepPink              srgb(255,20,147)                              SVG X11 XPM"]="DeepPink              srgb(255,20,147)                              SVG X11 XPM";Color["DeepPink1             srgb(255,20,147)                              X11"]="DeepPink1             srgb(255,20,147)                              X11";Color["DeepPink2             srgb(238,18,137)                              X11"]="DeepPink2             srgb(238,18,137)                              X11";Color["DeepPink3             srgb(205,16,118)                              X11"]="DeepPink3             srgb(205,16,118)                              X11";Color["DeepPink4             srgb(139,10,80)                               X11"]="DeepPink4             srgb(139,10,80)                               X11";Color["DeepSkyBlue           srgb(0,191,255)                               SVG X11 XPM"]="DeepSkyBlue           srgb(0,191,255)                               SVG X11 XPM";Color["DeepSkyBlue1          srgb(0,191,255)                               X11"]="DeepSkyBlue1          srgb(0,191,255)                               X11";Color["DeepSkyBlue2          srgb(0,178,238)                               X11"]="DeepSkyBlue2          srgb(0,178,238)                               X11";Color["DeepSkyBlue3          srgb(0,154,205)                               X11"]="DeepSkyBlue3          srgb(0,154,205)                               X11";Color["DeepSkyBlue4          srgb(0,104,139)                               X11"]="DeepSkyBlue4          srgb(0,104,139)                               X11";Color["DimGray               srgb(105,105,105)                             SVG X11 XPM"]="DimGray               srgb(105,105,105)                             SVG X11 XPM";Color["DimGrey               srgb(105,105,105)                             SVG X11"]="DimGrey               srgb(105,105,105)                             SVG X11";Color["DodgerBlue            srgb(30,144,255)                              SVG X11 XPM"]="DodgerBlue            srgb(30,144,255)                              SVG X11 XPM";Color["DodgerBlue1           srgb(30,144,255)                              X11"]="DodgerBlue1           srgb(30,144,255)                              X11";Color["DodgerBlue2           srgb(28,134,238)                              X11"]="DodgerBlue2           srgb(28,134,238)                              X11";Color["DodgerBlue3           srgb(24,116,205)                              X11"]="DodgerBlue3           srgb(24,116,205)                              X11";Color["DodgerBlue4           srgb(16,78,139)                               X11"]="DodgerBlue4           srgb(16,78,139)                               X11";Color["firebrick             srgb(178,34,34)                               SVG X11 XPM"]="firebrick             srgb(178,34,34)                               SVG X11 XPM";Color["firebrick1            srgb(255,48,48)                               X11"]="firebrick1            srgb(255,48,48)                               X11";Color["firebrick2            srgb(238,44,44)                               X11"]="firebrick2            srgb(238,44,44)                               X11";Color["firebrick3            srgb(205,38,38)                               X11"]="firebrick3            srgb(205,38,38)                               X11";Color["firebrick4            srgb(139,26,26)                               X11"]="firebrick4            srgb(139,26,26)                               X11";Color["FloralWhite           srgb(255,250,240)                             SVG X11 XPM"]="FloralWhite           srgb(255,250,240)                             SVG X11 XPM";Color["ForestGreen           srgb(34,139,34)                               SVG X11 XPM"]="ForestGreen           srgb(34,139,34)                               SVG X11 XPM";Color["fractal               srgb(128,128,128)                             SVG"]="fractal               srgb(128,128,128)                             SVG";Color["freeze                srgb(0,0,0)                                   SVG"]="freeze                srgb(0,0,0)                                   SVG";Color["fuchsia               srgb(255,0,255)                               SVG"]="fuchsia               srgb(255,0,255)                               SVG";Color["gainsboro             srgb(220,220,220)                             SVG X11 XPM"]="gainsboro             srgb(220,220,220)                             SVG X11 XPM";Color["GhostWhite            srgb(248,248,255)                             SVG X11 XPM"]="GhostWhite            srgb(248,248,255)                             SVG X11 XPM";Color["gold                  srgb(255,215,0)                               SVG X11 XPM"]="gold                  srgb(255,215,0)                               SVG X11 XPM";Color["gold1                 srgb(255,215,0)                               X11"]="gold1                 srgb(255,215,0)                               X11";Color["gold2                 srgb(238,201,0)                               X11"]="gold2                 srgb(238,201,0)                               X11";Color["gold3                 srgb(205,173,0)                               X11"]="gold3                 srgb(205,173,0)                               X11";Color["gold4                 srgb(139,117,0)                               X11"]="gold4                 srgb(139,117,0)                               X11";Color["goldenrod             srgb(218,165,32)                              SVG X11 XPM"]="goldenrod             srgb(218,165,32)                              SVG X11 XPM";Color["goldenrod1            srgb(255,193,37)                              X11"]="goldenrod1            srgb(255,193,37)                              X11";Color["goldenrod2            srgb(238,180,34)                              X11"]="goldenrod2            srgb(238,180,34)                              X11";Color["goldenrod3            srgb(205,155,29)                              X11"]="goldenrod3            srgb(205,155,29)                              X11";Color["goldenrod4            srgb(139,105,20)                              X11"]="goldenrod4            srgb(139,105,20)                              X11";Color["gray                  srgb(126,126,126)                             SVG"]="gray                  srgb(126,126,126)                             SVG";Color["gray                  srgb(190,190,190)                             X11 XPM"]="gray                  srgb(190,190,190)                             X11 XPM";Color["gray0                 srgb(0,0,0)                                   X11 XPM"]="gray0                 srgb(0,0,0)                                   X11 XPM";Color["gray1                 srgb(3,3,3)                                   X11 XPM"]="gray1                 srgb(3,3,3)                                   X11 XPM";Color["gray10                srgb(26,26,26)                                X11 XPM"]="gray10                srgb(26,26,26)                                X11 XPM";Color["gray100               srgb(255,255,255)                             X11 XPM"]="gray100               srgb(255,255,255)                             X11 XPM";Color["gray11                srgb(28,28,28)                                X11 XPM"]="gray11                srgb(28,28,28)                                X11 XPM";Color["gray12                srgb(31,31,31)                                X11 XPM"]="gray12                srgb(31,31,31)                                X11 XPM";Color["gray13                srgb(33,33,33)                                X11 XPM"]="gray13                srgb(33,33,33)                                X11 XPM";Color["gray14                srgb(36,36,36)                                X11 XPM"]="gray14                srgb(36,36,36)                                X11 XPM";Color["gray15                srgb(38,38,38)                                X11 XPM"]="gray15                srgb(38,38,38)                                X11 XPM";Color["gray16                srgb(41,41,41)                                X11 XPM"]="gray16                srgb(41,41,41)                                X11 XPM";Color["gray17                srgb(43,43,43)                                X11 XPM"]="gray17                srgb(43,43,43)                                X11 XPM";Color["gray18                srgb(46,46,46)                                X11 XPM"]="gray18                srgb(46,46,46)                                X11 XPM";Color["gray19                srgb(48,48,48)                                X11 XPM"]="gray19                srgb(48,48,48)                                X11 XPM";Color["gray2                 srgb(5,5,5)                                   X11 XPM"]="gray2                 srgb(5,5,5)                                   X11 XPM";Color["gray20                srgb(51,51,51)                                X11 XPM"]="gray20                srgb(51,51,51)                                X11 XPM";Color["gray21                srgb(54,54,54)                                X11 XPM"]="gray21                srgb(54,54,54)                                X11 XPM";Color["gray22                srgb(56,56,56)                                X11 XPM"]="gray22                srgb(56,56,56)                                X11 XPM";Color["gray23                srgb(59,59,59)                                X11 XPM"]="gray23                srgb(59,59,59)                                X11 XPM";Color["gray24                srgb(61,61,61)                                X11 XPM"]="gray24                srgb(61,61,61)                                X11 XPM";Color["gray25                srgb(64,64,64)                                X11 XPM"]="gray25                srgb(64,64,64)                                X11 XPM";Color["gray26                srgb(66,66,66)                                X11 XPM"]="gray26                srgb(66,66,66)                                X11 XPM";Color["gray27                srgb(69,69,69)                                X11 XPM"]="gray27                srgb(69,69,69)                                X11 XPM";Color["gray28                srgb(71,71,71)                                X11 XPM"]="gray28                srgb(71,71,71)                                X11 XPM";Color["gray29                srgb(74,74,74)                                X11 XPM"]="gray29                srgb(74,74,74)                                X11 XPM";Color["gray3                 srgb(8,8,8)                                   X11 XPM"]="gray3                 srgb(8,8,8)                                   X11 XPM";Color["gray30                srgb(77,77,77)                                X11 XPM"]="gray30                srgb(77,77,77)                                X11 XPM";Color["gray31                srgb(79,79,79)                                X11 XPM"]="gray31                srgb(79,79,79)                                X11 XPM";Color["gray32                srgb(82,82,82)                                X11 XPM"]="gray32                srgb(82,82,82)                                X11 XPM";Color["gray33                srgb(84,84,84)                                X11 XPM"]="gray33                srgb(84,84,84)                                X11 XPM";Color["gray34                srgb(87,87,87)                                X11 XPM"]="gray34                srgb(87,87,87)                                X11 XPM";Color["gray35                srgb(89,89,89)                                X11 XPM"]="gray35                srgb(89,89,89)                                X11 XPM";Color["gray36                srgb(92,92,92)                                X11 XPM"]="gray36                srgb(92,92,92)                                X11 XPM";Color["gray37                srgb(94,94,94)                                X11 XPM"]="gray37                srgb(94,94,94)                                X11 XPM";Color["gray38                srgb(97,97,97)                                X11 XPM"]="gray38                srgb(97,97,97)                                X11 XPM";Color["gray39                srgb(99,99,99)                                X11 XPM"]="gray39                srgb(99,99,99)                                X11 XPM";Color["gray4                 srgb(10,10,10)                                X11 XPM"]="gray4                 srgb(10,10,10)                                X11 XPM";Color["gray40                srgb(102,102,102)                             X11 XPM"]="gray40                srgb(102,102,102)                             X11 XPM";Color["gray41                srgb(105,105,105)                             X11 XPM"]="gray41                srgb(105,105,105)                             X11 XPM";Color["gray42                srgb(107,107,107)                             X11 XPM"]="gray42                srgb(107,107,107)                             X11 XPM";Color["gray43                srgb(110,110,110)                             X11 XPM"]="gray43                srgb(110,110,110)                             X11 XPM";Color["gray44                srgb(112,112,112)                             X11 XPM"]="gray44                srgb(112,112,112)                             X11 XPM";Color["gray45                srgb(115,115,115)                             X11 XPM"]="gray45                srgb(115,115,115)                             X11 XPM";Color["gray46                srgb(117,117,117)                             X11 XPM"]="gray46                srgb(117,117,117)                             X11 XPM";Color["gray47                srgb(120,120,120)                             X11 XPM"]="gray47                srgb(120,120,120)                             X11 XPM";Color["gray48                srgb(122,122,122)                             X11 XPM"]="gray48                srgb(122,122,122)                             X11 XPM";Color["gray49                srgb(125,125,125)                             X11 XPM"]="gray49                srgb(125,125,125)                             X11 XPM";Color["gray5                 srgb(13,13,13)                                X11 XPM"]="gray5                 srgb(13,13,13)                                X11 XPM";Color["gray50                srgb(127,127,127)                             X11 XPM"]="gray50                srgb(127,127,127)                             X11 XPM";Color["gray51                srgb(130,130,130)                             X11 XPM"]="gray51                srgb(130,130,130)                             X11 XPM";Color["gray52                srgb(133,133,133)                             X11 XPM"]="gray52                srgb(133,133,133)                             X11 XPM";Color["gray53                srgb(135,135,135)                             X11 XPM"]="gray53                srgb(135,135,135)                             X11 XPM";Color["gray54                srgb(138,138,138)                             X11 XPM"]="gray54                srgb(138,138,138)                             X11 XPM";Color["gray55                srgb(140,140,140)                             X11 XPM"]="gray55                srgb(140,140,140)                             X11 XPM";Color["gray56                srgb(143,143,143)                             X11 XPM"]="gray56                srgb(143,143,143)                             X11 XPM";Color["gray57                srgb(145,145,145)                             X11 XPM"]="gray57                srgb(145,145,145)                             X11 XPM";Color["gray58                srgb(148,148,148)                             X11 XPM"]="gray58                srgb(148,148,148)                             X11 XPM";Color["gray59                srgb(150,150,150)                             X11 XPM"]="gray59                srgb(150,150,150)                             X11 XPM";Color["gray6                 srgb(15,15,15)                                X11 XPM"]="gray6                 srgb(15,15,15)                                X11 XPM";Color["gray60                srgb(153,153,153)                             X11 XPM"]="gray60                srgb(153,153,153)                             X11 XPM";Color["gray61                srgb(156,156,156)                             X11 XPM"]="gray61                srgb(156,156,156)                             X11 XPM";Color["gray62                srgb(158,158,158)                             X11 XPM"]="gray62                srgb(158,158,158)                             X11 XPM";Color["gray63                srgb(161,161,161)                             X11 XPM"]="gray63                srgb(161,161,161)                             X11 XPM";Color["gray64                srgb(163,163,163)                             X11 XPM"]="gray64                srgb(163,163,163)                             X11 XPM";Color["gray65                srgb(166,166,166)                             X11 XPM"]="gray65                srgb(166,166,166)                             X11 XPM";Color["gray66                srgb(168,168,168)                             X11 XPM"]="gray66                srgb(168,168,168)                             X11 XPM";Color["gray67                srgb(171,171,171)                             X11 XPM"]="gray67                srgb(171,171,171)                             X11 XPM";Color["gray68                srgb(173,173,173)                             X11 XPM"]="gray68                srgb(173,173,173)                             X11 XPM";Color["gray69                srgb(176,176,176)                             X11 XPM"]="gray69                srgb(176,176,176)                             X11 XPM";Color["gray7                 srgb(18,18,18)                                X11 XPM"]="gray7                 srgb(18,18,18)                                X11 XPM";Color["gray70                srgb(179,179,179)                             X11 XPM"]="gray70                srgb(179,179,179)                             X11 XPM";Color["gray71                srgb(181,181,181)                             X11 XPM"]="gray71                srgb(181,181,181)                             X11 XPM";Color["gray72                srgb(184,184,184)                             X11 XPM"]="gray72                srgb(184,184,184)                             X11 XPM";Color["gray73                srgb(186,186,186)                             X11 XPM"]="gray73                srgb(186,186,186)                             X11 XPM";Color["gray74                srgb(189,189,189)                             X11 XPM"]="gray74                srgb(189,189,189)                             X11 XPM";Color["gray75                srgb(191,191,191)                             X11 XPM"]="gray75                srgb(191,191,191)                             X11 XPM";Color["gray76                srgb(194,194,194)                             X11 XPM"]="gray76                srgb(194,194,194)                             X11 XPM";Color["gray77                srgb(196,196,196)                             X11 XPM"]="gray77                srgb(196,196,196)                             X11 XPM";Color["gray78                srgb(199,199,199)                             X11 XPM"]="gray78                srgb(199,199,199)                             X11 XPM";Color["gray79                srgb(201,201,201)                             X11 XPM"]="gray79                srgb(201,201,201)                             X11 XPM";Color["gray8                 srgb(20,20,20)                                X11 XPM"]="gray8                 srgb(20,20,20)                                X11 XPM";Color["gray80                srgb(204,204,204)                             X11 XPM"]="gray80                srgb(204,204,204)                             X11 XPM";Color["gray81                srgb(207,207,207)                             X11 XPM"]="gray81                srgb(207,207,207)                             X11 XPM";Color["gray82                srgb(209,209,209)                             X11 XPM"]="gray82                srgb(209,209,209)                             X11 XPM";Color["gray83                srgb(212,212,212)                             X11 XPM"]="gray83                srgb(212,212,212)                             X11 XPM";Color["gray84                srgb(214,214,214)                             X11 XPM"]="gray84                srgb(214,214,214)                             X11 XPM";Color["gray85                srgb(217,217,217)                             X11 XPM"]="gray85                srgb(217,217,217)                             X11 XPM";Color["gray86                srgb(219,219,219)                             X11 XPM"]="gray86                srgb(219,219,219)                             X11 XPM";Color["gray87                srgb(222,222,222)                             X11 XPM"]="gray87                srgb(222,222,222)                             X11 XPM";Color["gray88                srgb(224,224,224)                             X11 XPM"]="gray88                srgb(224,224,224)                             X11 XPM";Color["gray89                srgb(227,227,227)                             X11 XPM"]="gray89                srgb(227,227,227)                             X11 XPM";Color["gray9                 srgb(23,23,23)                                X11 XPM"]="gray9                 srgb(23,23,23)                                X11 XPM";Color["gray90                srgb(229,229,229)                             X11 XPM"]="gray90                srgb(229,229,229)                             X11 XPM";Color["gray91                srgb(232,232,232)                             X11 XPM"]="gray91                srgb(232,232,232)                             X11 XPM";Color["gray92                srgb(235,235,235)                             X11 XPM"]="gray92                srgb(235,235,235)                             X11 XPM";Color["gray93                srgb(237,237,237)                             X11 XPM"]="gray93                srgb(237,237,237)                             X11 XPM";Color["gray94                srgb(240,240,240)                             X11 XPM"]="gray94                srgb(240,240,240)                             X11 XPM";Color["gray95                srgb(242,242,242)                             X11 XPM"]="gray95                srgb(242,242,242)                             X11 XPM";Color["gray96                srgb(245,245,245)                             X11 XPM"]="gray96                srgb(245,245,245)                             X11 XPM";Color["gray97                srgb(247,247,247)                             X11 XPM"]="gray97                srgb(247,247,247)                             X11 XPM";Color["gray98                srgb(250,250,250)                             X11 XPM"]="gray98                srgb(250,250,250)                             X11 XPM";Color["gray99                srgb(252,252,252)                             X11 XPM"]="gray99                srgb(252,252,252)                             X11 XPM";Color["green                 srgb(0,128,0)                                 SVG"]="green                 srgb(0,128,0)                                 SVG";Color["green                 srgb(0,255,0)                                 X11 XPM"]="green                 srgb(0,255,0)                                 X11 XPM";Color["green1                srgb(0,255,0)                                 X11"]="green1                srgb(0,255,0)                                 X11";Color["green2                srgb(0,238,0)                                 X11"]="green2                srgb(0,238,0)                                 X11";Color["green3                srgb(0,205,0)                                 X11"]="green3                srgb(0,205,0)                                 X11";Color["green4                srgb(0,139,0)                                 X11"]="green4                srgb(0,139,0)                                 X11";Color["GreenYellow           srgb(173,255,47)                              X11 XPM"]="GreenYellow           srgb(173,255,47)                              X11 XPM";Color["grey                  srgb(190,190,190)                             SVG X11"]="grey                  srgb(190,190,190)                             SVG X11";Color["grey0                 srgb(0,0,0)                                   SVG X11"]="grey0                 srgb(0,0,0)                                   SVG X11";Color["grey1                 srgb(3,3,3)                                   SVG X11"]="grey1                 srgb(3,3,3)                                   SVG X11";Color["grey10                srgb(26,26,26)                                SVG X11"]="grey10                srgb(26,26,26)                                SVG X11";Color["grey100               srgb(255,255,255)                             SVG X11"]="grey100               srgb(255,255,255)                             SVG X11";Color["grey11                srgb(28,28,28)                                SVG X11"]="grey11                srgb(28,28,28)                                SVG X11";Color["grey12                srgb(31,31,31)                                SVG X11"]="grey12                srgb(31,31,31)                                SVG X11";Color["grey13                srgb(33,33,33)                                SVG X11"]="grey13                srgb(33,33,33)                                SVG X11";Color["grey14                srgb(36,36,36)                                SVG X11"]="grey14                srgb(36,36,36)                                SVG X11";Color["grey15                srgb(38,38,38)                                SVG X11"]="grey15                srgb(38,38,38)                                SVG X11";Color["grey16                srgb(41,41,41)                                SVG X11"]="grey16                srgb(41,41,41)                                SVG X11";Color["grey17                srgb(43,43,43)                                SVG X11"]="grey17                srgb(43,43,43)                                SVG X11";Color["grey18                srgb(46,46,46)                                SVG X11"]="grey18                srgb(46,46,46)                                SVG X11";Color["grey19                srgb(48,48,48)                                SVG X11"]="grey19                srgb(48,48,48)                                SVG X11";Color["grey2                 srgb(5,5,5)                                   SVG X11"]="grey2                 srgb(5,5,5)                                   SVG X11";Color["grey20                srgb(51,51,51)                                SVG X11"]="grey20                srgb(51,51,51)                                SVG X11";Color["grey21                srgb(54,54,54)                                SVG X11"]="grey21                srgb(54,54,54)                                SVG X11";Color["grey22                srgb(56,56,56)                                SVG X11"]="grey22                srgb(56,56,56)                                SVG X11";Color["grey23                srgb(59,59,59)                                SVG X11"]="grey23                srgb(59,59,59)                                SVG X11";Color["grey24                srgb(61,61,61)                                SVG X11"]="grey24                srgb(61,61,61)                                SVG X11";Color["grey25                srgb(64,64,64)                                SVG X11"]="grey25                srgb(64,64,64)                                SVG X11";Color["grey26                srgb(66,66,66)                                SVG X11"]="grey26                srgb(66,66,66)                                SVG X11";Color["grey27                srgb(69,69,69)                                SVG X11"]="grey27                srgb(69,69,69)                                SVG X11";Color["grey28                srgb(71,71,71)                                SVG X11"]="grey28                srgb(71,71,71)                                SVG X11";Color["grey29                srgb(74,74,74)                                SVG X11"]="grey29                srgb(74,74,74)                                SVG X11";Color["grey3                 srgb(8,8,8)                                   SVG X11"]="grey3                 srgb(8,8,8)                                   SVG X11";Color["grey30                srgb(77,77,77)                                SVG X11"]="grey30                srgb(77,77,77)                                SVG X11";Color["grey31                srgb(79,79,79)                                SVG X11"]="grey31                srgb(79,79,79)                                SVG X11";Color["grey32                srgb(82,82,82)                                SVG X11"]="grey32                srgb(82,82,82)                                SVG X11";Color["grey33                srgb(84,84,84)                                SVG X11"]="grey33                srgb(84,84,84)                                SVG X11";Color["grey34                srgb(87,87,87)                                SVG X11"]="grey34                srgb(87,87,87)                                SVG X11";Color["grey35                srgb(89,89,89)                                SVG X11"]="grey35                srgb(89,89,89)                                SVG X11";Color["grey36                srgb(92,92,92)                                SVG X11"]="grey36                srgb(92,92,92)                                SVG X11";Color["grey37                srgb(94,94,94)                                SVG X11"]="grey37                srgb(94,94,94)                                SVG X11";Color["grey38                srgb(97,97,97)                                SVG X11"]="grey38                srgb(97,97,97)                                SVG X11";Color["grey39                srgb(99,99,99)                                SVG X11"]="grey39                srgb(99,99,99)                                SVG X11";Color["grey4                 srgb(10,10,10)                                SVG X11"]="grey4                 srgb(10,10,10)                                SVG X11";Color["grey40                srgb(102,102,102)                             SVG X11"]="grey40                srgb(102,102,102)                             SVG X11";Color["grey41                srgb(105,105,105)                             SVG X11"]="grey41                srgb(105,105,105)                             SVG X11";Color["grey42                srgb(107,107,107)                             SVG X11"]="grey42                srgb(107,107,107)                             SVG X11";Color["grey43                srgb(110,110,110)                             SVG X11"]="grey43                srgb(110,110,110)                             SVG X11";Color["grey44                srgb(112,112,112)                             SVG X11"]="grey44                srgb(112,112,112)                             SVG X11";Color["grey45                srgb(115,115,115)                             SVG X11"]="grey45                srgb(115,115,115)                             SVG X11";Color["grey46                srgb(117,117,117)                             SVG X11"]="grey46                srgb(117,117,117)                             SVG X11";Color["grey47                srgb(120,120,120)                             SVG X11"]="grey47                srgb(120,120,120)                             SVG X11";Color["grey48                srgb(122,122,122)                             SVG X11"]="grey48                srgb(122,122,122)                             SVG X11";Color["grey49                srgb(125,125,125)                             SVG X11"]="grey49                srgb(125,125,125)                             SVG X11";Color["grey5                 srgb(13,13,13)                                SVG X11"]="grey5                 srgb(13,13,13)                                SVG X11";Color["grey50                srgb(127,127,127)                             SVG X11"]="grey50                srgb(127,127,127)                             SVG X11";Color["grey51                srgb(130,130,130)                             SVG X11"]="grey51                srgb(130,130,130)                             SVG X11";Color["grey52                srgb(133,133,133)                             SVG X11"]="grey52                srgb(133,133,133)                             SVG X11";Color["grey53                srgb(135,135,135)                             SVG X11"]="grey53                srgb(135,135,135)                             SVG X11";Color["grey54                srgb(138,138,138)                             SVG X11"]="grey54                srgb(138,138,138)                             SVG X11";Color["grey55                srgb(140,140,140)                             SVG X11"]="grey55                srgb(140,140,140)                             SVG X11";Color["grey56                srgb(143,143,143)                             SVG X11"]="grey56                srgb(143,143,143)                             SVG X11";Color["grey57                srgb(145,145,145)                             SVG X11"]="grey57                srgb(145,145,145)                             SVG X11";Color["grey58                srgb(148,148,148)                             SVG X11"]="grey58                srgb(148,148,148)                             SVG X11";Color["grey59                srgb(150,150,150)                             SVG X11"]="grey59                srgb(150,150,150)                             SVG X11";Color["grey6                 srgb(15,15,15)                                SVG X11"]="grey6                 srgb(15,15,15)                                SVG X11";Color["grey60                srgb(153,153,153)                             SVG X11"]="grey60                srgb(153,153,153)                             SVG X11";Color["grey61                srgb(156,156,156)                             SVG X11"]="grey61                srgb(156,156,156)                             SVG X11";Color["grey62                srgb(158,158,158)                             SVG X11"]="grey62                srgb(158,158,158)                             SVG X11";Color["grey63                srgb(161,161,161)                             SVG X11"]="grey63                srgb(161,161,161)                             SVG X11";Color["grey64                srgb(163,163,163)                             SVG X11"]="grey64                srgb(163,163,163)                             SVG X11";Color["grey65                srgb(166,166,166)                             SVG X11"]="grey65                srgb(166,166,166)                             SVG X11";Color["grey66                srgb(168,168,168)                             SVG X11"]="grey66                srgb(168,168,168)                             SVG X11";Color["grey67                srgb(171,171,171)                             SVG X11"]="grey67                srgb(171,171,171)                             SVG X11";Color["grey68                srgb(173,173,173)                             SVG X11"]="grey68                srgb(173,173,173)                             SVG X11";Color["grey69                srgb(176,176,176)                             SVG X11"]="grey69                srgb(176,176,176)                             SVG X11";Color["grey7                 srgb(18,18,18)                                SVG X11"]="grey7                 srgb(18,18,18)                                SVG X11";Color["grey70                srgb(179,179,179)                             SVG X11"]="grey70                srgb(179,179,179)                             SVG X11";Color["grey71                srgb(181,181,181)                             SVG X11"]="grey71                srgb(181,181,181)                             SVG X11";Color["grey72                srgb(184,184,184)                             SVG X11"]="grey72                srgb(184,184,184)                             SVG X11";Color["grey73                srgb(186,186,186)                             SVG X11"]="grey73                srgb(186,186,186)                             SVG X11";Color["grey74                srgb(189,189,189)                             SVG X11"]="grey74                srgb(189,189,189)                             SVG X11";Color["grey75                srgb(191,191,191)                             SVG X11"]="grey75                srgb(191,191,191)                             SVG X11";Color["grey76                srgb(194,194,194)                             SVG X11"]="grey76                srgb(194,194,194)                             SVG X11";Color["grey77                srgb(196,196,196)                             SVG X11"]="grey77                srgb(196,196,196)                             SVG X11";Color["grey78                srgb(199,199,199)                             SVG X11"]="grey78                srgb(199,199,199)                             SVG X11";Color["grey79                srgb(201,201,201)                             SVG X11"]="grey79                srgb(201,201,201)                             SVG X11";Color["grey8                 srgb(20,20,20)                                SVG X11"]="grey8                 srgb(20,20,20)                                SVG X11";Color["grey80                srgb(204,204,204)                             SVG X11"]="grey80                srgb(204,204,204)                             SVG X11";Color["grey81                srgb(207,207,207)                             SVG X11"]="grey81                srgb(207,207,207)                             SVG X11";Color["grey82                srgb(209,209,209)                             SVG X11"]="grey82                srgb(209,209,209)                             SVG X11";Color["grey83                srgb(212,212,212)                             SVG X11"]="grey83                srgb(212,212,212)                             SVG X11";Color["grey84                srgb(214,214,214)                             SVG X11"]="grey84                srgb(214,214,214)                             SVG X11";Color["grey85                srgb(217,217,217)                             SVG X11"]="grey85                srgb(217,217,217)                             SVG X11";Color["grey86                srgb(219,219,219)                             SVG X11"]="grey86                srgb(219,219,219)                             SVG X11";Color["grey87                srgb(222,222,222)                             SVG X11"]="grey87                srgb(222,222,222)                             SVG X11";Color["grey88                srgb(224,224,224)                             SVG X11"]="grey88                srgb(224,224,224)                             SVG X11";Color["grey89                srgb(227,227,227)                             SVG X11"]="grey89                srgb(227,227,227)                             SVG X11";Color["grey9                 srgb(23,23,23)                                SVG X11"]="grey9                 srgb(23,23,23)                                SVG X11";Color["grey90                srgb(229,229,229)                             SVG X11"]="grey90                srgb(229,229,229)                             SVG X11";Color["grey91                srgb(232,232,232)                             SVG X11"]="grey91                srgb(232,232,232)                             SVG X11";Color["grey92                srgb(235,235,235)                             SVG X11"]="grey92                srgb(235,235,235)                             SVG X11";Color["grey93                srgb(237,237,237)                             SVG X11"]="grey93                srgb(237,237,237)                             SVG X11";Color["grey94                srgb(240,240,240)                             SVG X11"]="grey94                srgb(240,240,240)                             SVG X11";Color["grey95                srgb(242,242,242)                             SVG X11"]="grey95                srgb(242,242,242)                             SVG X11";Color["grey96                srgb(245,245,245)                             SVG X11"]="grey96                srgb(245,245,245)                             SVG X11";Color["grey97                srgb(247,247,247)                             SVG X11"]="grey97                srgb(247,247,247)                             SVG X11";Color["grey98                srgb(250,250,250)                             SVG X11"]="grey98                srgb(250,250,250)                             SVG X11";Color["grey99                srgb(252,252,252)                             SVG X11"]="grey99                srgb(252,252,252)                             SVG X11";Color["honeydew              srgb(240,255,240)                             SVG X11 XPM"]="honeydew              srgb(240,255,240)                             SVG X11 XPM";Color["honeydew1             srgb(240,255,240)                             X11"]="honeydew1             srgb(240,255,240)                             X11";Color["honeydew2             srgb(224,238,224)                             X11"]="honeydew2             srgb(224,238,224)                             X11";Color["honeydew3             srgb(193,205,193)                             X11"]="honeydew3             srgb(193,205,193)                             X11";Color["honeydew4             srgb(131,139,131)                             X11"]="honeydew4             srgb(131,139,131)                             X11";Color["HotPink               srgb(255,105,180)                             SVG X11 XPM"]="HotPink               srgb(255,105,180)                             SVG X11 XPM";Color["HotPink1              srgb(255,110,180)                             X11"]="HotPink1              srgb(255,110,180)                             X11";Color["HotPink2              srgb(238,106,167)                             X11"]="HotPink2              srgb(238,106,167)                             X11";Color["HotPink3              srgb(205,96,144)                              X11"]="HotPink3              srgb(205,96,144)                              X11";Color["HotPink4              srgb(139,58,98)                               X11"]="HotPink4              srgb(139,58,98)                               X11";Color["IndianRed             srgb(205,92,92)                               SVG X11 XPM"]="IndianRed             srgb(205,92,92)                               SVG X11 XPM";Color["IndianRed1            srgb(255,106,106)                             X11"]="IndianRed1            srgb(255,106,106)                             X11";Color["IndianRed2            srgb(238,99,99)                               X11"]="IndianRed2            srgb(238,99,99)                               X11";Color["IndianRed3            srgb(205,85,85)                               X11"]="IndianRed3            srgb(205,85,85)                               X11";Color["IndianRed4            srgb(139,58,58)                               X11"]="IndianRed4            srgb(139,58,58)                               X11";Color["indigo                srgb(75,0,130)                                SVG"]="indigo                srgb(75,0,130)                                SVG";Color["ivory                 srgb(255,255,240)                             SVG X11 XPM"]="ivory                 srgb(255,255,240)                             SVG X11 XPM";Color["ivory1                srgb(255,255,240)                             X11"]="ivory1                srgb(255,255,240)                             X11";Color["ivory2                srgb(238,238,224)                             X11"]="ivory2                srgb(238,238,224)                             X11";Color["ivory3                srgb(205,205,193)                             X11"]="ivory3                srgb(205,205,193)                             X11";Color["ivory4                srgb(139,139,131)                             X11"]="ivory4                srgb(139,139,131)                             X11";Color["khaki                 srgb(240,230,140)                             SVG X11 XPM"]="khaki                 srgb(240,230,140)                             SVG X11 XPM";Color["khaki1                srgb(255,246,143)                             X11"]="khaki1                srgb(255,246,143)                             X11";Color["khaki2                srgb(238,230,133)                             X11"]="khaki2                srgb(238,230,133)                             X11";Color["khaki3                srgb(205,198,115)                             X11"]="khaki3                srgb(205,198,115)                             X11";Color["khaki4                srgb(139,134,78)                              X11"]="khaki4                srgb(139,134,78)                              X11";Color["lavender              srgb(230,230,250)                             SVG X11 XPM"]="lavender              srgb(230,230,250)                             SVG X11 XPM";Color["LavenderBlush         srgb(255,240,245)                             SVG X11 XPM"]="LavenderBlush         srgb(255,240,245)                             SVG X11 XPM";Color["LavenderBlush1        srgb(255,240,245)                             X11"]="LavenderBlush1        srgb(255,240,245)                             X11";Color["LavenderBlush2        srgb(238,224,229)                             X11"]="LavenderBlush2        srgb(238,224,229)                             X11";Color["LavenderBlush3        srgb(205,193,197)                             X11"]="LavenderBlush3        srgb(205,193,197)                             X11";Color["LavenderBlush4        srgb(139,131,134)                             X11"]="LavenderBlush4        srgb(139,131,134)                             X11";Color["LawnGreen             srgb(124,252,0)                               SVG X11 XPM"]="LawnGreen             srgb(124,252,0)                               SVG X11 XPM";Color["LemonChiffon          srgb(255,250,205)                             SVG X11 XPM"]="LemonChiffon          srgb(255,250,205)                             SVG X11 XPM";Color["LemonChiffon1         srgb(255,250,205)                             X11"]="LemonChiffon1         srgb(255,250,205)                             X11";Color["LemonChiffon2         srgb(238,233,191)                             X11"]="LemonChiffon2         srgb(238,233,191)                             X11";Color["LemonChiffon3         srgb(205,201,165)                             X11"]="LemonChiffon3         srgb(205,201,165)                             X11";Color["LemonChiffon4         srgb(139,137,112)                             X11"]="LemonChiffon4         srgb(139,137,112)                             X11";Color["LightBlue             srgb(173,216,230)                             SVG X11 XPM"]="LightBlue             srgb(173,216,230)                             SVG X11 XPM";Color["LightBlue1            srgb(191,239,255)                             X11"]="LightBlue1            srgb(191,239,255)                             X11";Color["LightBlue2            srgb(178,223,238)                             X11"]="LightBlue2            srgb(178,223,238)                             X11";Color["LightBlue3            srgb(154,192,205)                             X11"]="LightBlue3            srgb(154,192,205)                             X11";Color["LightBlue4            srgb(104,131,139)                             X11"]="LightBlue4            srgb(104,131,139)                             X11";Color["LightCoral            srgb(240,128,128)                             SVG X11 XPM"]="LightCoral            srgb(240,128,128)                             SVG X11 XPM";Color["LightCyan             srgb(224,255,255)                             SVG X11 XPM"]="LightCyan             srgb(224,255,255)                             SVG X11 XPM";Color["LightCyan1            srgb(224,255,255)                             X11"]="LightCyan1            srgb(224,255,255)                             X11";Color["LightCyan2            srgb(209,238,238)                             X11"]="LightCyan2            srgb(209,238,238)                             X11";Color["LightCyan3            srgb(180,205,205)                             X11"]="LightCyan3            srgb(180,205,205)                             X11";Color["LightCyan4            srgb(122,139,139)                             X11"]="LightCyan4            srgb(122,139,139)                             X11";Color["LightGoldenrod        srgb(238,221,130)                             X11 XPM"]="LightGoldenrod        srgb(238,221,130)                             X11 XPM";Color["LightGoldenrod1       srgb(255,236,139)                             X11"]="LightGoldenrod1       srgb(255,236,139)                             X11";Color["LightGoldenrod2       srgb(238,220,130)                             X11"]="LightGoldenrod2       srgb(238,220,130)                             X11";Color["LightGoldenrod3       srgb(205,190,112)                             X11"]="LightGoldenrod3       srgb(205,190,112)                             X11";Color["LightGoldenrod4       srgb(139,129,76)                              X11"]="LightGoldenrod4       srgb(139,129,76)                              X11";Color["LightGoldenrodYellow  srgb(250,250,210)                             SVG X11 XPM"]="LightGoldenrodYellow  srgb(250,250,210)                             SVG X11 XPM";Color["LightGray             srgb(211,211,211)                             SVG X11 XPM"]="LightGray             srgb(211,211,211)                             SVG X11 XPM";Color["LightGreen            srgb(144,238,144)                             SVG X11"]="LightGreen            srgb(144,238,144)                             SVG X11";Color["LightGrey             srgb(211,211,211)                             SVG X11"]="LightGrey             srgb(211,211,211)                             SVG X11";Color["LightPink             srgb(255,182,193)                             SVG X11 XPM"]="LightPink             srgb(255,182,193)                             SVG X11 XPM";Color["LightPink1            srgb(255,174,185)                             X11"]="LightPink1            srgb(255,174,185)                             X11";Color["LightPink2            srgb(238,162,173)                             X11"]="LightPink2            srgb(238,162,173)                             X11";Color["LightPink3            srgb(205,140,149)                             X11"]="LightPink3            srgb(205,140,149)                             X11";Color["LightPink4            srgb(139,95,101)                              X11"]="LightPink4            srgb(139,95,101)                              X11";Color["LightSalmon           srgb(255,160,122)                             SVG X11 XPM"]="LightSalmon           srgb(255,160,122)                             SVG X11 XPM";Color["LightSalmon1          srgb(255,160,122)                             X11"]="LightSalmon1          srgb(255,160,122)                             X11";Color["LightSalmon2          srgb(238,149,114)                             X11"]="LightSalmon2          srgb(238,149,114)                             X11";Color["LightSalmon3          srgb(205,129,98)                              X11"]="LightSalmon3          srgb(205,129,98)                              X11";Color["LightSalmon4          srgb(139,87,66)                               X11"]="LightSalmon4          srgb(139,87,66)                               X11";Color["LightSeaGreen         srgb(32,178,170)                              SVG X11 XPM"]="LightSeaGreen         srgb(32,178,170)                              SVG X11 XPM";Color["LightSkyBlue          srgb(135,206,250)                             SVG X11 XPM"]="LightSkyBlue          srgb(135,206,250)                             SVG X11 XPM";Color["LightSkyBlue1         srgb(176,226,255)                             X11"]="LightSkyBlue1         srgb(176,226,255)                             X11";Color["LightSkyBlue2         srgb(164,211,238)                             X11"]="LightSkyBlue2         srgb(164,211,238)                             X11";Color["LightSkyBlue3         srgb(141,182,205)                             X11"]="LightSkyBlue3         srgb(141,182,205)                             X11";Color["LightSkyBlue4         srgb(96,123,139)                              X11"]="LightSkyBlue4         srgb(96,123,139)                              X11";Color["LightSlateBlue        srgb(132,112,255)                             X11 XPM"]="LightSlateBlue        srgb(132,112,255)                             X11 XPM";Color["LightSlateGray        srgb(119,136,153)                             SVG X11 XPM"]="LightSlateGray        srgb(119,136,153)                             SVG X11 XPM";Color["LightSlateGrey        srgb(119,136,153)                             SVG X11"]="LightSlateGrey        srgb(119,136,153)                             SVG X11";Color["LightSteelBlue        srgb(176,196,222)                             SVG X11 XPM"]="LightSteelBlue        srgb(176,196,222)                             SVG X11 XPM";Color["LightSteelBlue1       srgb(202,225,255)                             X11"]="LightSteelBlue1       srgb(202,225,255)                             X11";Color["LightSteelBlue2       srgb(188,210,238)                             X11"]="LightSteelBlue2       srgb(188,210,238)                             X11";Color["LightSteelBlue3       srgb(162,181,205)                             X11"]="LightSteelBlue3       srgb(162,181,205)                             X11";Color["LightSteelBlue4       srgb(110,123,139)                             X11"]="LightSteelBlue4       srgb(110,123,139)                             X11";Color["LightYellow           srgb(255,255,224)                             SVG X11 XPM"]="LightYellow           srgb(255,255,224)                             SVG X11 XPM";Color["LightYellow1          srgb(255,255,224)                             X11"]="LightYellow1          srgb(255,255,224)                             X11";Color["LightYellow2          srgb(238,238,209)                             X11"]="LightYellow2          srgb(238,238,209)                             X11";Color["LightYellow3          srgb(205,205,180)                             X11"]="LightYellow3          srgb(205,205,180)                             X11";Color["LightYellow4          srgb(139,139,122)                             X11"]="LightYellow4          srgb(139,139,122)                             X11";Color["lime                  srgb(0,255,0)                                 SVG"]="lime                  srgb(0,255,0)                                 SVG";Color["LimeGreen             srgb(50,205,50)                               SVG X11 XPM"]="LimeGreen             srgb(50,205,50)                               SVG X11 XPM";Color["linen                 srgb(250,240,230)                             SVG X11 XPM"]="linen                 srgb(250,240,230)                             SVG X11 XPM";Color["magenta               srgb(255,0,255)                               SVG X11 XPM"]="magenta               srgb(255,0,255)                               SVG X11 XPM";Color["magenta1              srgb(255,0,255)                               X11"]="magenta1              srgb(255,0,255)                               X11";Color["magenta2              srgb(238,0,238)                               X11"]="magenta2              srgb(238,0,238)                               X11";Color["magenta3              srgb(205,0,205)                               X11"]="magenta3              srgb(205,0,205)                               X11";Color["magenta4              srgb(139,0,139)                               X11"]="magenta4              srgb(139,0,139)                               X11";Color["maroon                srgb(128,0,0)                                 SVG"]="maroon                srgb(128,0,0)                                 SVG";Color["maroon                srgb(176,48,96)                               X11 XPM"]="maroon                srgb(176,48,96)                               X11 XPM";Color["maroon1               srgb(255,52,179)                              X11"]="maroon1               srgb(255,52,179)                              X11";Color["maroon2               srgb(238,48,167)                              X11"]="maroon2               srgb(238,48,167)                              X11";Color["maroon3               srgb(205,41,144)                              X11"]="maroon3               srgb(205,41,144)                              X11";Color["maroon4               srgb(139,28,98)                               X11"]="maroon4               srgb(139,28,98)                               X11";Color["matte                 srgb(0,0,0)                                   SVG"]="matte                 srgb(0,0,0)                                   SVG";Color["MediumAquamarine      srgb(102,205,170)                             SVG X11 XPM"]="MediumAquamarine      srgb(102,205,170)                             SVG X11 XPM";Color["MediumBlue            srgb(0,0,205)                                 SVG X11 XPM"]="MediumBlue            srgb(0,0,205)                                 SVG X11 XPM";Color["MediumForestGreen     srgb(50,129,75)                               X11 XPM"]="MediumForestGreen     srgb(50,129,75)                               X11 XPM";Color["MediumGoldenRod       srgb(209,193,102)                             X11 XPM"]="MediumGoldenRod       srgb(209,193,102)                             X11 XPM";Color["MediumOrchid          srgb(186,85,211)                              SVG X11 XPM"]="MediumOrchid          srgb(186,85,211)                              SVG X11 XPM";Color["MediumOrchid1         srgb(224,102,255)                             X11"]="MediumOrchid1         srgb(224,102,255)                             X11";Color["MediumOrchid2         srgb(209,95,238)                              X11"]="MediumOrchid2         srgb(209,95,238)                              X11";Color["MediumOrchid3         srgb(180,82,205)                              X11"]="MediumOrchid3         srgb(180,82,205)                              X11";Color["MediumOrchid4         srgb(122,55,139)                              X11"]="MediumOrchid4         srgb(122,55,139)                              X11";Color["MediumPurple          srgb(147,112,219)                             SVG X11 XPM"]="MediumPurple          srgb(147,112,219)                             SVG X11 XPM";Color["MediumPurple1         srgb(171,130,255)                             X11"]="MediumPurple1         srgb(171,130,255)                             X11";Color["MediumPurple2         srgb(159,121,238)                             X11"]="MediumPurple2         srgb(159,121,238)                             X11";Color["MediumPurple3         srgb(137,104,205)                             X11"]="MediumPurple3         srgb(137,104,205)                             X11";Color["MediumPurple4         srgb(93,71,139)                               X11"]="MediumPurple4         srgb(93,71,139)                               X11";Color["MediumSeaGreen        srgb(60,179,113)                              SVG X11 XPM"]="MediumSeaGreen        srgb(60,179,113)                              SVG X11 XPM";Color["MediumSlateBlue       srgb(123,104,238)                             SVG X11 XPM"]="MediumSlateBlue       srgb(123,104,238)                             SVG X11 XPM";Color["MediumSpringGreen     srgb(0,250,154)                               SVG X11 XPM"]="MediumSpringGreen     srgb(0,250,154)                               SVG X11 XPM";Color["MediumTurquoise       srgb(72,209,204)                              SVG X11 XPM"]="MediumTurquoise       srgb(72,209,204)                              SVG X11 XPM";Color["MediumVioletRed       srgb(199,21,133)                              SVG X11 XPM"]="MediumVioletRed       srgb(199,21,133)                              SVG X11 XPM";Color["MidnightBlue          srgb(25,25,112)                               SVG X11 XPM"]="MidnightBlue          srgb(25,25,112)                               SVG X11 XPM";Color["MintCream             srgb(245,255,250)                             SVG X11 XPM"]="MintCream             srgb(245,255,250)                             SVG X11 XPM";Color["MistyRose             srgb(255,228,225)                             SVG X11 XPM"]="MistyRose             srgb(255,228,225)                             SVG X11 XPM";Color["MistyRose1            srgb(255,228,225)                             X11"]="MistyRose1            srgb(255,228,225)                             X11";Color["MistyRose2            srgb(238,213,210)                             X11"]="MistyRose2            srgb(238,213,210)                             X11";Color["MistyRose3            srgb(205,183,181)                             X11"]="MistyRose3            srgb(205,183,181)                             X11";Color["MistyRose4            srgb(139,125,123)                             X11"]="MistyRose4            srgb(139,125,123)                             X11";Color["moccasin              srgb(255,228,181)                             SVG X11 XPM"]="moccasin              srgb(255,228,181)                             SVG X11 XPM";Color["NavajoWhite           srgb(255,222,173)                             SVG X11 XPM"]="NavajoWhite           srgb(255,222,173)                             SVG X11 XPM";Color["NavajoWhite1          srgb(255,222,173)                             X11"]="NavajoWhite1          srgb(255,222,173)                             X11";Color["NavajoWhite2          srgb(238,207,161)                             X11"]="NavajoWhite2          srgb(238,207,161)                             X11";Color["NavajoWhite3          srgb(205,179,139)                             X11"]="NavajoWhite3          srgb(205,179,139)                             X11";Color["NavajoWhite4          srgb(139,121,94)                              X11"]="NavajoWhite4          srgb(139,121,94)                              X11";Color["navy                  srgb(0,0,128)                                 SVG X11 XPM"]="navy                  srgb(0,0,128)                                 SVG X11 XPM";Color["NavyBlue              srgb(0,0,128)                                 X11 XPM"]="NavyBlue              srgb(0,0,128)                                 X11 XPM";Color["none                  srgb(0,0,0)                                   SVG XPM"]="none                  srgb(0,0,0)                                   SVG XPM";Color["OldLace               srgb(253,245,230)                             SVG X11 XPM"]="OldLace               srgb(253,245,230)                             SVG X11 XPM";Color["olive                 srgb(128,128,0)                               SVG"]="olive                 srgb(128,128,0)                               SVG";Color["OliveDrab             srgb(107,142,35)                              SVG X11 XPM"]="OliveDrab             srgb(107,142,35)                              SVG X11 XPM";Color["OliveDrab1            srgb(192,255,62)                              X11"]="OliveDrab1            srgb(192,255,62)                              X11";Color["OliveDrab2            srgb(179,238,58)                              X11"]="OliveDrab2            srgb(179,238,58)                              X11";Color["OliveDrab3            srgb(154,205,50)                              X11"]="OliveDrab3            srgb(154,205,50)                              X11";Color["OliveDrab4            srgb(105,139,34)                              X11"]="OliveDrab4            srgb(105,139,34)                              X11";Color["opaque                srgb(0,0,0)                                   SVG"]="opaque                srgb(0,0,0)                                   SVG";Color["orange                srgb(255,165,0)                               SVG X11 XPM"]="orange                srgb(255,165,0)                               SVG X11 XPM";Color["orange1               srgb(255,165,0)                               X11"]="orange1               srgb(255,165,0)                               X11";Color["orange2               srgb(238,154,0)                               X11"]="orange2               srgb(238,154,0)                               X11";Color["orange3               srgb(205,133,0)                               X11"]="orange3               srgb(205,133,0)                               X11";Color["orange4               srgb(139,90,0)                                X11"]="orange4               srgb(139,90,0)                                X11";Color["OrangeRed             srgb(255,69,0)                                SVG X11 XPM"]="OrangeRed             srgb(255,69,0)                                SVG X11 XPM";Color["OrangeRed1            srgb(255,69,0)                                X11"]="OrangeRed1            srgb(255,69,0)                                X11";Color["OrangeRed2            srgb(238,64,0)                                X11"]="OrangeRed2            srgb(238,64,0)                                X11";Color["OrangeRed3            srgb(205,55,0)                                X11"]="OrangeRed3            srgb(205,55,0)                                X11";Color["OrangeRed4            srgb(139,37,0)                                X11"]="OrangeRed4            srgb(139,37,0)                                X11";Color["orchid                srgb(218,112,214)                             SVG X11 XPM"]="orchid                srgb(218,112,214)                             SVG X11 XPM";Color["orchid1               srgb(255,131,250)                             X11"]="orchid1               srgb(255,131,250)                             X11";Color["orchid2               srgb(238,122,233)                             X11"]="orchid2               srgb(238,122,233)                             X11";Color["orchid3               srgb(205,105,201)                             X11"]="orchid3               srgb(205,105,201)                             X11";Color["orchid4               srgb(139,71,137)                              X11"]="orchid4               srgb(139,71,137)                              X11";Color["PaleGoldenrod         srgb(238,232,170)                             SVG X11 XPM"]="PaleGoldenrod         srgb(238,232,170)                             SVG X11 XPM";Color["PaleGreen             srgb(152,251,152)                             SVG X11 XPM"]="PaleGreen             srgb(152,251,152)                             SVG X11 XPM";Color["PaleGreen1            srgb(154,255,154)                             X11"]="PaleGreen1            srgb(154,255,154)                             X11";Color["PaleGreen2            srgb(144,238,144)                             X11"]="PaleGreen2            srgb(144,238,144)                             X11";Color["PaleGreen3            srgb(124,205,124)                             X11"]="PaleGreen3            srgb(124,205,124)                             X11";Color["PaleGreen4            srgb(84,139,84)                               X11"]="PaleGreen4            srgb(84,139,84)                               X11";Color["PaleTurquoise         srgb(175,238,238)                             SVG X11 XPM"]="PaleTurquoise         srgb(175,238,238)                             SVG X11 XPM";Color["PaleTurquoise1        srgb(187,255,255)                             X11"]="PaleTurquoise1        srgb(187,255,255)                             X11";Color["PaleTurquoise2        srgb(174,238,238)                             X11"]="PaleTurquoise2        srgb(174,238,238)                             X11";Color["PaleTurquoise3        srgb(150,205,205)                             X11"]="PaleTurquoise3        srgb(150,205,205)                             X11";Color["PaleTurquoise4        srgb(102,139,139)                             X11"]="PaleTurquoise4        srgb(102,139,139)                             X11";Color["PaleVioletRed         srgb(219,112,147)                             SVG X11 XPM"]="PaleVioletRed         srgb(219,112,147)                             SVG X11 XPM";Color["PaleVioletRed1        srgb(255,130,171)                             X11"]="PaleVioletRed1        srgb(255,130,171)                             X11";Color["PaleVioletRed2        srgb(238,121,159)                             X11"]="PaleVioletRed2        srgb(238,121,159)                             X11";Color["PaleVioletRed3        srgb(205,104,137)                             X11"]="PaleVioletRed3        srgb(205,104,137)                             X11";Color["PaleVioletRed4        srgb(139,71,93)                               X11"]="PaleVioletRed4        srgb(139,71,93)                               X11";Color["PapayaWhip            srgb(255,239,213)                             SVG X11 XPM"]="PapayaWhip            srgb(255,239,213)                             SVG X11 XPM";Color["PeachPuff             srgb(255,218,185)                             SVG X11 XPM"]="PeachPuff             srgb(255,218,185)                             SVG X11 XPM";Color["PeachPuff1            srgb(255,218,185)                             X11"]="PeachPuff1            srgb(255,218,185)                             X11";Color["PeachPuff2            srgb(238,203,173)                             X11"]="PeachPuff2            srgb(238,203,173)                             X11";Color["PeachPuff3            srgb(205,175,149)                             X11"]="PeachPuff3            srgb(205,175,149)                             X11";Color["PeachPuff4            srgb(139,119,101)                             X11"]="PeachPuff4            srgb(139,119,101)                             X11";Color["peru                  srgb(205,133,63)                              SVG X11 XPM"]="peru                  srgb(205,133,63)                              SVG X11 XPM";Color["pink                  srgb(255,192,203)                             SVG X11 XPM"]="pink                  srgb(255,192,203)                             SVG X11 XPM";Color["pink1                 srgb(255,181,197)                             X11"]="pink1                 srgb(255,181,197)                             X11";Color["pink2                 srgb(238,169,184)                             X11"]="pink2                 srgb(238,169,184)                             X11";Color["pink3                 srgb(205,145,158)                             X11"]="pink3                 srgb(205,145,158)                             X11";Color["pink4                 srgb(139,99,108)                              X11"]="pink4                 srgb(139,99,108)                              X11";Color["plum                  srgb(221,160,221)                             SVG X11 XPM"]="plum                  srgb(221,160,221)                             SVG X11 XPM";Color["plum1                 srgb(255,187,255)                             X11"]="plum1                 srgb(255,187,255)                             X11";Color["plum2                 srgb(238,174,238)                             X11"]="plum2                 srgb(238,174,238)                             X11";Color["plum3                 srgb(205,150,205)                             X11"]="plum3                 srgb(205,150,205)                             X11";Color["plum4                 srgb(139,102,139)                             X11"]="plum4                 srgb(139,102,139)                             X11";Color["PowderBlue            srgb(176,224,230)                             SVG X11 XPM"]="PowderBlue            srgb(176,224,230)                             SVG X11 XPM";Color["purple                srgb(128,0,128)                               SVG"]="purple                srgb(128,0,128)                               SVG";Color["purple                srgb(160,32,240)                              X11 XPM"]="purple                srgb(160,32,240)                              X11 XPM";Color["purple1               srgb(155,48,255)                              X11"]="purple1               srgb(155,48,255)                              X11";Color["purple2               srgb(145,44,238)                              X11"]="purple2               srgb(145,44,238)                              X11";Color["purple3               srgb(125,38,205)                              X11"]="purple3               srgb(125,38,205)                              X11";Color["purple4               srgb(85,26,139)                               X11"]="purple4               srgb(85,26,139)                               X11";Color["red                   srgb(255,0,0)                                 SVG X11 XPM"]="red                   srgb(255,0,0)                                 SVG X11 XPM";Color["red1                  srgb(255,0,0)                                 X11"]="red1                  srgb(255,0,0)                                 X11";Color["red2                  srgb(238,0,0)                                 X11"]="red2                  srgb(238,0,0)                                 X11";Color["red3                  srgb(205,0,0)                                 X11"]="red3                  srgb(205,0,0)                                 X11";Color["red4                  srgb(139,0,0)                                 X11"]="red4                  srgb(139,0,0)                                 X11";Color["RosyBrown             srgb(188,143,143)                             SVG X11 XPM"]="RosyBrown             srgb(188,143,143)                             SVG X11 XPM";Color["RosyBrown1            srgb(255,193,193)                             X11"]="RosyBrown1            srgb(255,193,193)                             X11";Color["RosyBrown2            srgb(238,180,180)                             X11"]="RosyBrown2            srgb(238,180,180)                             X11";Color["RosyBrown3            srgb(205,155,155)                             X11"]="RosyBrown3            srgb(205,155,155)                             X11";Color["RosyBrown4            srgb(139,105,105)                             X11"]="RosyBrown4            srgb(139,105,105)                             X11";Color["RoyalBlue             srgb(65,105,225)                              SVG X11 XPM"]="RoyalBlue             srgb(65,105,225)                              SVG X11 XPM";Color["RoyalBlue1            srgb(72,118,255)                              X11"]="RoyalBlue1            srgb(72,118,255)                              X11";Color["RoyalBlue2            srgb(67,110,238)                              X11"]="RoyalBlue2            srgb(67,110,238)                              X11";Color["RoyalBlue3            srgb(58,95,205)                               X11"]="RoyalBlue3            srgb(58,95,205)                               X11";Color["RoyalBlue4            srgb(39,64,139)                               X11"]="RoyalBlue4            srgb(39,64,139)                               X11";Color["SaddleBrown           srgb(139,69,19)                               SVG X11 XPM"]="SaddleBrown           srgb(139,69,19)                               SVG X11 XPM";Color["salmon                srgb(250,128,114)                             SVG X11 XPM"]="salmon                srgb(250,128,114)                             SVG X11 XPM";Color["salmon1               srgb(255,140,105)                             X11"]="salmon1               srgb(255,140,105)                             X11";Color["salmon2               srgb(238,130,98)                              X11"]="salmon2               srgb(238,130,98)                              X11";Color["salmon3               srgb(205,112,84)                              X11"]="salmon3               srgb(205,112,84)                              X11";Color["salmon4               srgb(139,76,57)                               X11"]="salmon4               srgb(139,76,57)                               X11";Color["SandyBrown            srgb(244,164,96)                              SVG X11 XPM"]="SandyBrown            srgb(244,164,96)                              SVG X11 XPM";Color["SeaGreen              srgb(46,139,87)                               SVG X11 XPM"]="SeaGreen              srgb(46,139,87)                               SVG X11 XPM";Color["SeaGreen1             srgb(84,255,159)                              X11"]="SeaGreen1             srgb(84,255,159)                              X11";Color["SeaGreen2             srgb(78,238,148)                              X11"]="SeaGreen2             srgb(78,238,148)                              X11";Color["SeaGreen3             srgb(67,205,128)                              X11"]="SeaGreen3             srgb(67,205,128)                              X11";Color["SeaGreen4             srgb(46,139,87)                               X11"]="SeaGreen4             srgb(46,139,87)                               X11";Color["seashell              srgb(255,245,238)                             SVG X11 XPM"]="seashell              srgb(255,245,238)                             SVG X11 XPM";Color["seashell1             srgb(255,245,238)                             X11"]="seashell1             srgb(255,245,238)                             X11";Color["seashell2             srgb(238,229,222)                             X11"]="seashell2             srgb(238,229,222)                             X11";Color["seashell3             srgb(205,197,191)                             X11"]="seashell3             srgb(205,197,191)                             X11";Color["seashell4             srgb(139,134,130)                             X11"]="seashell4             srgb(139,134,130)                             X11";Color["sienna                srgb(160,82,45)                               SVG X11 XPM"]="sienna                srgb(160,82,45)                               SVG X11 XPM";Color["sienna1               srgb(255,130,71)                              X11"]="sienna1               srgb(255,130,71)                              X11";Color["sienna2               srgb(238,121,66)                              X11"]="sienna2               srgb(238,121,66)                              X11";Color["sienna3               srgb(205,104,57)                              X11"]="sienna3               srgb(205,104,57)                              X11";Color["sienna4               srgb(139,71,38)                               X11"]="sienna4               srgb(139,71,38)                               X11";Color["silver                srgb(192,192,192)                             SVG"]="silver                srgb(192,192,192)                             SVG";Color["SkyBlue               srgb(135,206,235)                             SVG X11 XPM"]="SkyBlue               srgb(135,206,235)                             SVG X11 XPM";Color["SkyBlue1              srgb(135,206,255)                             X11"]="SkyBlue1              srgb(135,206,255)                             X11";Color["SkyBlue2              srgb(126,192,238)                             X11"]="SkyBlue2              srgb(126,192,238)                             X11";Color["SkyBlue3              srgb(108,166,205)                             X11"]="SkyBlue3              srgb(108,166,205)                             X11";Color["SkyBlue4              srgb(74,112,139)                              X11"]="SkyBlue4              srgb(74,112,139)                              X11";Color["SlateBlue             srgb(106,90,205)                              SVG X11 XPM"]="SlateBlue             srgb(106,90,205)                              SVG X11 XPM";Color["SlateBlue1            srgb(131,111,255)                             X11"]="SlateBlue1            srgb(131,111,255)                             X11";Color["SlateBlue2            srgb(122,103,238)                             X11"]="SlateBlue2            srgb(122,103,238)                             X11";Color["SlateBlue3            srgb(105,89,205)                              X11"]="SlateBlue3            srgb(105,89,205)                              X11";Color["SlateBlue4            srgb(71,60,139)                               X11"]="SlateBlue4            srgb(71,60,139)                               X11";Color["SlateGray             srgb(112,128,144)                             SVG X11 XPM"]="SlateGray             srgb(112,128,144)                             SVG X11 XPM";Color["SlateGray1            srgb(198,226,255)                             X11"]="SlateGray1            srgb(198,226,255)                             X11";Color["SlateGray2            srgb(185,211,238)                             X11"]="SlateGray2            srgb(185,211,238)                             X11";Color["SlateGray3            srgb(159,182,205)                             X11"]="SlateGray3            srgb(159,182,205)                             X11";Color["SlateGray4            srgb(108,123,139)                             X11"]="SlateGray4            srgb(108,123,139)                             X11";Color["SlateGrey             srgb(112,128,144)                             SVG X11"]="SlateGrey             srgb(112,128,144)                             SVG X11";Color["snow                  srgb(255,250,250)                             SVG X11 XPM"]="snow                  srgb(255,250,250)                             SVG X11 XPM";Color["snow1                 srgb(255,250,250)                             X11"]="snow1                 srgb(255,250,250)                             X11";Color["snow2                 srgb(238,233,233)                             X11"]="snow2                 srgb(238,233,233)                             X11";Color["snow3                 srgb(205,201,201)                             X11"]="snow3                 srgb(205,201,201)                             X11";Color["snow4                 srgb(139,137,137)                             X11"]="snow4                 srgb(139,137,137)                             X11";Color["SpringGreen           srgb(0,255,127)                               SVG X11 XPM"]="SpringGreen           srgb(0,255,127)                               SVG X11 XPM";Color["SpringGreen1          srgb(0,255,127)                               X11"]="SpringGreen1          srgb(0,255,127)                               X11";Color["SpringGreen2          srgb(0,238,118)                               X11"]="SpringGreen2          srgb(0,238,118)                               X11";Color["SpringGreen3          srgb(0,205,102)                               X11"]="SpringGreen3          srgb(0,205,102)                               X11";Color["SpringGreen4          srgb(0,139,69)                                X11"]="SpringGreen4          srgb(0,139,69)                                X11";Color["SteelBlue             srgb(70,130,180)                              SVG X11 XPM"]="SteelBlue             srgb(70,130,180)                              SVG X11 XPM";Color["SteelBlue1            srgb(99,184,255)                              X11"]="SteelBlue1            srgb(99,184,255)                              X11";Color["SteelBlue2            srgb(92,172,238)                              X11"]="SteelBlue2            srgb(92,172,238)                              X11";Color["SteelBlue3            srgb(79,148,205)                              X11"]="SteelBlue3            srgb(79,148,205)                              X11";Color["SteelBlue4            srgb(54,100,139)                              X11"]="SteelBlue4            srgb(54,100,139)                              X11";Color["tan                   srgb(210,180,140)                             SVG X11 XPM"]="tan                   srgb(210,180,140)                             SVG X11 XPM";Color["tan1                  srgb(255,165,79)                              X11"]="tan1                  srgb(255,165,79)                              X11";Color["tan2                  srgb(238,154,73)                              X11"]="tan2                  srgb(238,154,73)                              X11";Color["tan3                  srgb(205,133,63)                              X11"]="tan3                  srgb(205,133,63)                              X11";Color["tan4                  srgb(139,90,43)                               X11"]="tan4                  srgb(139,90,43)                               X11";Color["teal                  srgb(0,128,128)                               SVG"]="teal                  srgb(0,128,128)                               SVG";Color["thistle               srgb(216,191,216)                             SVG X11 XPM"]="thistle               srgb(216,191,216)                             SVG X11 XPM";Color["thistle1              srgb(255,225,255)                             X11"]="thistle1              srgb(255,225,255)                             X11";Color["thistle2              srgb(238,210,238)                             X11"]="thistle2              srgb(238,210,238)                             X11";Color["thistle3              srgb(205,181,205)                             X11"]="thistle3              srgb(205,181,205)                             X11";Color["thistle4              srgb(139,123,139)                             X11"]="thistle4              srgb(139,123,139)                             X11";Color["tomato                srgb(255,99,71)                               SVG X11 XPM"]="tomato                srgb(255,99,71)                               SVG X11 XPM";Color["tomato1               srgb(255,99,71)                               X11"]="tomato1               srgb(255,99,71)                               X11";Color["tomato2               srgb(238,92,66)                               X11"]="tomato2               srgb(238,92,66)                               X11";Color["tomato3               srgb(205,79,57)                               X11"]="tomato3               srgb(205,79,57)                               X11";Color["tomato4               srgb(139,54,38)                               X11"]="tomato4               srgb(139,54,38)                               X11";Color["transparent           srgb(0,0,0)                                   SVG"]="transparent           srgb(0,0,0)                                   SVG";Color["turquoise             srgb(64,224,208)                              SVG X11 XPM"]="turquoise             srgb(64,224,208)                              SVG X11 XPM";Color["turquoise1            srgb(0,245,255)                               X11"]="turquoise1            srgb(0,245,255)                               X11";Color["turquoise2            srgb(0,229,238)                               X11"]="turquoise2            srgb(0,229,238)                               X11";Color["turquoise3            srgb(0,197,205)                               X11"]="turquoise3            srgb(0,197,205)                               X11";Color["turquoise4            srgb(0,134,139)                               X11"]="turquoise4            srgb(0,134,139)                               X11";Color["violet                srgb(238,130,238)                             SVG X11 XPM"]="violet                srgb(238,130,238)                             SVG X11 XPM";Color["VioletRed             srgb(208,32,144)                              X11 XPM"]="VioletRed             srgb(208,32,144)                              X11 XPM";Color["VioletRed1            srgb(255,62,150)                              X11"]="VioletRed1            srgb(255,62,150)                              X11";Color["VioletRed2            srgb(238,58,140)                              X11"]="VioletRed2            srgb(238,58,140)                              X11";Color["VioletRed3            srgb(205,50,120)                              X11"]="VioletRed3            srgb(205,50,120)                              X11";Color["VioletRed4            srgb(139,34,82)                               X11"]="VioletRed4            srgb(139,34,82)                               X11";Color["wheat                 srgb(245,222,179)                             SVG X11 XPM"]="wheat                 srgb(245,222,179)                             SVG X11 XPM";Color["wheat1                srgb(255,231,186)                             X11"]="wheat1                srgb(255,231,186)                             X11";Color["wheat2                srgb(238,216,174)                             X11"]="wheat2                srgb(238,216,174)                             X11";Color["wheat3                srgb(205,186,150)                             X11"]="wheat3                srgb(205,186,150)                             X11";Color["wheat4                srgb(139,126,102)                             X11"]="wheat4                srgb(139,126,102)                             X11";Color["white                 srgb(255,255,255)                             SVG X11 XPM"]="white                 srgb(255,255,255)                             SVG X11 XPM";Color["WhiteSmoke            srgb(245,245,245)                             SVG X11 XPM"]="WhiteSmoke            srgb(245,245,245)                             SVG X11 XPM";Color["yellow                srgb(255,255,0)                               SVG X11 XPM"]="yellow                srgb(255,255,0)                               SVG X11 XPM";Color["yellow1               srgb(255,255,0)                               X11"]="yellow1               srgb(255,255,0)                               X11";Color["yellow2               srgb(238,238,0)                               X11"]="yellow2               srgb(238,238,0)                               X11";Color["yellow3               srgb(205,205,0)                               X11"]="yellow3               srgb(205,205,0)                               X11";Color["yellow4               srgb(139,139,0)                               X11"]="yellow4               srgb(139,139,0)                               X11";Color["YellowGreen           srgb(154,205,50)                              SVG X11 XPM"]="YellowGreen           srgb(154,205,50)                              SVG X11 XPM"})(Color=imList.Color||(imList.Color={}));let Colorspace;(function(Colorspace){Colorspace["CIELab"]="CIELab";Colorspace["CMY"]="CMY";Colorspace["CMYK"]="CMYK";Colorspace["Gray"]="Gray";Colorspace["HCL"]="HCL";Colorspace["HCLp"]="HCLp";Colorspace["HSB"]="HSB";Colorspace["HSI"]="HSI";Colorspace["HSL"]="HSL";Colorspace["HSV"]="HSV";Colorspace["HWB"]="HWB";Colorspace["Lab"]="Lab";Colorspace["LCH"]="LCH";Colorspace["LCHab"]="LCHab";Colorspace["LCHuv"]="LCHuv";Colorspace["LinearGray"]="LinearGray";Colorspace["LMS"]="LMS";Colorspace["Log"]="Log";Colorspace["Luv"]="Luv";Colorspace["OHTA"]="OHTA";Colorspace["Rec601YCbCr"]="Rec601YCbCr";Colorspace["Rec709YCbCr"]="Rec709YCbCr";Colorspace["RGB"]="RGB";Colorspace["scRGB"]="scRGB";Colorspace["sRGB"]="sRGB";Colorspace["Transparent"]="Transparent";Colorspace["xyY"]="xyY";Colorspace["XYZ"]="XYZ";Colorspace["YCbCr"]="YCbCr";Colorspace["YDbDr"]="YDbDr";Colorspace["YCC"]="YCC";Colorspace["YIQ"]="YIQ";Colorspace["YPbPr"]="YPbPr";Colorspace["YUV"]="YUV"})(Colorspace=imList.Colorspace||(imList.Colorspace={}));let Command;(function(Command){Command["-alpha"]="-alpha";Command["+background"]="+background";Command["-background"]="-background";Command["+format"]="+format";Command["-format"]="-format";Command["-quiet"]="-quiet";Command["+quiet"]="+quiet";Command["-regard-warnings"]="-regard-warnings";Command["+regard-warnings"]="+regard-warnings";Command["+repage"]="+repage";Command["-repage"]="-repage";Command["+size"]="+size";Command["-size"]="-size";Command["+virtual-pixel"]="+virtual-pixel";Command["-virtual-pixel"]="-virtual-pixel";Command["-blur"]="-blur";Command["-resize"]="-resize";Command["-adaptive-blur"]="-adaptive-blur";Command["-adaptive-resize"]="-adaptive-resize";Command["-adaptive-sharpen"]="-adaptive-sharpen";Command["-adjoin"]="-adjoin";Command["+adjoin"]="+adjoin";Command["+mattecolor"]="+mattecolor";Command["-mattecolor"]="-mattecolor";Command["-annotate"]="-annotate";Command["-antialias"]="-antialias";Command["+antialias"]="+antialias";Command["-append"]="-append";Command["+append"]="+append";Command["+attenuate"]="+attenuate";Command["-attenuate"]="-attenuate";Command["+authenticate"]="+authenticate";Command["-authenticate"]="-authenticate";Command["-auto-gamma"]="-auto-gamma";Command["-auto-level"]="-auto-level";Command["-auto-orient"]="-auto-orient";Command["-auto-threshold"]="-auto-threshold";Command["+backdrop"]="+backdrop";Command["-backdrop"]="-backdrop";Command["-bench"]="-bench";Command["+bias"]="+bias";Command["-bias"]="-bias";Command["-black-point-compensation"]="-black-point-compensation";Command["+black-point-compensation"]="+black-point-compensation";Command["-black-threshold"]="-black-threshold";Command["+blend"]="+blend";Command["-blend"]="-blend";Command["+blue-primary"]="+blue-primary";Command["-blue-primary"]="-blue-primary";Command["-blue-shift"]="-blue-shift";Command["+blue-shift"]="+blue-shift";Command["-border"]="-border";Command["+bordercolor"]="+bordercolor";Command["-bordercolor"]="-bordercolor";Command["+borderwidth"]="+borderwidth";Command["-borderwidth"]="-borderwidth";Command["-brightness-contrast"]="-brightness-contrast";Command["+cache"]="+cache";Command["-cache"]="-cache";Command["+caption"]="+caption";Command["-caption"]="-caption";Command["-cdl"]="-cdl";Command["+channel"]="+channel";Command["-channel"]="-channel";Command["-channel-fx"]="-channel-fx";Command["-charcoal"]="-charcoal";Command["-chop"]="-chop";Command["-clahe"]="-clahe";Command["-clamp"]="-clamp";Command["-clip"]="-clip";Command["+clip"]="+clip";Command["+clip-mask"]="+clip-mask";Command["-clip-mask"]="-clip-mask";Command["-clip-path"]="-clip-path";Command["+clip-path"]="+clip-path";Command["+clone"]="+clone";Command["-clone"]="-clone";Command["-clut"]="-clut";Command["-coalesce"]="-coalesce";Command["-colorize"]="-colorize";Command["+colormap"]="+colormap";Command["-colormap"]="-colormap";Command["-color-matrix"]="-color-matrix";Command["-colors"]="-colors";Command["+colorspace"]="+colorspace";Command["-colorspace"]="-colorspace";Command["-combine"]="-combine";Command["+combine"]="+combine";Command["+comment"]="+comment";Command["-comment"]="-comment";Command["-compare"]="-compare";Command["-complex"]="-complex";Command["+compose"]="+compose";Command["-compose"]="-compose";Command["-composite"]="-composite";Command["+compress"]="+compress";Command["-compress"]="-compress";Command["-concurrent"]="-concurrent";Command["-connected-components"]="-connected-components";Command["-contrast-stretch"]="-contrast-stretch";Command["-convolve"]="-convolve";Command["-copy"]="-copy";Command["-crop"]="-crop";Command["-cycle"]="-cycle";Command["+debug"]="+debug";Command["-debug"]="-debug";Command["-decipher"]="-decipher";Command["-define"]="-define";Command["+define"]="+define";Command["+delay"]="+delay";Command["-delay"]="-delay";Command["+delete"]="+delete";Command["-delete"]="-delete";Command["+density"]="+density";Command["-density"]="-density";Command["+depth"]="+depth";Command["-depth"]="-depth";Command["+descend"]="+descend";Command["-descend"]="-descend";Command["+deskew"]="+deskew";Command["-deskew"]="-deskew";Command["-despeckle"]="-despeckle";Command["+direction"]="+direction";Command["-direction"]="-direction";Command["+displace"]="+displace";Command["-displace"]="-displace";Command["-display"]="-display";Command["+display"]="+display";Command["+dispose"]="+dispose";Command["-dispose"]="-dispose";Command["+dissimilarity-threshold"]="+dissimilarity-threshold";Command["-dissimilarity-threshold"]="-dissimilarity-threshold";Command["+dissolve"]="+dissolve";Command["-dissolve"]="-dissolve";Command["-distort"]="-distort";Command["+distort"]="+distort";Command["+dither"]="+dither";Command["-dither"]="-dither";Command["-draw"]="-draw";Command["+duplicate"]="+duplicate";Command["-duplicate"]="-duplicate";Command["-duration"]="-duration";Command["+duration"]="+duration";Command["-edge"]="-edge";Command["-emboss"]="-emboss";Command["-encipher"]="-encipher";Command["+encoding"]="+encoding";Command["-encoding"]="-encoding";Command["+endian"]="+endian";Command["-endian"]="-endian";Command["-enhance"]="-enhance";Command["-equalize"]="-equalize";Command["-evaluate"]="-evaluate";Command["-evaluate-sequence"]="-evaluate-sequence";Command["-exit"]="-exit";Command["-extent"]="-extent";Command["+extract"]="+extract";Command["-extract"]="-extract";Command["-family"]="-family";Command["+features"]="+features";Command["-features"]="-features";Command["-fft"]="-fft";Command["+fft"]="+fft";Command["+fill"]="+fill";Command["-fill"]="-fill";Command["+filter"]="+filter";Command["-filter"]="-filter";Command["-flatten"]="-flatten";Command["-flip"]="-flip";Command["-floodfill"]="-floodfill";Command["+floodfill"]="+floodfill";Command["-flop"]="-flop";Command["+font"]="+font";Command["-font"]="-font";Command["+foreground"]="+foreground";Command["-foreground"]="-foreground";Command["-frame"]="-frame";Command["-function"]="-function";Command["+fuzz"]="+fuzz";Command["-fuzz"]="-fuzz";Command["-fx"]="-fx";Command["-gamma"]="-gamma";Command["+gamma"]="+gamma";Command["-gaussian-blur"]="-gaussian-blur";Command["+geometry"]="+geometry";Command["-geometry"]="-geometry";Command["+gravity"]="+gravity";Command["-gravity"]="-gravity";Command["-grayscale"]="-grayscale";Command["+green-primary"]="+green-primary";Command["-green-primary"]="-green-primary";Command["-hald-clut"]="-hald-clut";Command["+highlight-color"]="+highlight-color";Command["-highlight-color"]="-highlight-color";Command["+iconGeometry"]="+iconGeometry";Command["-iconGeometry"]="-iconGeometry";Command["-iconic"]="-iconic";Command["+iconic"]="+iconic";Command["-identify"]="-identify";Command["-ift"]="-ift";Command["+ift"]="+ift";Command["-immutable"]="-immutable";Command["+immutable"]="+immutable";Command["-implode"]="-implode";Command["+insert"]="+insert";Command["-insert"]="-insert";Command["+intensity"]="+intensity";Command["-intensity"]="-intensity";Command["+intent"]="+intent";Command["-intent"]="-intent";Command["+interlace"]="+interlace";Command["-interlace"]="-interlace";Command["+interline-spacing"]="+interline-spacing";Command["-interline-spacing"]="-interline-spacing";Command["+interpolate"]="+interpolate";Command["-interpolate"]="-interpolate";Command["-interpolative-resize"]="-interpolative-resize";Command["+interword-spacing"]="+interword-spacing";Command["-interword-spacing"]="-interword-spacing";Command["+kerning"]="+kerning";Command["-kerning"]="-kerning";Command["-kuwahara"]="-kuwahara";Command["+label"]="+label";Command["-label"]="-label";Command["-lat"]="-lat";Command["-layers"]="-layers";Command["-level"]="-level";Command["+level"]="+level";Command["-level-colors"]="-level-colors";Command["+level-colors"]="+level-colors";Command["-limit"]="-limit";Command["-linear-stretch"]="-linear-stretch";Command["-liquid-rescale"]="-liquid-rescale";Command["-list"]="-list";Command["-local-contrast"]="-local-contrast";Command["+log"]="+log";Command["-log"]="-log";Command["+loop"]="+loop";Command["-loop"]="-loop";Command["+lowlight-color"]="+lowlight-color";Command["-lowlight-color"]="-lowlight-color";Command["-magnify"]="-magnify";Command["+mask"]="+mask";Command["-mask"]="-mask";Command["+metric"]="+metric";Command["-metric"]="-metric";Command["+mode"]="+mode";Command["-modulate"]="-modulate";Command["-moments"]="-moments";Command["+moments"]="+moments";Command["-monitor"]="-monitor";Command["+monitor"]="+monitor";Command["+monochrome"]="+monochrome";Command["-monochrome"]="-monochrome";Command["-morph"]="-morph";Command["-morphology"]="-morphology";Command["-mosaic"]="-mosaic";Command["-motion-blur"]="-motion-blur";Command["+name"]="+name";Command["-name"]="-name";Command["+negate"]="+negate";Command["-negate"]="-negate";Command["-noise"]="-noise";Command["+noise"]="+noise";Command["-noop"]="-noop";Command["-normalize"]="-normalize";Command["-opaque"]="-opaque";Command["+opaque"]="+opaque";Command["-ordered-dither"]="-ordered-dither";Command["+orient"]="+orient";Command["-orient"]="-orient";Command["+page"]="+page";Command["-page"]="-page";Command["-paint"]="-paint";Command["+path"]="+path";Command["-path"]="-path";Command["+pause"]="+pause";Command["-pause"]="-pause";Command["-ping"]="-ping";Command["+ping"]="+ping";Command["+pointsize"]="+pointsize";Command["-pointsize"]="-pointsize";Command["+polaroid"]="+polaroid";Command["-polaroid"]="-polaroid";Command["-poly"]="-poly";Command["-posterize"]="-posterize";Command["+precision"]="+precision";Command["-precision"]="-precision";Command["-preview"]="-preview";Command["-print"]="-print";Command["-process"]="-process";Command["+profile"]="+profile";Command["-profile"]="-profile";Command["+quality"]="+quality";Command["-quality"]="-quality";Command["+quantize"]="+quantize";Command["-quantize"]="-quantize";Command["-raise"]="-raise";Command["+raise"]="+raise";Command["-random-threshold"]="-random-threshold";Command["-range-threshold"]="-range-threshold";Command["-read"]="-read";Command["+read-mask"]="+read-mask";Command["-read-mask"]="-read-mask";Command["+red-primary"]="+red-primary";Command["-red-primary"]="-red-primary";Command["+region"]="+region";Command["-region"]="-region";Command["+remap"]="+remap";Command["-remap"]="-remap";Command["+remote"]="+remote";Command["-remote"]="-remote";Command["-render"]="-render";Command["+render"]="+render";Command["-resample"]="-resample";Command["-respect-parenthesis"]="-respect-parenthesis";Command["+respect-parenthesis"]="+respect-parenthesis";Command["-reverse"]="-reverse";Command["-roll"]="-roll";Command["-rotate"]="-rotate";Command["-rotational-blur"]="-rotational-blur";Command["-sample"]="-sample";Command["+sampling-factor"]="+sampling-factor";Command["-sampling-factor"]="-sampling-factor";Command["-scale"]="-scale";Command["+scene"]="+scene";Command["-scene"]="-scene";Command["+scenes"]="+scenes";Command["-scenes"]="-scenes";Command["+screen"]="+screen";Command["-screen"]="-screen";Command["-script"]="-script";Command["+seed"]="+seed";Command["-seed"]="-seed";Command["-segment"]="-segment";Command["-selective-blur"]="-selective-blur";Command["-separate"]="-separate";Command["-sepia-tone"]="-sepia-tone";Command["+set"]="+set";Command["-set"]="-set";Command["-shade"]="-shade";Command["-shadow"]="-shadow";Command["+shared-memory"]="+shared-memory";Command["-shared-memory"]="-shared-memory";Command["-sharpen"]="-sharpen";Command["-shave"]="-shave";Command["-shear"]="-shear";Command["-sigmoidal-contrast"]="-sigmoidal-contrast";Command["+sigmoidal-contrast"]="+sigmoidal-contrast";Command["+silent"]="+silent";Command["-silent"]="-silent";Command["+similarity-threshold"]="+similarity-threshold";Command["-similarity-threshold"]="-similarity-threshold";Command["-sketch"]="-sketch";Command["-smush"]="-smush";Command["+smush"]="+smush";Command["+snaps"]="+snaps";Command["-snaps"]="-snaps";Command["-solarize"]="-solarize";Command["-sparse-color"]="-sparse-color";Command["-splice"]="-splice";Command["-spread"]="-spread";Command["-statistic"]="-statistic";Command["+stegano"]="+stegano";Command["-stegano"]="-stegano";Command["-stereo"]="-stereo";Command["-stretch"]="-stretch";Command["-strip"]="-strip";Command["+stroke"]="+stroke";Command["-stroke"]="-stroke";Command["-strokewidth"]="-strokewidth";Command["+strokewidth"]="+strokewidth";Command["+style"]="+style";Command["-style"]="-style";Command["-subimage"]="-subimage";Command["-subimage-search"]="-subimage-search";Command["+subimage-search"]="+subimage-search";Command["+swap"]="+swap";Command["-swap"]="-swap";Command["-swirl"]="-swirl";Command["-synchronize"]="-synchronize";Command["+synchronize"]="+synchronize";Command["-taint"]="-taint";Command["+taint"]="+taint";Command["+text-font"]="+text-font";Command["-text-font"]="-text-font";Command["+texture"]="+texture";Command["-texture"]="-texture";Command["+threshold"]="+threshold";Command["-threshold"]="-threshold";Command["-thumbnail"]="-thumbnail";Command["+tile"]="+tile";Command["-tile"]="-tile";Command["+tile-offset"]="+tile-offset";Command["-tile-offset"]="-tile-offset";Command["-tint"]="-tint";Command["+tint"]="+tint";Command["+title"]="+title";Command["-title"]="-title";Command["-transparent"]="-transparent";Command["+transparent"]="+transparent";Command["+transparent-color"]="+transparent-color";Command["-transparent-color"]="-transparent-color";Command["-transpose"]="-transpose";Command["-transverse"]="-transverse";Command["-treedepth"]="-treedepth";Command["-trim"]="-trim";Command["+type"]="+type";Command["-type"]="-type";Command["+undercolor"]="+undercolor";Command["-undercolor"]="-undercolor";Command["-unique"]="-unique";Command["+unique"]="+unique";Command["-unique-colors"]="-unique-colors";Command["+units"]="+units";Command["-units"]="-units";Command["-unsharp"]="-unsharp";Command["+update"]="+update";Command["-update"]="-update";Command["+use-pixmap"]="+use-pixmap";Command["-use-pixmap"]="-use-pixmap";Command["-verbose"]="-verbose";Command["+verbose"]="+verbose";Command["-version"]="-version";Command["+view"]="+view";Command["-view"]="-view";Command["-vignette"]="-vignette";Command["+visual"]="+visual";Command["-visual"]="-visual";Command["+watermark"]="+watermark";Command["-watermark"]="-watermark";Command["-wave"]="-wave";Command["-wavelet-denoise"]="-wavelet-denoise";Command["-weight"]="-weight";Command["+white-point"]="+white-point";Command["-white-point"]="-white-point";Command["-white-threshold"]="-white-threshold";Command["+window"]="+window";Command["-window"]="-window";Command["+window-group"]="+window-group";Command["-window-group"]="-window-group";Command["-write"]="-write";Command["+write"]="+write";Command["+write-mask"]="+write-mask";Command["-write-mask"]="-write-mask"})(Command=imList.Command||(imList.Command={}));let Compliance;(function(Compliance){Compliance["CSS"]="CSS";Compliance["MVG"]="MVG";Compliance["No"]="No";Compliance["SVG"]="SVG";Compliance["X11"]="X11";Compliance["XPM"]="XPM"})(Compliance=imList.Compliance||(imList.Compliance={}));let Complex;(function(Complex){Complex["Add"]="Add";Complex["Conjugate"]="Conjugate";Complex["Divide"]="Divide";Complex["MagnitudePhase"]="MagnitudePhase";Complex["Multiply"]="Multiply";Complex["RealImaginary"]="RealImaginary";Complex["Subtract"]="Subtract"})(Complex=imList.Complex||(imList.Complex={}));let Compose;(function(Compose){Compose["Atop"]="Atop";Compose["Blend"]="Blend";Compose["Blur"]="Blur";Compose["Bumpmap"]="Bumpmap";Compose["ChangeMask"]="ChangeMask";Compose["Clear"]="Clear";Compose["ColorBurn"]="ColorBurn";Compose["ColorDodge"]="ColorDodge";Compose["Colorize"]="Colorize";Compose["CopyAlpha"]="CopyAlpha";Compose["CopyBlack"]="CopyBlack";Compose["CopyBlue"]="CopyBlue";Compose["CopyCyan"]="CopyCyan";Compose["CopyGreen"]="CopyGreen";Compose["Copy"]="Copy";Compose["CopyMagenta"]="CopyMagenta";Compose["CopyRed"]="CopyRed";Compose["CopyYellow"]="CopyYellow";Compose["Darken"]="Darken";Compose["DarkenIntensity"]="DarkenIntensity";Compose["DivideDst"]="DivideDst";Compose["DivideSrc"]="DivideSrc";Compose["Dst"]="Dst";Compose["Difference"]="Difference";Compose["Displace"]="Displace";Compose["Dissolve"]="Dissolve";Compose["Distort"]="Distort";Compose["DstAtop"]="DstAtop";Compose["DstIn"]="DstIn";Compose["DstOut"]="DstOut";Compose["DstOver"]="DstOver";Compose["Exclusion"]="Exclusion";Compose["HardLight"]="HardLight";Compose["HardMix"]="HardMix";Compose["Hue"]="Hue";Compose["In"]="In";Compose["Intensity"]="Intensity";Compose["Lighten"]="Lighten";Compose["LightenIntensity"]="LightenIntensity";Compose["LinearBurn"]="LinearBurn";Compose["LinearDodge"]="LinearDodge";Compose["LinearLight"]="LinearLight";Compose["Luminize"]="Luminize";Compose["Mathematics"]="Mathematics";Compose["MinusDst"]="MinusDst";Compose["MinusSrc"]="MinusSrc";Compose["Modulate"]="Modulate";Compose["ModulusAdd"]="ModulusAdd";Compose["ModulusSubtract"]="ModulusSubtract";Compose["Multiply"]="Multiply";Compose["None"]="None";Compose["Out"]="Out";Compose["Overlay"]="Overlay";Compose["Over"]="Over";Compose["PegtopLight"]="PegtopLight";Compose["PinLight"]="PinLight";Compose["Plus"]="Plus";Compose["Replace"]="Replace";Compose["Saturate"]="Saturate";Compose["Screen"]="Screen";Compose["SoftLight"]="SoftLight";Compose["Src"]="Src";Compose["SrcAtop"]="SrcAtop";Compose["SrcIn"]="SrcIn";Compose["SrcOut"]="SrcOut";Compose["SrcOver"]="SrcOver";Compose["Stereo"]="Stereo";Compose["VividLight"]="VividLight";Compose["Xor"]="Xor"})(Compose=imList.Compose||(imList.Compose={}));let Compress;(function(Compress){Compress["B44A"]="B44A";Compress["B44"]="B44";Compress["BZip"]="BZip";Compress["DWAA"]="DWAA";Compress["DWAB"]="DWAB";Compress["DXT1"]="DXT1";Compress["DXT3"]="DXT3";Compress["DXT5"]="DXT5";Compress["Fax"]="Fax";Compress["Group4"]="Group4";Compress["JBIG1"]="JBIG1";Compress["JBIG2"]="JBIG2";Compress["JPEG2000"]="JPEG2000";Compress["JPEG"]="JPEG";Compress["LosslessJPEG"]="LosslessJPEG";Compress["Lossless"]="Lossless";Compress["LZMA"]="LZMA";Compress["LZW"]="LZW";Compress["None"]="None";Compress["Piz"]="Piz";Compress["Pxr24"]="Pxr24";Compress["RLE"]="RLE";Compress["RunlengthEncoded"]="RunlengthEncoded";Compress["WebP"]="WebP";Compress["ZipS"]="ZipS";Compress["Zip"]="Zip";Compress["Zstd"]="Zstd"})(Compress=imList.Compress||(imList.Compress={}));let Configure;(function(Configure){Configure[""]="";Configure["Path: [built-in]"]="Path: [built-in]";Configure["Name                  Value"]="Name                  Value";Configure["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Configure["DELEGATES             fftw freetype jng jp2 jpeg lcms png raw tiff webp zlib"]="DELEGATES             fftw freetype jng jp2 jpeg lcms png raw tiff webp zlib";Configure["FEATURES              Cipher HDRI"]="FEATURES              Cipher HDRI";Configure["MAGICK_TEMPORARY_PATH /tmp"]="MAGICK_TEMPORARY_PATH /tmp";Configure["NAME                  ImageMagick"]="NAME                  ImageMagick";Configure["QuantumDepth          Q16"]="QuantumDepth          Q16"})(Configure=imList.Configure||(imList.Configure={}));let DataType;(function(DataType){DataType["Byte"]="Byte";DataType["Long"]="Long";DataType["Short"]="Short";DataType["String"]="String"})(DataType=imList.DataType||(imList.DataType={}));let Debug;(function(Debug){Debug["All"]="All";Debug["Accelerate"]="Accelerate";Debug["Annotate"]="Annotate";Debug["Blob"]="Blob";Debug["Cache"]="Cache";Debug["Coder"]="Coder";Debug["Command"]="Command";Debug["Configure"]="Configure";Debug["Deprecate"]="Deprecate";Debug["Draw"]="Draw";Debug["Exception"]="Exception";Debug["Locale"]="Locale";Debug["Module"]="Module";Debug["None"]="None";Debug["Pixel"]="Pixel";Debug["Policy"]="Policy";Debug["Resource"]="Resource";Debug["Trace"]="Trace";Debug["Transform"]="Transform";Debug["User"]="User";Debug["Wand"]="Wand";Debug["X11"]="X11"})(Debug=imList.Debug||(imList.Debug={}));let Decoration;(function(Decoration){Decoration["LineThrough"]="LineThrough";Decoration["None"]="None";Decoration["Overline"]="Overline";Decoration["Underline"]="Underline"})(Decoration=imList.Decoration||(imList.Decoration={}));let Delegate;(function(Delegate){Delegate[""]="";Delegate["Path: built-in"]="Path: built-in";Delegate["Delegate                Command"]="Delegate                Command";Delegate["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Delegate["bmp<= wdp       \"mv '%i' '%i.bmp'; 'JxrEncApp' -i '%i.bmp' -o '%o.jxr'; mv '%i.bmp' '%i'; mv '%o.jxr' '%o\""]="bmp<= wdp       \"mv '%i' '%i.bmp'; 'JxrEncApp' -i '%i.bmp' -o '%o.jxr'; mv '%i.bmp' '%i'; mv '%o.jxr' '%o\"";Delegate["bmp<= jxr       \"mv '%i' '%i.bmp'; 'JxrEncApp' -i '%i.bmp' -o '%o.jxr'; mv '%i.bmp' '%i'; mv '%o.jxr' '%o\""]="bmp<= jxr       \"mv '%i' '%i.bmp'; 'JxrEncApp' -i '%i.bmp' -o '%o.jxr'; mv '%i.bmp' '%i'; mv '%o.jxr' '%o\"";Delegate["bpg =>          \"bpgdec' -b 16 -o '%o.png' '%i'; mv '%o.png' '%o\""]="bpg =>          \"bpgdec' -b 16 -o '%o.png' '%i'; mv '%o.png' '%o\"";Delegate["cdr =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\""]="cdr =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\"";Delegate["cgm =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\""]="cgm =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\"";Delegate["dng:decode =>          \"ufraw-batch' --silent --create-id=also --out-type=png --out-depth=16 '--output=%u.png' '%i\""]="dng:decode =>          \"ufraw-batch' --silent --create-id=also --out-type=png --out-depth=16 '--output=%u.png' '%i\"";Delegate["doc =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="doc =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["docx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="docx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["dot =>          \"dot' -Tsvg '%i' -o '%o\""]="dot =>          \"dot' -Tsvg '%i' -o '%o\"";Delegate["dvi =>          \"dvips' -sstdout=%%stderr -o '%o' '%i\""]="dvi =>          \"dvips' -sstdout=%%stderr -o '%o' '%i\"";Delegate["dxf =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\""]="dxf =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\"";Delegate["eps<=>pdf       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 '-sDEVICE=pdfwrite' '-sOutputFile=%o' '-f%i\""]="eps<=>pdf       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 '-sDEVICE=pdfwrite' '-sOutputFile=%o' '-f%i\"";Delegate["eps<=>ps        \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=ps2write' '-sOutputFile=%o' '-f%i\""]="eps<=>ps        \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=ps2write' '-sOutputFile=%o' '-f%i\"";Delegate["fig =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\""]="fig =>          \"uniconvertor' '%i' '%o.svg'; mv '%o.svg' '%o\"";Delegate["hpg =>          \"hp2xx' -sstdout=%%stderr -m eps -f `basename '%o'` '%i';     mv -f `basename '%o'` '%o\""]="hpg =>          \"hp2xx' -sstdout=%%stderr -m eps -f `basename '%o'` '%i';     mv -f `basename '%o'` '%o\"";Delegate["hpgl =>          \"hp2xx' -sstdout=%%stderr -m eps -f `basename '%o'` '%i';     mv -f `basename '%o'` '%o\""]="hpgl =>          \"hp2xx' -sstdout=%%stderr -m eps -f `basename '%o'` '%i';     mv -f `basename '%o'` '%o\"";Delegate["htm =>          \"html2ps' -U -o '%o' '%i\""]="htm =>          \"html2ps' -U -o '%o' '%i\"";Delegate["html =>          \"html2ps' -U -o '%o' '%i\""]="html =>          \"html2ps' -U -o '%o' '%i\"";Delegate["https =>          \"curl' -s -k -L -o '%o' 'https:%M\""]="https =>          \"curl' -s -k -L -o '%o' 'https:%M\"";Delegate["ilbm =>          \"ilbmtoppm' '%i' > '%o\""]="ilbm =>          \"ilbmtoppm' '%i' > '%o\"";Delegate["jpg<= lep       \"lepton' '%i' '%o\""]="jpg<= lep       \"lepton' '%i' '%o\"";Delegate["jxr =>          \"mv '%i' '%i.jxr'; 'JxrDecApp' -i '%i.jxr' -o '%o.pnm'; mv '%i.jxr' '%i'; mv '%o.pnm' '%o\""]="jxr =>          \"mv '%i' '%i.jxr'; 'JxrDecApp' -i '%i.jxr' -o '%o.pnm'; mv '%i.jxr' '%i'; mv '%o.pnm' '%o\"";Delegate["lep =>          \"lepton' '%i' '%o\""]="lep =>          \"lepton' '%i' '%o\"";Delegate["mpeg:decode =>          \"avconv' -v -1 -i '%i' -vframes %S -vcodec pam -an -f rawvideo -y '%u.pam' 2> '%u\""]="mpeg:decode =>          \"avconv' -v -1 -i '%i' -vframes %S -vcodec pam -an -f rawvideo -y '%u.pam' 2> '%u\"";Delegate["odt =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="odt =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["pdf<=>eps       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 -sPDFPassword='%a' '-sDEVICE=eps2write' '-sOutputFile=%o' '-f%i\""]="pdf<=>eps       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 -sPDFPassword='%a' '-sDEVICE=eps2write' '-sOutputFile=%o' '-f%i\"";Delegate["pdf<=>ps        \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=ps2write' -sPDFPassword='%a' '-sOutputFile=%o' '-f%i\""]="pdf<=>ps        \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=ps2write' -sPDFPassword='%a' '-sOutputFile=%o' '-f%i\"";Delegate["png<= bpg       \"bpgenc' -b 12 -q %~ -o '%o' '%i\""]="png<= bpg       \"bpgenc' -b 12 -q %~ -o '%o' '%i\"";Delegate["png<= webp      \"cwebp' -quiet -q %Q '%i' -o '%o\""]="png<= webp      \"cwebp' -quiet -q %Q '%i' -o '%o\"";Delegate["pnm<= ilbm      \"ppmtoilbm' -24if '%i' > '%o\""]="pnm<= ilbm      \"ppmtoilbm' -24if '%i' > '%o\"";Delegate["ppt =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="ppt =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["pptx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="pptx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["ps<= prt       \"lpr' '%i\""]="ps<= prt       \"lpr' '%i\"";Delegate["ps<=>eps       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=eps2write' '-sOutputFile=%o' '-f%i\""]="ps<=>eps       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=eps2write' '-sOutputFile=%o' '-f%i\"";Delegate["ps<=>pdf       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=pdfwrite' '-sOutputFile=%o' '-f%i\""]="ps<=>pdf       \"gs' -sstdout=%%stderr -dQUIET -dSAFER -dBATCH -dNOPAUSE -dNOPROMPT -dMaxBitmap=500000000 -dAlignToPixels=0 -dGridFitTT=2 '-sDEVICE=pdfwrite' '-sOutputFile=%o' '-f%i\"";Delegate['ps<= print     "lpr \'%i"']='ps<= print     "lpr \'%i"';Delegate["shtml =>          \"html2ps' -U -o '%o' '%i\""]="shtml =>          \"html2ps' -U -o '%o' '%i\"";Delegate["sid =>          \"mrsidgeodecode' -if sid -i '%i' -of tif -o '%o' > '%u\""]="sid =>          \"mrsidgeodecode' -if sid -i '%i' -of tif -o '%o' > '%u\"";Delegate["svg =>          \"rsvg-convert' -o '%o' '%i\""]="svg =>          \"rsvg-convert' -o '%o' '%i\"";Delegate["tiff<= launch    \"gimp' '%i\""]="tiff<= launch    \"gimp' '%i\"";Delegate["wdp =>          \"mv '%i' '%i.jxr'; 'JxrDecApp' -i '%i.jxr' -o '%o.bmp'; mv '%i.jxr' '%i'; mv '%o.bmp' '%o\""]="wdp =>          \"mv '%i' '%i.jxr'; 'JxrDecApp' -i '%i.jxr' -o '%o.bmp'; mv '%i.jxr' '%i'; mv '%o.bmp' '%o\"";Delegate["webp =>          \"dwebp' -pam '%i' -o '%o\""]="webp =>          \"dwebp' -pam '%i' -o '%o\"";Delegate["xls =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="xls =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\"";Delegate["xlsx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""]="xlsx =>          \"soffice' --convert-to pdf -outdir `dirname '%i'` '%i' 2> '%u'; mv '%i.pdf' '%o\""})(Delegate=imList.Delegate||(imList.Delegate={}));let Direction;(function(Direction){Direction["right-to-left"]="right-to-left";Direction["left-to-right"]="left-to-right"})(Direction=imList.Direction||(imList.Direction={}));let Dispose;(function(Dispose){Dispose["Undefined"]="Undefined";Dispose["Background"]="Background";Dispose["None"]="None";Dispose["Previous"]="Previous"})(Dispose=imList.Dispose||(imList.Dispose={}));let Distort;(function(Distort){Distort["Affine"]="Affine";Distort["AffineProjection"]="AffineProjection";Distort["ScaleRotateTranslate"]="ScaleRotateTranslate";Distort["SRT"]="SRT";Distort["Perspective"]="Perspective";Distort["PerspectiveProjection"]="PerspectiveProjection";Distort["BilinearForward"]="BilinearForward";Distort["BilinearReverse"]="BilinearReverse";Distort["Polynomial"]="Polynomial";Distort["Arc"]="Arc";Distort["Polar"]="Polar";Distort["DePolar"]="DePolar";Distort["Barrel"]="Barrel";Distort["BarrelInverse"]="BarrelInverse";Distort["Shepards"]="Shepards";Distort["Resize"]="Resize"})(Distort=imList.Distort||(imList.Distort={}));let Dither;(function(Dither){Dither["None"]="None";Dither["FloydSteinberg"]="FloydSteinberg";Dither["Riemersma"]="Riemersma"})(Dither=imList.Dither||(imList.Dither={}));let Endian;(function(Endian){Endian["LSB"]="LSB";Endian["MSB"]="MSB"})(Endian=imList.Endian||(imList.Endian={}));let Evaluate;(function(Evaluate){Evaluate["Abs"]="Abs";Evaluate["Add"]="Add";Evaluate["AddModulus"]="AddModulus";Evaluate["And"]="And";Evaluate["Cos"]="Cos";Evaluate["Cosine"]="Cosine";Evaluate["Divide"]="Divide";Evaluate["Exp"]="Exp";Evaluate["Exponential"]="Exponential";Evaluate["GaussianNoise"]="GaussianNoise";Evaluate["ImpulseNoise"]="ImpulseNoise";Evaluate["LaplacianNoise"]="LaplacianNoise";Evaluate["LeftShift"]="LeftShift";Evaluate["Log"]="Log";Evaluate["Max"]="Max";Evaluate["Mean"]="Mean";Evaluate["Median"]="Median";Evaluate["Min"]="Min";Evaluate["MultiplicativeNoise"]="MultiplicativeNoise";Evaluate["Multiply"]="Multiply";Evaluate["Or"]="Or";Evaluate["PoissonNoise"]="PoissonNoise";Evaluate["Pow"]="Pow";Evaluate["RightShift"]="RightShift";Evaluate["RMS"]="RMS";Evaluate["RootMeanSquare"]="RootMeanSquare";Evaluate["Set"]="Set";Evaluate["Sin"]="Sin";Evaluate["Sine"]="Sine";Evaluate["Subtract"]="Subtract";Evaluate["Sum"]="Sum";Evaluate["Threshold"]="Threshold";Evaluate["ThresholdBlack"]="ThresholdBlack";Evaluate["ThresholdWhite"]="ThresholdWhite";Evaluate["UniformNoise"]="UniformNoise";Evaluate["Xor"]="Xor"})(Evaluate=imList.Evaluate||(imList.Evaluate={}));let FillRule;(function(FillRule){FillRule["Evenodd"]="Evenodd";FillRule["NonZero"]="NonZero"})(FillRule=imList.FillRule||(imList.FillRule={}));let Filter;(function(Filter){Filter["Bartlett"]="Bartlett";Filter["Blackman"]="Blackman";Filter["Bohman"]="Bohman";Filter["Box"]="Box";Filter["Catrom"]="Catrom";Filter["Cosine"]="Cosine";Filter["Cubic"]="Cubic";Filter["Gaussian"]="Gaussian";Filter["Hamming"]="Hamming";Filter["Hann"]="Hann";Filter["Hermite"]="Hermite";Filter["Jinc"]="Jinc";Filter["Kaiser"]="Kaiser";Filter["Lagrange"]="Lagrange";Filter["Lanczos"]="Lanczos";Filter["Lanczos2"]="Lanczos2";Filter["Lanczos2Sharp"]="Lanczos2Sharp";Filter["LanczosRadius"]="LanczosRadius";Filter["LanczosSharp"]="LanczosSharp";Filter["Mitchell"]="Mitchell";Filter["Parzen"]="Parzen";Filter["Point"]="Point";Filter["Quadratic"]="Quadratic";Filter["Robidoux"]="Robidoux";Filter["RobidouxSharp"]="RobidouxSharp";Filter["Sinc"]="Sinc";Filter["SincFast"]="SincFast";Filter["Spline"]="Spline";Filter["CubicSpline"]="CubicSpline";Filter["Triangle"]="Triangle";Filter["Welch"]="Welch"})(Filter=imList.Filter||(imList.Filter={}));let Font;(function(Font){})(Font=imList.Font||(imList.Font={}));let Format;(function(Format){Format["Format  Mode  Description"]="Format  Mode  Description";Format["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Format["A* rw+   Raw alpha samples"]="A* rw+   Raw alpha samples";Format["AAI* rw+   AAI Dune image"]="AAI* rw+   AAI Dune image";Format["AI  rw-   Adobe Illustrator CS2"]="AI  rw-   Adobe Illustrator CS2";Format["ART* rw-   PFS: 1st Publisher Clip Art"]="ART* rw-   PFS: 1st Publisher Clip Art";Format["ARW  r--   Sony Alpha Raw Image Format"]="ARW  r--   Sony Alpha Raw Image Format";Format["AVI  r--   Microsoft Audio/Visual Interleaved"]="AVI  r--   Microsoft Audio/Visual Interleaved";Format["AVS* rw+   AVS X image"]="AVS* rw+   AVS X image";Format["B* rw+   Raw blue samples"]="B* rw+   Raw blue samples";Format["BGR* rw+   Raw blue, green, and red samples"]="BGR* rw+   Raw blue, green, and red samples";Format["BGRA* rw+   Raw blue, green, red, and alpha samples"]="BGRA* rw+   Raw blue, green, red, and alpha samples";Format["BGRO* rw+   Raw blue, green, red, and opacity samples"]="BGRO* rw+   Raw blue, green, red, and opacity samples";Format["BMP* rw-   Microsoft Windows bitmap image"]="BMP* rw-   Microsoft Windows bitmap image";Format["BMP2* rw-   Microsoft Windows bitmap image (V2)"]="BMP2* rw-   Microsoft Windows bitmap image (V2)";Format["BMP3* rw-   Microsoft Windows bitmap image (V3)"]="BMP3* rw-   Microsoft Windows bitmap image (V3)";Format["BRF* -w-   BRF ASCII Braille format"]="BRF* -w-   BRF ASCII Braille format";Format["C* rw+   Raw cyan samples"]="C* rw+   Raw cyan samples";Format["CAL* rw-   Continuous Acquisition and Life-cycle Support Type 1"]="CAL* rw-   Continuous Acquisition and Life-cycle Support Type 1";Format["Specified in MIL-R-28002 and MIL-PRF-28002"]="Specified in MIL-R-28002 and MIL-PRF-28002";Format["CALS* rw-   Continuous Acquisition and Life-cycle Support Type 1"]="CALS* rw-   Continuous Acquisition and Life-cycle Support Type 1";Format["CANVAS* r--   Constant image uniform color"]="CANVAS* r--   Constant image uniform color";Format["CAPTION* r--   Caption"]="CAPTION* r--   Caption";Format["CIN* rw-   Cineon Image File"]="CIN* rw-   Cineon Image File";Format["CIP* -w-   Cisco IP phone image format"]="CIP* -w-   Cisco IP phone image format";Format["CLIP* rw+   Image Clip Mask"]="CLIP* rw+   Image Clip Mask";Format["CMYK* rw+   Raw cyan, magenta, yellow, and black samples"]="CMYK* rw+   Raw cyan, magenta, yellow, and black samples";Format["CMYKA* rw+   Raw cyan, magenta, yellow, black, and alpha samples"]="CMYKA* rw+   Raw cyan, magenta, yellow, black, and alpha samples";Format["CR2  r--   Canon Digital Camera Raw Image Format"]="CR2  r--   Canon Digital Camera Raw Image Format";Format["CRW  r--   Canon Digital Camera Raw Image Format"]="CRW  r--   Canon Digital Camera Raw Image Format";Format["CUBE* r--   Cube LUT"]="CUBE* r--   Cube LUT";Format["CUR* rw-   Microsoft icon"]="CUR* rw-   Microsoft icon";Format["CUT* r--   DR Halo"]="CUT* r--   DR Halo";Format["DATA* rw+   Base64-encoded inline images"]="DATA* rw+   Base64-encoded inline images";Format["DCM* r--   Digital Imaging and Communications in Medicine image"]="DCM* r--   Digital Imaging and Communications in Medicine image";Format["DICOM is used by the medical community for images like X-rays.  The"]="DICOM is used by the medical community for images like X-rays.  The";Format['specification, "Digital Imaging and Communications in Medicine']='specification, "Digital Imaging and Communications in Medicine';Format['(DICOM)", is available at http://medical.nema.org/.  In particular,']='(DICOM)", is available at http://medical.nema.org/.  In particular,';Format["see part 5 which describes the image encoding (RLE, JPEG, JPEG-LS),"]="see part 5 which describes the image encoding (RLE, JPEG, JPEG-LS),";Format["and supplement 61 which adds JPEG-2000 encoding."]="and supplement 61 which adds JPEG-2000 encoding.";Format["DCR  r--   Kodak Digital Camera Raw Image File"]="DCR  r--   Kodak Digital Camera Raw Image File";Format["DCRAW  r--   Raw Photo Decoder (dcraw)"]="DCRAW  r--   Raw Photo Decoder (dcraw)";Format["DCX* rw+   ZSoft IBM PC multi-page Paintbrush"]="DCX* rw+   ZSoft IBM PC multi-page Paintbrush";Format["DDS* rw+   Microsoft DirectDraw Surface"]="DDS* rw+   Microsoft DirectDraw Surface";Format["DFONT* r--   Multi-face font package (Freetype 2.10.0)"]="DFONT* r--   Multi-face font package (Freetype 2.10.0)";Format["DNG  r--   Digital Negative"]="DNG  r--   Digital Negative";Format["DPX* rw-   SMPTE 268M-2003 (DPX 2.0)"]="DPX* rw-   SMPTE 268M-2003 (DPX 2.0)";Format["Digital Moving Picture Exchange Bitmap, Version 2.0."]="Digital Moving Picture Exchange Bitmap, Version 2.0.";Format["See SMPTE 268M-2003 specification at http://www.smtpe.org"]="See SMPTE 268M-2003 specification at http://www.smtpe.org";Format[""]="";Format["DXT1* rw+   Microsoft DirectDraw Surface"]="DXT1* rw+   Microsoft DirectDraw Surface";Format["DXT5* rw+   Microsoft DirectDraw Surface"]="DXT5* rw+   Microsoft DirectDraw Surface";Format["EPDF  rw-   Encapsulated Portable Document Format"]="EPDF  rw-   Encapsulated Portable Document Format";Format["EPI  rw-   Encapsulated PostScript Interchange format"]="EPI  rw-   Encapsulated PostScript Interchange format";Format["EPS  rw-   Encapsulated PostScript"]="EPS  rw-   Encapsulated PostScript";Format["EPS2  -w-   Level II Encapsulated PostScript"]="EPS2  -w-   Level II Encapsulated PostScript";Format["EPS3  -w+   Level III Encapsulated PostScript"]="EPS3  -w+   Level III Encapsulated PostScript";Format["EPSF  rw-   Encapsulated PostScript"]="EPSF  rw-   Encapsulated PostScript";Format["EPSI  rw-   Encapsulated PostScript Interchange format"]="EPSI  rw-   Encapsulated PostScript Interchange format";Format["EPT  rw-   Encapsulated PostScript with TIFF preview"]="EPT  rw-   Encapsulated PostScript with TIFF preview";Format["EPT2  rw-   Encapsulated PostScript Level II with TIFF preview"]="EPT2  rw-   Encapsulated PostScript Level II with TIFF preview";Format["EPT3  rw+   Encapsulated PostScript Level III with TIFF preview"]="EPT3  rw+   Encapsulated PostScript Level III with TIFF preview";Format["ERF  r--   Epson RAW Format"]="ERF  r--   Epson RAW Format";Format["FAX* rw+   Group 3 FAX"]="FAX* rw+   Group 3 FAX";Format["FAX machines use non-square pixels which are 1.5 times wider than"]="FAX machines use non-square pixels which are 1.5 times wider than";Format["they are tall but computer displays use square pixels, therefore"]="they are tall but computer displays use square pixels, therefore";Format["FAX images may appear to be narrow unless they are explicitly"]="FAX images may appear to be narrow unless they are explicitly";Format['resized using a geometry of "150x100%".']='resized using a geometry of "150x100%".';Format["FILE* r--   Uniform Resource Locator (file://)"]="FILE* r--   Uniform Resource Locator (file://)";Format["FITS* rw-   Flexible Image Transport System"]="FITS* rw-   Flexible Image Transport System";Format["FLV  rw+   Flash Video Stream"]="FLV  rw+   Flash Video Stream";Format["FRACTAL* r--   Plasma fractal image"]="FRACTAL* r--   Plasma fractal image";Format["FTP* ---   Uniform Resource Locator (ftp://)"]="FTP* ---   Uniform Resource Locator (ftp://)";Format["FTS* rw-   Flexible Image Transport System"]="FTS* rw-   Flexible Image Transport System";Format["G* rw+   Raw green samples"]="G* rw+   Raw green samples";Format["G3* rw-   Group 3 FAX"]="G3* rw-   Group 3 FAX";Format["G4* rw-   Group 4 FAX"]="G4* rw-   Group 4 FAX";Format["GIF* rw+   CompuServe graphics interchange format"]="GIF* rw+   CompuServe graphics interchange format";Format["GIF87* rw-   CompuServe graphics interchange format (version 87a)"]="GIF87* rw-   CompuServe graphics interchange format (version 87a)";Format["GRADIENT* r--   Gradual linear passing from one shade to another"]="GRADIENT* r--   Gradual linear passing from one shade to another";Format["GRAY* rw+   Raw gray samples"]="GRAY* rw+   Raw gray samples";Format["GRAYA* rw+   Raw gray and alpha samples"]="GRAYA* rw+   Raw gray and alpha samples";Format["GROUP4* rw-   Raw CCITT Group4"]="GROUP4* rw-   Raw CCITT Group4";Format["HALD* r--   Identity Hald color lookup table image"]="HALD* r--   Identity Hald color lookup table image";Format["HDR* rw+   Radiance RGBE image format"]="HDR* rw+   Radiance RGBE image format";Format["HISTOGRAM* -w-   Histogram of the image"]="HISTOGRAM* -w-   Histogram of the image";Format["HRZ* rw-   Slow Scan TeleVision"]="HRZ* rw-   Slow Scan TeleVision";Format["HTM* -w-   Hypertext Markup Language and a client-side image map"]="HTM* -w-   Hypertext Markup Language and a client-side image map";Format["HTML* -w-   Hypertext Markup Language and a client-side image map"]="HTML* -w-   Hypertext Markup Language and a client-side image map";Format["HTTP* ---   Uniform Resource Locator (http://)"]="HTTP* ---   Uniform Resource Locator (http://)";Format["HTTPS* ---   Uniform Resource Locator (https://)"]="HTTPS* ---   Uniform Resource Locator (https://)";Format["ICB* rw-   Truevision Targa image"]="ICB* rw-   Truevision Targa image";Format["ICO* rw+   Microsoft icon"]="ICO* rw+   Microsoft icon";Format["ICON* rw-   Microsoft icon"]="ICON* rw-   Microsoft icon";Format["IIQ  r--   Phase One Raw Image Format"]="IIQ  r--   Phase One Raw Image Format";Format["INFO  -w+   The image format and characteristics"]="INFO  -w+   The image format and characteristics";Format["INLINE* rw+   Base64-encoded inline images"]="INLINE* rw+   Base64-encoded inline images";Format["IPL* rw+   IPL Image Sequence"]="IPL* rw+   IPL Image Sequence";Format["ISOBRL* -w-   ISO/TR 11548-1 format"]="ISOBRL* -w-   ISO/TR 11548-1 format";Format["ISOBRL6* -w-   ISO/TR 11548-1 format 6dot"]="ISOBRL6* -w-   ISO/TR 11548-1 format 6dot";Format["J2C* rw-   JPEG-2000 Code Stream Syntax (2.3.1)"]="J2C* rw-   JPEG-2000 Code Stream Syntax (2.3.1)";Format["J2K* rw-   JPEG-2000 Code Stream Syntax (2.3.1)"]="J2K* rw-   JPEG-2000 Code Stream Syntax (2.3.1)";Format["JNG* rw-   JPEG Network Graphics"]="JNG* rw-   JPEG Network Graphics";Format["See http://www.libpng.org/pub/mng/ for details about the JNG"]="See http://www.libpng.org/pub/mng/ for details about the JNG";Format["format."]="format.";Format["JNX* r--   Garmin tile format"]="JNX* r--   Garmin tile format";Format["JP2* rw-   JPEG-2000 File Format Syntax (2.3.1)"]="JP2* rw-   JPEG-2000 File Format Syntax (2.3.1)";Format["JPC* rw-   JPEG-2000 Code Stream Syntax (2.3.1)"]="JPC* rw-   JPEG-2000 Code Stream Syntax (2.3.1)";Format["JPE* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)"]="JPE* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)";Format["JPEG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)"]="JPEG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)";Format["JPG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)"]="JPG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)";Format["JPM* rw-   JPEG-2000 File Format Syntax (2.3.1)"]="JPM* rw-   JPEG-2000 File Format Syntax (2.3.1)";Format["JPS* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)"]="JPS* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)";Format["JPT* rw-   JPEG-2000 File Format Syntax (2.3.1)"]="JPT* rw-   JPEG-2000 File Format Syntax (2.3.1)";Format["JSON  -w+   The image format and characteristics"]="JSON  -w+   The image format and characteristics";Format["K* rw+   Raw black samples"]="K* rw+   Raw black samples";Format["K25  r--   Kodak Digital Camera Raw Image Format"]="K25  r--   Kodak Digital Camera Raw Image Format";Format["KDC  r--   Kodak Digital Camera Raw Image Format"]="KDC  r--   Kodak Digital Camera Raw Image Format";Format["LABEL* r--   Image label"]="LABEL* r--   Image label";Format["M* rw+   Raw magenta samples"]="M* rw+   Raw magenta samples";Format["M2V  rw+   MPEG Video Stream"]="M2V  rw+   MPEG Video Stream";Format["M4V  rw+   Raw MPEG-4 Video"]="M4V  rw+   Raw MPEG-4 Video";Format["MAC* r--   MAC Paint"]="MAC* r--   MAC Paint";Format["MAP* rw-   Colormap intensities and indices"]="MAP* rw-   Colormap intensities and indices";Format["MASK* rw+   Image Clip Mask"]="MASK* rw+   Image Clip Mask";Format["MAT  rw+   MATLAB level 5 image format"]="MAT  rw+   MATLAB level 5 image format";Format["MATTE* -w+   MATTE format"]="MATTE* -w+   MATTE format";Format["MEF  r--   Mamiya Raw Image File"]="MEF  r--   Mamiya Raw Image File";Format["MIFF* rw+   Magick Image File Format"]="MIFF* rw+   Magick Image File Format";Format["MKV  rw+   Multimedia Container"]="MKV  rw+   Multimedia Container";Format["MNG* rw+   Multiple-image Network Graphics (libpng 1.6.37)"]="MNG* rw+   Multiple-image Network Graphics (libpng 1.6.37)";Format["See http://www.libpng.org/pub/mng/ for details about the MNG"]="See http://www.libpng.org/pub/mng/ for details about the MNG";Format["MONO* rw-   Raw bi-level bitmap"]="MONO* rw-   Raw bi-level bitmap";Format["MOV  rw+   MPEG Video Stream"]="MOV  rw+   MPEG Video Stream";Format["MP4  rw+   MPEG-4 Video Stream"]="MP4  rw+   MPEG-4 Video Stream";Format["MPC* rw+   Magick Persistent Cache image format"]="MPC* rw+   Magick Persistent Cache image format";Format["MPEG  rw+   MPEG Video Stream"]="MPEG  rw+   MPEG Video Stream";Format["MPG  rw+   MPEG Video Stream"]="MPG  rw+   MPEG Video Stream";Format["MRW  r--   Sony (Minolta) Raw Image File"]="MRW  r--   Sony (Minolta) Raw Image File";Format["MSL* ---   Magick Scripting Language"]="MSL* ---   Magick Scripting Language";Format["MSVG  -w+   ImageMagick's own SVG internal renderer"]="MSVG  -w+   ImageMagick's own SVG internal renderer";Format["MTV* rw+   MTV Raytracing image format"]="MTV* rw+   MTV Raytracing image format";Format["MVG* rw-   Magick Vector Graphics"]="MVG* rw-   Magick Vector Graphics";Format["NEF  r--   Nikon Digital SLR Camera Raw Image File"]="NEF  r--   Nikon Digital SLR Camera Raw Image File";Format["NRW  r--   Nikon Digital SLR Camera Raw Image File"]="NRW  r--   Nikon Digital SLR Camera Raw Image File";Format["NULL* rw-   Constant image of uniform color"]="NULL* rw-   Constant image of uniform color";Format["O* rw+   Raw opacity samples"]="O* rw+   Raw opacity samples";Format["ORF  r--   Olympus Digital Camera Raw Image File"]="ORF  r--   Olympus Digital Camera Raw Image File";Format["OTB* rw-   On-the-air bitmap"]="OTB* rw-   On-the-air bitmap";Format["OTF* r--   Open Type font (Freetype 2.10.0)"]="OTF* r--   Open Type font (Freetype 2.10.0)";Format["PAL* rw-   16bit/pixel interleaved YUV"]="PAL* rw-   16bit/pixel interleaved YUV";Format["PALM* rw+   Palm pixmap"]="PALM* rw+   Palm pixmap";Format["PAM* rw+   Common 2-dimensional bitmap format"]="PAM* rw+   Common 2-dimensional bitmap format";Format["PANGO* ---   Pango Markup Language"]="PANGO* ---   Pango Markup Language";Format["PATTERN* r--   Predefined pattern"]="PATTERN* r--   Predefined pattern";Format["PBM* rw+   Portable bitmap format (black and white)"]="PBM* rw+   Portable bitmap format (black and white)";Format["PCD* rw-   Photo CD"]="PCD* rw-   Photo CD";Format["PCDS* rw-   Photo CD"]="PCDS* rw-   Photo CD";Format["PCL  rw+   Printer Control Language"]="PCL  rw+   Printer Control Language";Format["PCT* rw-   Apple Macintosh QuickDraw/PICT"]="PCT* rw-   Apple Macintosh QuickDraw/PICT";Format["PCX* rw-   ZSoft IBM PC Paintbrush"]="PCX* rw-   ZSoft IBM PC Paintbrush";Format["PDB* rw+   Palm Database ImageViewer Format"]="PDB* rw+   Palm Database ImageViewer Format";Format["PDF  rw+   Portable Document Format"]="PDF  rw+   Portable Document Format";Format["PDFA  rw+   Portable Document Archive Format"]="PDFA  rw+   Portable Document Archive Format";Format["PEF  r--   Pentax Electronic File"]="PEF  r--   Pentax Electronic File";Format["PES* r--   Embrid Embroidery Format"]="PES* r--   Embrid Embroidery Format";Format["PFA* r--   Postscript Type 1 font (ASCII) (Freetype 2.10.0)"]="PFA* r--   Postscript Type 1 font (ASCII) (Freetype 2.10.0)";Format["PFB* r--   Postscript Type 1 font (binary) (Freetype 2.10.0)"]="PFB* r--   Postscript Type 1 font (binary) (Freetype 2.10.0)";Format["PFM* rw+   Portable float format"]="PFM* rw+   Portable float format";Format["PGM* rw+   Portable graymap format (gray scale)"]="PGM* rw+   Portable graymap format (gray scale)";Format["PGX* rw-   JPEG 2000 uncompressed format"]="PGX* rw-   JPEG 2000 uncompressed format";Format["PICON* rw-   Personal Icon"]="PICON* rw-   Personal Icon";Format["PICT* rw-   Apple Macintosh QuickDraw/PICT"]="PICT* rw-   Apple Macintosh QuickDraw/PICT";Format["PIX* r--   Alias/Wavefront RLE image format"]="PIX* r--   Alias/Wavefront RLE image format";Format["PJPEG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)"]="PJPEG* rw-   Joint Photographic Experts Group JFIF format (libjpeg 90)";Format["PLASMA* r--   Plasma fractal image"]="PLASMA* r--   Plasma fractal image";Format["PNG* rw-   Portable Network Graphics (libpng 1.6.37)"]="PNG* rw-   Portable Network Graphics (libpng 1.6.37)";Format["See http://www.libpng.org/ for details about the PNG format."]="See http://www.libpng.org/ for details about the PNG format.";Format["PNG00* rw-   PNG inheriting bit-depth, color-type from original, if possible"]="PNG00* rw-   PNG inheriting bit-depth, color-type from original, if possible";Format["PNG24* rw-   opaque or binary transparent 24-bit RGB (zlib 1.2.11)"]="PNG24* rw-   opaque or binary transparent 24-bit RGB (zlib 1.2.11)";Format["PNG32* rw-   opaque or transparent 32-bit RGBA"]="PNG32* rw-   opaque or transparent 32-bit RGBA";Format["PNG48* rw-   opaque or binary transparent 48-bit RGB"]="PNG48* rw-   opaque or binary transparent 48-bit RGB";Format["PNG64* rw-   opaque or transparent 64-bit RGBA"]="PNG64* rw-   opaque or transparent 64-bit RGBA";Format["PNG8* rw-   8-bit indexed with optional binary transparency"]="PNG8* rw-   8-bit indexed with optional binary transparency";Format["PNM* rw+   Portable anymap"]="PNM* rw+   Portable anymap";Format["PPM* rw+   Portable pixmap format (color)"]="PPM* rw+   Portable pixmap format (color)";Format["PS  rw+   PostScript"]="PS  rw+   PostScript";Format["PS2  -w+   Level II PostScript"]="PS2  -w+   Level II PostScript";Format["PS3  -w+   Level III PostScript"]="PS3  -w+   Level III PostScript";Format["PSB* rw+   Adobe Large Document Format"]="PSB* rw+   Adobe Large Document Format";Format["PSD* rw+   Adobe Photoshop bitmap"]="PSD* rw+   Adobe Photoshop bitmap";Format["PTIF* rw+   Pyramid encoded TIFF"]="PTIF* rw+   Pyramid encoded TIFF";Format["PWP* r--   Seattle Film Works"]="PWP* r--   Seattle Film Works";Format["R* rw+   Raw red samples"]="R* rw+   Raw red samples";Format["RADIAL-GRADIENT* r--   Gradual radial passing from one shade to another"]="RADIAL-GRADIENT* r--   Gradual radial passing from one shade to another";Format["RAF  r--   Fuji CCD-RAW Graphic File"]="RAF  r--   Fuji CCD-RAW Graphic File";Format["RAS* rw+   SUN Rasterfile"]="RAS* rw+   SUN Rasterfile";Format["RAW  r--   Raw"]="RAW  r--   Raw";Format["RGB* rw+   Raw red, green, and blue samples"]="RGB* rw+   Raw red, green, and blue samples";Format["RGB565* r--   Raw red, green, blue samples in 565 format"]="RGB565* r--   Raw red, green, blue samples in 565 format";Format["RGBA* rw+   Raw red, green, blue, and alpha samples"]="RGBA* rw+   Raw red, green, blue, and alpha samples";Format["RGBO* rw+   Raw red, green, blue, and opacity samples"]="RGBO* rw+   Raw red, green, blue, and opacity samples";Format["RGF* rw-   LEGO Mindstorms EV3 Robot Graphic Format (black and white)"]="RGF* rw-   LEGO Mindstorms EV3 Robot Graphic Format (black and white)";Format["RLA* r--   Alias/Wavefront image"]="RLA* r--   Alias/Wavefront image";Format["RLE* r--   Utah Run length encoded image"]="RLE* r--   Utah Run length encoded image";Format["RMF  r--   Raw Media Format"]="RMF  r--   Raw Media Format";Format["RW2  r--   Panasonic Lumix Raw Image"]="RW2  r--   Panasonic Lumix Raw Image";Format["SCR* r--   ZX-Spectrum SCREEN$"]="SCR* r--   ZX-Spectrum SCREEN$";Format["SCREENSHOT* r--   Screen shot"]="SCREENSHOT* r--   Screen shot";Format["SCT* r--   Scitex HandShake"]="SCT* r--   Scitex HandShake";Format["SFW* r--   Seattle Film Works"]="SFW* r--   Seattle Film Works";Format["SGI* rw+   Irix RGB image"]="SGI* rw+   Irix RGB image";Format["SHTML* -w-   Hypertext Markup Language and a client-side image map"]="SHTML* -w-   Hypertext Markup Language and a client-side image map";Format["SIX* rw-   DEC SIXEL Graphics Format"]="SIX* rw-   DEC SIXEL Graphics Format";Format["SIXEL* rw-   DEC SIXEL Graphics Format"]="SIXEL* rw-   DEC SIXEL Graphics Format";Format["SPARSE-COLOR* -w+   Sparse Color"]="SPARSE-COLOR* -w+   Sparse Color";Format["SR2  r--   Sony Raw Format 2"]="SR2  r--   Sony Raw Format 2";Format["SRF  r--   Sony Raw Format"]="SRF  r--   Sony Raw Format";Format["STEGANO* r--   Steganographic image"]="STEGANO* r--   Steganographic image";Format["SUN* rw+   SUN Rasterfile"]="SUN* rw+   SUN Rasterfile";Format["SVG  rw+   Scalable Vector Graphics"]="SVG  rw+   Scalable Vector Graphics";Format["SVGZ  -w+   Compressed Scalable Vector Graphics"]="SVGZ  -w+   Compressed Scalable Vector Graphics";Format["TEXT* r--   Text"]="TEXT* r--   Text";Format["TGA* rw-   Truevision Targa image"]="TGA* rw-   Truevision Targa image";Format["THUMBNAIL* -w+   EXIF Profile Thumbnail"]="THUMBNAIL* -w+   EXIF Profile Thumbnail";Format["TIFF* rw+   Tagged Image File Format (LIBTIFF, Version 4.0.10)"]="TIFF* rw+   Tagged Image File Format (LIBTIFF, Version 4.0.10)";Format["TIFF64* rw+   Tagged Image File Format (64-bit) (LIBTIFF, Version 4.0.10)"]="TIFF64* rw+   Tagged Image File Format (64-bit) (LIBTIFF, Version 4.0.10)";Format["TILE* r--   Tile image with a texture"]="TILE* r--   Tile image with a texture";Format["TIM* r--   PSX TIM"]="TIM* r--   PSX TIM";Format["TM2* r--   PS2 TIM2"]="TM2* r--   PS2 TIM2";Format["TTC* r--   TrueType font collection (Freetype 2.10.0)"]="TTC* r--   TrueType font collection (Freetype 2.10.0)";Format["TTF* r--   TrueType font (Freetype 2.10.0)"]="TTF* r--   TrueType font (Freetype 2.10.0)";Format["TXT* rw+   Text"]="TXT* rw+   Text";Format["UBRL* -w-   Unicode Text format"]="UBRL* -w-   Unicode Text format";Format["UBRL6* -w-   Unicode Text format 6dot"]="UBRL6* -w-   Unicode Text format 6dot";Format["UIL* -w-   X-Motif UIL table"]="UIL* -w-   X-Motif UIL table";Format["UYVY* rw-   16bit/pixel interleaved YUV"]="UYVY* rw-   16bit/pixel interleaved YUV";Format["VDA* rw-   Truevision Targa image"]="VDA* rw-   Truevision Targa image";Format["VICAR* rw-   VICAR rasterfile format"]="VICAR* rw-   VICAR rasterfile format";Format["VID* rw+   Visual Image Directory"]="VID* rw+   Visual Image Directory";Format["VIFF* rw+   Khoros Visualization image"]="VIFF* rw+   Khoros Visualization image";Format["VIPS* rw+   VIPS image"]="VIPS* rw+   VIPS image";Format["VST* rw-   Truevision Targa image"]="VST* rw-   Truevision Targa image";Format["WBMP* rw-   Wireless Bitmap (level 0) image"]="WBMP* rw-   Wireless Bitmap (level 0) image";Format["WEBP* rw-   WebP Image Format (libwebp 1.0.2 [020E])"]="WEBP* rw-   WebP Image Format (libwebp 1.0.2 [020E])";Format["WMV  rw+   Windows Media Video"]="WMV  rw+   Windows Media Video";Format["WPG* r--   Word Perfect Graphics"]="WPG* r--   Word Perfect Graphics";Format["X3F  r--   Sigma Camera RAW Picture File"]="X3F  r--   Sigma Camera RAW Picture File";Format["XBM* rw-   X Windows system bitmap (black and white)"]="XBM* rw-   X Windows system bitmap (black and white)";Format["XC* r--   Constant image uniform color"]="XC* r--   Constant image uniform color";Format["XCF* r--   GIMP image"]="XCF* r--   GIMP image";Format["XPM* rw-   X Windows system pixmap (color)"]="XPM* rw-   X Windows system pixmap (color)";Format["XPS  r--   Microsoft XML Paper Specification"]="XPS  r--   Microsoft XML Paper Specification";Format["XV* rw+   Khoros Visualization image"]="XV* rw+   Khoros Visualization image";Format["Y* rw+   Raw yellow samples"]="Y* rw+   Raw yellow samples";Format["YCbCr* rw+   Raw Y, Cb, and Cr samples"]="YCbCr* rw+   Raw Y, Cb, and Cr samples";Format["YCbCrA* rw+   Raw Y, Cb, Cr, and alpha samples"]="YCbCrA* rw+   Raw Y, Cb, Cr, and alpha samples";Format["YUV* rw-   CCIR 601 4:1:1 or 4:2:2"]="YUV* rw-   CCIR 601 4:1:1 or 4:2:2";Format["* native blob support"]="* native blob support";Format["r read support"]="r read support";Format["w write support"]="w write support";Format["+ support for multiple images"]="+ support for multiple images"})(Format=imList.Format||(imList.Format={}));let Function_;(function(Function_){Function_["Polynomial"]="Polynomial";Function_["Sinusoid"]="Sinusoid";Function_["ArcSin"]="ArcSin";Function_["ArcTan"]="ArcTan"})(Function_=imList.Function_||(imList.Function_={}));let Gradient;(function(Gradient){Gradient["Linear"]="Linear";Gradient["Radial"]="Radial"})(Gradient=imList.Gradient||(imList.Gradient={}));let Gravity;(function(Gravity){Gravity["None"]="None";Gravity["Center"]="Center";Gravity["East"]="East";Gravity["Forget"]="Forget";Gravity["NorthEast"]="NorthEast";Gravity["North"]="North";Gravity["NorthWest"]="NorthWest";Gravity["SouthEast"]="SouthEast";Gravity["South"]="South";Gravity["SouthWest"]="SouthWest";Gravity["West"]="West"})(Gravity=imList.Gravity||(imList.Gravity={}));let Intensity;(function(Intensity){Intensity["Average"]="Average";Intensity["Brightness"]="Brightness";Intensity["Lightness"]="Lightness";Intensity["Mean"]="Mean";Intensity["MS"]="MS";Intensity["Rec601Luma"]="Rec601Luma";Intensity["Rec601Luminance"]="Rec601Luminance";Intensity["Rec709Luma"]="Rec709Luma";Intensity["Rec709Luminance"]="Rec709Luminance";Intensity["RMS"]="RMS"})(Intensity=imList.Intensity||(imList.Intensity={}));let Intent;(function(Intent){Intent["Absolute"]="Absolute";Intent["Perceptual"]="Perceptual";Intent["Relative"]="Relative";Intent["Saturation"]="Saturation"})(Intent=imList.Intent||(imList.Intent={}));let Interlace;(function(Interlace){Interlace["Line"]="Line";Interlace["None"]="None";Interlace["Plane"]="Plane";Interlace["Partition"]="Partition";Interlace["GIF"]="GIF";Interlace["JPEG"]="JPEG";Interlace["PNG"]="PNG"})(Interlace=imList.Interlace||(imList.Interlace={}));let Interpolate;(function(Interpolate){Interpolate["Average"]="Average";Interpolate["Average4"]="Average4";Interpolate["Average9"]="Average9";Interpolate["Average16"]="Average16";Interpolate["Background"]="Background";Interpolate["Bilinear"]="Bilinear";Interpolate["Blend"]="Blend";Interpolate["Catrom"]="Catrom";Interpolate["Integer"]="Integer";Interpolate["Mesh"]="Mesh";Interpolate["Nearest"]="Nearest";Interpolate["Spline"]="Spline"})(Interpolate=imList.Interpolate||(imList.Interpolate={}));let Kernel;(function(Kernel){Kernel["Unity"]="Unity";Kernel["Gaussian"]="Gaussian";Kernel["DoG"]="DoG";Kernel["LoG"]="LoG";Kernel["Blur"]="Blur";Kernel["Comet"]="Comet";Kernel["Binomial"]="Binomial";Kernel["Laplacian"]="Laplacian";Kernel["Sobel"]="Sobel";Kernel["FreiChen"]="FreiChen";Kernel["Roberts"]="Roberts";Kernel["Prewitt"]="Prewitt";Kernel["Compass"]="Compass";Kernel["Kirsch"]="Kirsch";Kernel["Diamond"]="Diamond";Kernel["Square"]="Square";Kernel["Rectangle"]="Rectangle";Kernel["Disk"]="Disk";Kernel["Octagon"]="Octagon";Kernel["Plus"]="Plus";Kernel["Cross"]="Cross";Kernel["Ring"]="Ring";Kernel["Peaks"]="Peaks";Kernel["Edges"]="Edges";Kernel["Corners"]="Corners";Kernel["Diagonals"]="Diagonals";Kernel["LineEnds"]="LineEnds";Kernel["LineJunctions"]="LineJunctions";Kernel["Ridges"]="Ridges";Kernel["ConvexHull"]="ConvexHull";Kernel["ThinSe"]="ThinSe";Kernel["Skeleton"]="Skeleton";Kernel["Chebyshev"]="Chebyshev";Kernel["Manhattan"]="Manhattan";Kernel["Octagonal"]="Octagonal";Kernel["Euclidean"]="Euclidean"})(Kernel=imList.Kernel||(imList.Kernel={}));let Layers;(function(Layers){Layers["Coalesce"]="Coalesce";Layers["CompareAny"]="CompareAny";Layers["CompareClear"]="CompareClear";Layers["CompareOverlay"]="CompareOverlay";Layers["Dispose"]="Dispose";Layers["Optimize"]="Optimize";Layers["OptimizeFrame"]="OptimizeFrame";Layers["OptimizePlus"]="OptimizePlus";Layers["OptimizeTransparency"]="OptimizeTransparency";Layers["RemoveDups"]="RemoveDups";Layers["RemoveZero"]="RemoveZero";Layers["Composite"]="Composite";Layers["Merge"]="Merge";Layers["Flatten"]="Flatten";Layers["Mosaic"]="Mosaic";Layers["TrimBounds"]="TrimBounds"})(Layers=imList.Layers||(imList.Layers={}));let LineCap;(function(LineCap){LineCap["Butt"]="Butt";LineCap["Round"]="Round";LineCap["Square"]="Square"})(LineCap=imList.LineCap||(imList.LineCap={}));let LineJoin;(function(LineJoin){LineJoin["Bevel"]="Bevel";LineJoin["Miter"]="Miter";LineJoin["Round"]="Round"})(LineJoin=imList.LineJoin||(imList.LineJoin={}));let List;(function(List){List["Align"]="Align";List["Alpha"]="Alpha";List["AutoThreshold"]="AutoThreshold";List["Boolean"]="Boolean";List["Cache"]="Cache";List["Channel"]="Channel";List["Class"]="Class";List["CLI"]="CLI";List["ClipPath"]="ClipPath";List["Coder"]="Coder";List["Color"]="Color";List["Colorspace"]="Colorspace";List["Command"]="Command";List["Compliance"]="Compliance";List["Complex"]="Complex";List["Compose"]="Compose";List["Compress"]="Compress";List["Configure"]="Configure";List["DataType"]="DataType";List["Debug"]="Debug";List["Decoration"]="Decoration";List["Delegate"]="Delegate";List["Direction"]="Direction";List["Dispose"]="Dispose";List["Distort"]="Distort";List["Dither"]="Dither";List["Endian"]="Endian";List["Evaluate"]="Evaluate";List["FillRule"]="FillRule";List["Filter"]="Filter";List["Font"]="Font";List["Format"]="Format";List["Function"]="Function";List["Gradient"]="Gradient";List["Gravity"]="Gravity";List["Intensity"]="Intensity";List["Intent"]="Intent";List["Interlace"]="Interlace";List["Interpolate"]="Interpolate";List["Kernel"]="Kernel";List["Layers"]="Layers";List["LineCap"]="LineCap";List["LineJoin"]="LineJoin";List["List"]="List";List["Locale"]="Locale";List["LogEvent"]="LogEvent";List["Log"]="Log";List["Magic"]="Magic";List["Method"]="Method";List["Metric"]="Metric";List["Mime"]="Mime";List["Mode"]="Mode";List["Morphology"]="Morphology";List["Module"]="Module";List["Noise"]="Noise";List["Orientation"]="Orientation";List["PixelChannel"]="PixelChannel";List["PixelIntensity"]="PixelIntensity";List["PixelMask"]="PixelMask";List["PixelTrait"]="PixelTrait";List["Policy"]="Policy";List["PolicyDomain"]="PolicyDomain";List["PolicyRights"]="PolicyRights";List["Preview"]="Preview";List["Primitive"]="Primitive";List["QuantumFormat"]="QuantumFormat";List["Resource"]="Resource";List["SparseColor"]="SparseColor";List["Statistic"]="Statistic";List["Storage"]="Storage";List["Stretch"]="Stretch";List["Style"]="Style";List["Threshold"]="Threshold";List["Tool"]="Tool";List["Type"]="Type";List["Units"]="Units";List["Validate"]="Validate";List["VirtualPixel"]="VirtualPixel";List["Weight"]="Weight"})(List=imList.List||(imList.List={}));let Locale;(function(Locale){Locale[""]="";Locale["Path: built-in"]="Path: built-in";Locale["Tag/Message"]="Tag/Message";Locale["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Locale["Exception//"]="Exception//"})(Locale=imList.Locale||(imList.Locale={}));let LogEvent;(function(LogEvent){LogEvent["All"]="All";LogEvent["Accelerate"]="Accelerate";LogEvent["Annotate"]="Annotate";LogEvent["Blob"]="Blob";LogEvent["Cache"]="Cache";LogEvent["Coder"]="Coder";LogEvent["Command"]="Command";LogEvent["Configure"]="Configure";LogEvent["Deprecate"]="Deprecate";LogEvent["Draw"]="Draw";LogEvent["Exception"]="Exception";LogEvent["Locale"]="Locale";LogEvent["Module"]="Module";LogEvent["None"]="None";LogEvent["Pixel"]="Pixel";LogEvent["Policy"]="Policy";LogEvent["Resource"]="Resource";LogEvent["Trace"]="Trace";LogEvent["Transform"]="Transform";LogEvent["User"]="User";LogEvent["Wand"]="Wand";LogEvent["X11"]="X11"})(LogEvent=imList.LogEvent||(imList.LogEvent={}));let Log;(function(Log){Log[""]="";Log["Path: [built-in]"]="Path: [built-in]";Log["Console        Generations     Limit  Format"]="Console        Generations     Limit  Format";Log["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Log["Magick-%g.log            0         0   %t %r %u %v %d %c[%p]: %m/%f/%l/%d\n  %e"]="Magick-%g.log            0         0   %t %r %u %v %d %c[%p]: %m/%f/%l/%d\n  %e"})(Log=imList.Log||(imList.Log={}));let Magic;(function(Magic){Magic[""]="";Magic["Path: [built-in]"]="Path: [built-in]";Magic["Name      Offset Target"]="Name      Offset Target";Magic["-------------------------------------------------------------------------------"]="-------------------------------------------------------------------------------";Magic["BMP            0 BM"]="BMP            0 BM";Magic["BMP            0 BA"]="BMP            0 BA";Magic["BMP            0 IC"]="BMP            0 IC";Magic["BMP            0 CI"]="BMP            0 CI";Magic["BMP            0 CP"]="BMP            0 CP";Magic["BMP            0 IP"]="BMP            0 IP";Magic["CALS          21 version: MIL-STD-1840"]="CALS          21 version: MIL-STD-1840";Magic["CALS           8 rorient:"]="CALS           8 rorient:";Magic["CALS           9 rorient:"]="CALS           9 rorient:";Magic["CALS           0 srcdocid:"]="CALS           0 srcdocid:";Magic["CGM            0 BEGMF"]="CGM            0 BEGMF";Magic["CIN            0 200*_327"]="CIN            0 200*_327";Magic["CRW            0 II\x0032"]="CRW            0 II\x0032";Magic["DCM          128 DICM"]="DCM          128 DICM";Magic["DCX            0 261h336:"]="DCX            0 261h336:";Magic["DDS            0 DDS"]="DDS            0 DDS";Magic["DIB            0 ("]="DIB            0 (";Magic["DPX            0 XPDS"]="DPX            0 XPDS";Magic["DPX            0 SDPX"]="DPX            0 SDPX";Magic["EPT            0 305320323306"]="EPT            0 305320323306";Magic["FAX            0 DFAX"]="FAX            0 DFAX";Magic["FIG            0 #FIG"]="FIG            0 #FIG";Magic["FITS           0 IT0"]="FITS           0 IT0";Magic["FITS           0 SIMPLE"]="FITS           0 SIMPLE";Magic["GIF            0 GIF8"]="GIF            0 GIF8";Magic["HDR            0 #?RADIANCE"]="HDR            0 #?RADIANCE";Magic["HDR            0 #?RGBE"]="HDR            0 #?RGBE";Magic["HPGL           0 IN;"]="HPGL           0 IN;";Magic["ILBM           8 ILBM"]="ILBM           8 ILBM";Magic["IPL            0 data"]="IPL            0 data";Magic["IPTC           0 \x0034\x0002"]="IPTC           0 \x0034\x0002";Magic['IPTCTEXT       0 2#0="&#0;&#2;"']='IPTCTEXT       0 2#0="&#0;&#2;"';Magic["IPTCWTEXT      0 2"]="IPTCWTEXT      0 2";Magic["J2K            0 377O377Q"]="J2K            0 377O377Q";Magic["JNG            0 213JNG\x0015\x0012\x0032\x0012"]="JNG            0 213JNG\x0015\x0012\x0032\x0012";Magic["JP2            0"]="JP2            0";Magic["JPC            0 \x0015\x0012207\x0012"]="JPC            0 \x0015\x0012207\x0012";Magic["JPEG           0 377330377"]="JPEG           0 377330377";Magic["MAT            0 MATLAB 5.0 MAT-file,"]="MAT            0 MATLAB 5.0 MAT-file,";Magic["MIFF           0 id=ImageMagick"]="MIFF           0 id=ImageMagick";Magic["MIFF           0 Id=ImageMagick"]="MIFF           0 Id=ImageMagick";Magic["MNG            0 212MNG\x0015\x0012\x0032\x0012"]="MNG            0 212MNG\x0015\x0012\x0032\x0012";Magic["MPC            0 id=MagickCache"]="MPC            0 id=MagickCache";Magic["MPEG           0 RIFF"]="MPEG           0 RIFF";Magic["MPEG           0"]="MPEG           0";Magic["MRW            0"]="MRW            0";Magic["ORF            0 IIRO\x0010"]="ORF            0 IIRO\x0010";Magic["PAM            0 P7"]="PAM            0 P7";Magic["PBM            0 P4"]="PBM            0 P4";Magic["PBM            0 P1"]="PBM            0 P1";Magic["PCD         2048 PCD_"]="PCD         2048 PCD_";Magic["PCL            0 \x0033E\x0033"]="PCL            0 \x0033E\x0033";Magic["PCX            0 \x0012\x0005"]="PCX            0 \x0012\x0005";Magic["PCX            0 \x0012\x0002"]="PCX            0 \x0012\x0002";Magic["PDB           60 vIMGView"]="PDB           60 vIMGView";Magic["PDF            0 %PDF-"]="PDF            0 %PDF-";Magic["PES            0 #PES"]="PES            0 #PES";Magic["PFA            0 %!PS-AdobeFont-1.0"]="PFA            0 %!PS-AdobeFont-1.0";Magic["PFB            6 %!PS-AdobeFont-1.0"]="PFB            6 %!PS-AdobeFont-1.0";Magic["PFM            0 PF"]="PFM            0 PF";Magic["PFM            0 Pf"]="PFM            0 Pf";Magic["PGM            0 P2"]="PGM            0 P2";Magic["PGM            0 P5"]="PGM            0 P5";Magic["PGX            0 PG LM"]="PGX            0 PG LM";Magic["PGX            0 (G\x0020M&"]="PGX            0 (G\x0020M&";Magic["PGX            0 PG ML"]="PGX            0 PG ML";Magic["PNG            0 211PNG\x0015\x0012\x0032\x0012"]="PNG            0 211PNG\x0015\x0012\x0032\x0012";Magic["PPM            0 P3"]="PPM            0 P3";Magic["PPM            0 P6"]="PPM            0 P6";Magic["PS             0 305320323306"]="PS             0 305320323306";Magic["PS             0 %!"]="PS             0 %!";Magic["PS             0 \x0004%!"]="PS             0 \x0004%!";Magic["PSB            0 8BPB"]="PSB            0 8BPB";Magic["PSD            0 8BPS"]="PSD            0 8BPS";Magic["PWP            0 SFW95"]="PWP            0 SFW95";Magic["RAF            0 FUJIFILMCCD-RAW"]="RAF            0 FUJIFILMCCD-RAW";Magic["RLE            0 R314"]="RLE            0 R314";Magic["SCT            0 CT"]="SCT            0 CT";Magic["SFW            0 SFW94"]="SFW            0 SFW94";Magic["SGI            0 \x0001332"]="SGI            0 \x0001332";Magic["SUN            0 Y246j225"]="SUN            0 Y246j225";Magic["SVG            1 svg"]="SVG            1 svg";Magic["SVG            1 ?XML"]="SVG            1 ?XML";Magic["SVG            1 ?xml"]="SVG            1 ?xml";Magic["SVG            1 SVG"]="SVG            1 SVG";Magic["TIFF           0 MM"]="TIFF           0 MM";Magic["TIFF           0 II*"]="TIFF           0 II*";Magic["TIFF64         0 II+"]="TIFF64         0 II+";Magic["TIFF64         0 MM"]="TIFF64         0 MM";Magic["TM2            0 TIM2"]="TM2            0 TIM2";Magic["TTF            0"]="TTF            0";Magic["TXT            0 # ImageMagick pixel enumeration:"]="TXT            0 # ImageMagick pixel enumeration:";Magic["VICAR          0 NJPL1I"]="VICAR          0 NJPL1I";Magic["VICAR          0 LBLSIZE"]="VICAR          0 LBLSIZE";Magic["VICAR          0 PDS_VERSION_ID"]="VICAR          0 PDS_VERSION_ID";Magic["VIFF           0 253\x0001"]="VIFF           0 253\x0001";Magic["VIPS           0 266246362\x0010"]="VIPS           0 266246362\x0010";Magic["VIPS           0 \x0010362246266"]="VIPS           0 \x0010362246266";Magic["WEBP           8 WEBP"]="WEBP           8 WEBP";Magic["WPG            0 377WPC"]="WPG            0 377WPC";Magic["XBM            0 #define"]="XBM            0 #define";Magic["XCF            0 gimp xcf"]="XCF            0 gimp xcf";Magic["XPM            1 * XPM *"]="XPM            1 * XPM *"})(Magic=imList.Magic||(imList.Magic={}));let Method;(function(Method){Method["FillToBorder"]="FillToBorder";Method["Floodfill"]="Floodfill";Method["Point"]="Point";Method["Replace"]="Replace";Method["Reset"]="Reset"})(Method=imList.Method||(imList.Method={}));let Metric;(function(Metric){Metric["AE"]="AE";Metric["DSSIM"]="DSSIM";Metric["Fuzz"]="Fuzz";Metric["MAE"]="MAE";Metric["MEPP"]="MEPP";Metric["MSE"]="MSE";Metric["NCC"]="NCC";Metric["PAE"]="PAE";Metric["PHASH"]="PHASH";Metric["PSNR"]="PSNR";Metric["RMSE"]="RMSE";Metric["SSIM"]="SSIM"})(Metric=imList.Metric||(imList.Metric={}));let Mime;(function(Mime){})(Mime=imList.Mime||(imList.Mime={}));let Mode;(function(Mode){Mode["Concatenate"]="Concatenate";Mode["Frame"]="Frame";Mode["Unframe"]="Unframe"})(Mode=imList.Mode||(imList.Mode={}));let Morphology;(function(Morphology){Morphology["Correlate"]="Correlate";Morphology["Convolve"]="Convolve";Morphology["Dilate"]="Dilate";Morphology["Erode"]="Erode";Morphology["Close"]="Close";Morphology["Open"]="Open";Morphology["DilateIntensity"]="DilateIntensity";Morphology["ErodeIntensity"]="ErodeIntensity";Morphology["CloseIntensity"]="CloseIntensity";Morphology["OpenIntensity"]="OpenIntensity";Morphology["DilateI"]="DilateI";Morphology["ErodeI"]="ErodeI";Morphology["CloseI"]="CloseI";Morphology["OpenI"]="OpenI";Morphology["Smooth"]="Smooth";Morphology["EdgeOut"]="EdgeOut";Morphology["EdgeIn"]="EdgeIn";Morphology["Edge"]="Edge";Morphology["TopHat"]="TopHat";Morphology["BottomHat"]="BottomHat";Morphology["Hmt"]="Hmt";Morphology["HitNMiss"]="HitNMiss";Morphology["HitAndMiss"]="HitAndMiss";Morphology["Thinning"]="Thinning";Morphology["Thicken"]="Thicken";Morphology["Distance"]="Distance";Morphology["IterativeDistance"]="IterativeDistance"})(Morphology=imList.Morphology||(imList.Morphology={}));let Module;(function(Module){})(Module=imList.Module||(imList.Module={}));let Noise;(function(Noise){Noise["Gaussian"]="Gaussian";Noise["Impulse"]="Impulse";Noise["Laplacian"]="Laplacian";Noise["Multiplicative"]="Multiplicative";Noise["Poisson"]="Poisson";Noise["Random"]="Random";Noise["Uniform"]="Uniform"})(Noise=imList.Noise||(imList.Noise={}));let Orientation;(function(Orientation){Orientation["TopLeft"]="TopLeft";Orientation["TopRight"]="TopRight";Orientation["BottomRight"]="BottomRight";Orientation["BottomLeft"]="BottomLeft";Orientation["LeftTop"]="LeftTop";Orientation["RightTop"]="RightTop";Orientation["RightBottom"]="RightBottom";Orientation["LeftBottom"]="LeftBottom"})(Orientation=imList.Orientation||(imList.Orientation={}));let PixelChannel;(function(PixelChannel){PixelChannel["Undefined"]="Undefined";PixelChannel["A"]="A";PixelChannel["Alpha"]="Alpha";PixelChannel["B"]="B";PixelChannel["Bk"]="Bk";PixelChannel["Black"]="Black";PixelChannel["Blue"]="Blue";PixelChannel["Cb"]="Cb";PixelChannel["Composite"]="Composite";PixelChannel["CompositeMask"]="CompositeMask";PixelChannel["C"]="C";PixelChannel["Cr"]="Cr";PixelChannel["Cyan"]="Cyan";PixelChannel["Gray"]="Gray";PixelChannel["G"]="G";PixelChannel["Green"]="Green";PixelChannel["Index"]="Index";PixelChannel["Intensity"]="Intensity";PixelChannel["K"]="K";PixelChannel["M"]="M";PixelChannel["Magenta"]="Magenta";PixelChannel["Meta"]="Meta";PixelChannel["O"]="O";PixelChannel["R"]="R";PixelChannel["ReadMask"]="ReadMask";PixelChannel["Red"]="Red";PixelChannel["Sync"]="Sync";PixelChannel["WriteMask"]="WriteMask";PixelChannel["Y"]="Y";PixelChannel["Yellow"]="Yellow"})(PixelChannel=imList.PixelChannel||(imList.PixelChannel={}));let PixelIntensity;(function(PixelIntensity){PixelIntensity["Average"]="Average";PixelIntensity["Brightness"]="Brightness";PixelIntensity["Lightness"]="Lightness";PixelIntensity["Mean"]="Mean";PixelIntensity["MS"]="MS";PixelIntensity["Rec601Luma"]="Rec601Luma";PixelIntensity["Rec601Luminance"]="Rec601Luminance";PixelIntensity["Rec709Luma"]="Rec709Luma";PixelIntensity["Rec709Luminance"]="Rec709Luminance";PixelIntensity["RMS"]="RMS"})(PixelIntensity=imList.PixelIntensity||(imList.PixelIntensity={}));let PixelMask;(function(PixelMask){PixelMask["R"]="R";PixelMask["Read"]="Read";PixelMask["W"]="W";PixelMask["Write"]="Write"})(PixelMask=imList.PixelMask||(imList.PixelMask={}));let PixelTrait;(function(PixelTrait){PixelTrait["Blend"]="Blend";PixelTrait["Copy"]="Copy";PixelTrait["Update"]="Update"})(PixelTrait=imList.PixelTrait||(imList.PixelTrait={}));let Policy;(function(Policy){Policy[""]="";Policy["Path: [built-in]"]="Path: [built-in]";Policy["Policy: Undefined"]="Policy: Undefined";Policy["rights: None"]="rights: None"})(Policy=imList.Policy||(imList.Policy={}));let PolicyDomain;(function(PolicyDomain){PolicyDomain["Cache"]="Cache";PolicyDomain["Coder"]="Coder";PolicyDomain["Delegate"]="Delegate";PolicyDomain["Filter"]="Filter";PolicyDomain["Module"]="Module";PolicyDomain["Path"]="Path";PolicyDomain["Resource"]="Resource";PolicyDomain["System"]="System"})(PolicyDomain=imList.PolicyDomain||(imList.PolicyDomain={}));let PolicyRights;(function(PolicyRights){PolicyRights["All"]="All";PolicyRights["Execute"]="Execute";PolicyRights["None"]="None";PolicyRights["Read"]="Read";PolicyRights["Write"]="Write"})(PolicyRights=imList.PolicyRights||(imList.PolicyRights={}));let Preview;(function(Preview){Preview["AddNoise"]="AddNoise";Preview["Blur"]="Blur";Preview["Brightness"]="Brightness";Preview["Charcoal"]="Charcoal";Preview["Despeckle"]="Despeckle";Preview["Dull"]="Dull";Preview["EdgeDetect"]="EdgeDetect";Preview["Gamma"]="Gamma";Preview["Grayscale"]="Grayscale";Preview["Hue"]="Hue";Preview["Implode"]="Implode";Preview["JPEG"]="JPEG";Preview["OilPaint"]="OilPaint";Preview["Quantize"]="Quantize";Preview["Raise"]="Raise";Preview["ReduceNoise"]="ReduceNoise";Preview["Roll"]="Roll";Preview["Rotate"]="Rotate";Preview["Saturation"]="Saturation";Preview["Segment"]="Segment";Preview["Shade"]="Shade";Preview["Sharpen"]="Sharpen";Preview["Shear"]="Shear";Preview["Solarize"]="Solarize";Preview["Spiff"]="Spiff";Preview["Spread"]="Spread";Preview["Swirl"]="Swirl";Preview["Threshold"]="Threshold";Preview["Wave"]="Wave"})(Preview=imList.Preview||(imList.Preview={}));let Primitive;(function(Primitive){Primitive["Alpha"]="Alpha";Primitive["Arc"]="Arc";Primitive["Bezier"]="Bezier";Primitive["Circle"]="Circle";Primitive["Color"]="Color";Primitive["Ellipse"]="Ellipse";Primitive["Image"]="Image";Primitive["Line"]="Line";Primitive["Matte"]="Matte";Primitive["Path"]="Path";Primitive["Point"]="Point";Primitive["Polygon"]="Polygon";Primitive["Polyline"]="Polyline";Primitive["Rectangle"]="Rectangle";Primitive["RoundRectangle"]="RoundRectangle";Primitive["Text"]="Text"})(Primitive=imList.Primitive||(imList.Primitive={}));let QuantumFormat;(function(QuantumFormat){QuantumFormat["FloatingPoint"]="FloatingPoint";QuantumFormat["Signed"]="Signed";QuantumFormat["Unsigned"]="Unsigned"})(QuantumFormat=imList.QuantumFormat||(imList.QuantumFormat={}));let Resource;(function(Resource){Resource["Resource limits:"]="Resource limits:";Resource["Width: 107.374MP"]="Width: 107.374MP";Resource["Height: 107.374MP"]="Height: 107.374MP";Resource["Area: 4.29484GP"]="Area: 4.29484GP";Resource["List length: unlimited"]="List length: unlimited";Resource["Memory: 1.99994GiB"]="Memory: 1.99994GiB";Resource["Map: 3.99988GiB"]="Map: 3.99988GiB";Resource["Disk: unlimited"]="Disk: unlimited";Resource["File: 768"]="File: 768";Resource["Thread: 1"]="Thread: 1";Resource["Throttle: 0"]="Throttle: 0";Resource["Time: unlimited"]="Time: unlimited"})(Resource=imList.Resource||(imList.Resource={}));let SparseColor;(function(SparseColor){SparseColor["Barycentric"]="Barycentric";SparseColor["Bilinear"]="Bilinear";SparseColor["Inverse"]="Inverse";SparseColor["Shepards"]="Shepards";SparseColor["Voronoi"]="Voronoi";SparseColor["Manhattan"]="Manhattan"})(SparseColor=imList.SparseColor||(imList.SparseColor={}));let Statistic;(function(Statistic){Statistic["Gradient"]="Gradient";Statistic["Maximum"]="Maximum";Statistic["Mean"]="Mean";Statistic["Median"]="Median";Statistic["Minimum"]="Minimum";Statistic["Mode"]="Mode";Statistic["NonPeak"]="NonPeak";Statistic["RootMeanSquare"]="RootMeanSquare";Statistic["RMS"]="RMS";Statistic["StandardDeviation"]="StandardDeviation"})(Statistic=imList.Statistic||(imList.Statistic={}));let Storage_;(function(Storage_){Storage_["Char"]="Char";Storage_["Double"]="Double";Storage_["Float"]="Float";Storage_["Long"]="Long";Storage_["LongLong"]="LongLong";Storage_["Quantum"]="Quantum";Storage_["Short"]="Short"})(Storage_=imList.Storage_||(imList.Storage_={}));let Stretch;(function(Stretch){Stretch["Any"]="Any";Stretch["Condensed"]="Condensed";Stretch["Expanded"]="Expanded";Stretch["ExtraCondensed"]="ExtraCondensed";Stretch["ExtraExpanded"]="ExtraExpanded";Stretch["Normal"]="Normal";Stretch["SemiCondensed"]="SemiCondensed";Stretch["SemiExpanded"]="SemiExpanded";Stretch["UltraCondensed"]="UltraCondensed";Stretch["UltraExpanded"]="UltraExpanded"})(Stretch=imList.Stretch||(imList.Stretch={}));let Style;(function(Style){Style["Any"]="Any";Style["Bold"]="Bold";Style["Italic"]="Italic";Style["Normal"]="Normal";Style["Oblique"]="Oblique"})(Style=imList.Style||(imList.Style={}));let Threshold;(function(Threshold){Threshold[""]="";Threshold["Threshold Maps for Ordered Dither Operations"]="Threshold Maps for Ordered Dither Operations"})(Threshold=imList.Threshold||(imList.Threshold={}));let Tool;(function(Tool){Tool["animate"]="animate";Tool["compare"]="compare";Tool["composite"]="composite";Tool["conjure"]="conjure";Tool["convert"]="convert";Tool["display"]="display";Tool["identify"]="identify";Tool["import"]="import";Tool["mogrify"]="mogrify";Tool["montage"]="montage";Tool["stream"]="stream"})(Tool=imList.Tool||(imList.Tool={}));let Type;(function(Type){Type["Bilevel"]="Bilevel";Type["ColorSeparation"]="ColorSeparation";Type["ColorSeparationAlpha"]="ColorSeparationAlpha";Type["ColorSeparationMatte"]="ColorSeparationMatte";Type["Grayscale"]="Grayscale";Type["GrayscaleAlpha"]="GrayscaleAlpha";Type["GrayscaleMatte"]="GrayscaleMatte";Type["Optimize"]="Optimize";Type["Palette"]="Palette";Type["PaletteBilevelAlpha"]="PaletteBilevelAlpha";Type["PaletteBilevelMatte"]="PaletteBilevelMatte";Type["PaletteAlpha"]="PaletteAlpha";Type["PaletteMatte"]="PaletteMatte";Type["TrueColorAlpha"]="TrueColorAlpha";Type["TrueColorMatte"]="TrueColorMatte";Type["TrueColor"]="TrueColor"})(Type=imList.Type||(imList.Type={}));let Units;(function(Units){Units["PixelsPerInch"]="PixelsPerInch";Units["PixelsPerCentimeter"]="PixelsPerCentimeter"})(Units=imList.Units||(imList.Units={}));let Validate;(function(Validate){Validate["All"]="All";Validate["Colorspace"]="Colorspace";Validate["Compare"]="Compare";Validate["Composite"]="Composite";Validate["Convert"]="Convert";Validate["FormatsDisk"]="FormatsDisk";Validate["FormatsMap"]="FormatsMap";Validate["FormatsMemory"]="FormatsMemory";Validate["Identify"]="Identify";Validate["ImportExport"]="ImportExport";Validate["Montage"]="Montage";Validate["Stream"]="Stream";Validate["None"]="None"})(Validate=imList.Validate||(imList.Validate={}));let VirtualPixel;(function(VirtualPixel){VirtualPixel["Background"]="Background";VirtualPixel["Black"]="Black";VirtualPixel["CheckerTile"]="CheckerTile";VirtualPixel["Dither"]="Dither";VirtualPixel["Edge"]="Edge";VirtualPixel["Gray"]="Gray";VirtualPixel["HorizontalTile"]="HorizontalTile";VirtualPixel["HorizontalTileEdge"]="HorizontalTileEdge";VirtualPixel["Mirror"]="Mirror";VirtualPixel["None"]="None";VirtualPixel["Random"]="Random";VirtualPixel["Tile"]="Tile";VirtualPixel["Transparent"]="Transparent";VirtualPixel["VerticalTile"]="VerticalTile";VirtualPixel["VerticalTileEdge"]="VerticalTileEdge";VirtualPixel["White"]="White"})(VirtualPixel=imList.VirtualPixel||(imList.VirtualPixel={}));let Weight;(function(Weight){Weight["Thin"]="Thin";Weight["ExtraLight"]="ExtraLight";Weight["UltraLight"]="UltraLight";Weight["Normal"]="Normal";Weight["Regular"]="Regular";Weight["Medium"]="Medium";Weight["DemiBold"]="DemiBold";Weight["SemiBold"]="SemiBold";Weight["Bold"]="Bold";Weight["ExtraBold"]="ExtraBold";Weight["UltraBold"]="UltraBold";Weight["Heavy"]="Heavy";Weight["Black"]="Black"})(Weight=imList.Weight||(imList.Weight={}))})(imList=exports.imList||(exports.imList={}))},{}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");exports.isNode=misc_utils_of_mine_generic_1.isNode;const options_1=require("../options");exports.getOptions=options_1.getOptions;const magicaWasm_1=require("../util/magicaWasm");const{debug:debug}=options_1.getOptions();let _FS=null;let _main=null;exports.magickLoaded=new misc_utils_of_mine_generic_1.Deferred;exports.magickLoaded.then(m=>{_FS=m.FS;_main=m.main});function getMagick(){return{FS:getFS(),main:getMain()}}exports.getMagick=getMagick;function getFS(){if(!_FS){throw new Error("getFS called too soon - FS object not ready yet")}return _FS}exports.getFS=getFS;function getMain(){if(!_main){throw new Error("getMain called too soon - main function not ready yet")}return _main}exports.getMain=getMain;const stdout=[];function pushStdout(...s){debug&&console.log(`>> stdout >> ${s.join(" ")}`);stdout.push(...s)}exports.pushStdout=pushStdout;function resetStdout(){stdout.length=0}exports.resetStdout=resetStdout;function getStdout(){return stdout.slice()}exports.getStdout=getStdout;const stderr=[];function pushStderr(...s){debug&&console.log(`>> stderr >> ${s.join(" ")}`);stderr.push(...s)}exports.pushStderr=pushStderr;function resetStderr(){stderr.length=0}exports.resetStderr=resetStderr;function getStderr(){return stderr.slice()}exports.getStderr=getStderr;function moduleLocateFile(path,prefix){if(typeof MAGICA_WASM_LOCATION==="string"){return MAGICA_WASM_LOCATION}else{var thisScriptUrlParams=magicaWasm_1.getThisBrowserScriptTagSrcParams();if(thisScriptUrlParams&&thisScriptUrlParams.MAGICA_WASM_LOCATION){return decodeURIComponent(thisScriptUrlParams.MAGICA_WASM_LOCATION)}var thisScriptUrl=magicaWasm_1.getThisBrowserScriptTagSrc();if(typeof thisScriptUrl==="string"){var d=misc_utils_of_mine_generic_1.dirname(thisScriptUrl);if(d){return d}}}return prefix+path}exports.moduleLocateFile=moduleLocateFile;setTimeout((function(){try{require("./compiled/nodeMagick")}catch(error){console.error(error);throw error}}),0)},{"../options":20,"../util/magicaWasm":26,"./compiled/nodeMagick":8,"misc-utils-of-mine-generic":160}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");function processCommand(command){if(typeof command!=="string"){return command}return misc_utils_of_mine_generic_1.checkThrow(cliToArrayOne(command),"Cannot create a command array from given string "+command)}exports.processCommand=processCommand;function arrayToCliOne(command){return command.map(c=>c.trim().match(/\s/)?`'${c}'`:c).map(c=>c.trim()==="("?"\\(":c.trim()===")"?"\\)":c).join(" ")}exports.arrayToCliOne=arrayToCliOne;function arrayToCli(command){const cmd=typeof command[0]==="string"?[command]:command;return cmd.map(arrayToCliOne).join("\n")}exports.arrayToCli=arrayToCli;function cliToArrayOne(cliCommand){if(cliCommand.trim().startsWith("#")){return undefined}let inString=false;const spaceIndexes=[0];for(let index=0;index<cliCommand.length;index++){const c=cliCommand[index];if(c.match(/[ ]/im)&&!inString){spaceIndexes.push(index)}if(c===`'`){inString=!inString}}spaceIndexes.push(cliCommand.length);const command=spaceIndexes.map((spaceIndex,i)=>cliCommand.substring(i===0?0:spaceIndexes[i-1],spaceIndexes[i]).replace(/^[ ]+/,"").replace(/[ ]+$/,"")).filter(s=>!!s).map(s=>s.startsWith(`'`)?s.substring(1,s.length):s).map(s=>s.endsWith(`'`)?s.substring(0,s.length-1):s).map(s=>s===`\\(`?`(`:s===`\\)`?`)`:s).map(s=>s.replace(/\\n/g,"\n"));return command}function cliToArray(cliCommand){const lines=cliCommand.split("\n").map(s=>s.trim()).map(cliToArrayOne).filter(misc_utils_of_mine_generic_1.notUndefined).filter(a=>a.length);const result=[];let currentCommand=[];for(let i=0;i<lines.length;i++){const line=lines[i];if(line[line.length-1]!=="\\"){currentCommand=currentCommand.concat(line);result.push(currentCommand);currentCommand=[]}else{currentCommand=currentCommand.concat(line.slice(0,line.length-1))}}return result}exports.cliToArray=cliToArray},{"misc-utils-of-mine-generic":160}],13:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");const magickLoaded_1=require("../imageMagick/magickLoaded");const options_1=require("../options");const fileUtil_1=require("../util/fileUtil");const main_1=require("./main");const run_1=require("./run");function isCustomCommand(c){return __awaiter(this,void 0,void 0,(function*(){return c.join(" ").trim().startsWith(options_1.getOption("customCommandPrefix"))}))}exports.isCustomCommand=isCustomCommand;class CustomCommandContextImpl{constructor(o){this.main=main_1.main;this.run=run_1.run;this.log=magickLoaded_1.pushStdout;this.error=magickLoaded_1.pushStderr;this.options=o.options;this.FS=o.FS;this.outputFiles=o.outputFiles;this.File=file_1.File}isFile(f){return fileUtil_1.isFile(f,this.FS)}readFile(f){return fileUtil_1.readFile(f,this.FS)}isDirectory(f){return fileUtil_1.isDir(f,this.FS)}writeFile(f){fileUtil_1.writeFile(f,this.FS)}includeOutputFiles(files,exclude=false){if(exclude){misc_utils_of_mine_generic_1.arrayDifference(this.outputFiles,files,file_1.File.equals,this.outputFiles)}else{misc_utils_of_mine_generic_1.arrayUnion(this.outputFiles,files,file_1.File.equals,this.outputFiles)}}}function dispatchCustomCommand(o){return __awaiter(this,void 0,void 0,(function*(){const s=o.command.slice(1).join(" ").trim();o.options.debug&&console.log("custom command js expression: "+s);var context=new CustomCommandContextImpl(o);var error;var returnValue;magickLoaded_1.resetStdout();magickLoaded_1.resetStderr();try{var f=eval(s);o.options.debug&&console.log("custom command js evaluated result function: "+f);returnValue=yield f(context)}catch(er){o.options.debug&&console.error("Custom command ",s,"evaluation error: ",er);error=er}return{stdout:magickLoaded_1.getStdout(),stderr:magickLoaded_1.getStderr(),returnValue:returnValue,error:error}}))}exports.dispatchCustomCommand=dispatchCustomCommand},{"../file/file":1,"../imageMagick/magickLoaded":11,"../options":20,"../util/fileUtil":22,"./main":15,"./run":16,"misc-utils-of-mine-generic":160}],14:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const template_1=require("./template/template");const commandPreprocessor=[];function _compileTimePreprocess(config){return __awaiter(this,void 0,void 0,(function*(){install();let cfg=config;yield misc_utils_of_mine_generic_1.serial(commandPreprocessor.filter(p=>p.fnCompileTime).map(p=>()=>__awaiter(this,void 0,void 0,(function*(){cfg=yield p.fnCompileTime(cfg)}))));return Object.assign({},cfg)}))}exports._compileTimePreprocess=_compileTimePreprocess;function _runTimePreprocess(runOptions,commandOptions,commandIndex){return __awaiter(this,void 0,void 0,(function*(){if(!installed){installed=true;install()}yield misc_utils_of_mine_generic_1.serial(commandPreprocessor.filter(p=>p.fnRuntime).map(p=>()=>__awaiter(this,void 0,void 0,(function*(){yield p.fnRuntime(commandOptions,commandIndex,runOptions)}))))}))}exports._runTimePreprocess=_runTimePreprocess;function registerCommandPreprocessor(p){commandPreprocessor.push(p)}exports.registerCommandPreprocessor=registerCommandPreprocessor;function install(){if(!installed){installed=true;registerCommandPreprocessor(new template_1.Template)}}let installed=false},{"./template/template":19,"misc-utils-of-mine-generic":160}],15:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const p_queue_1=__importDefault(require("p-queue"));const file_1=require("../file/file");const protected_1=require("../file/protected");const imageUtil_1=require("../image/imageUtil");const magickLoaded_1=require("../imageMagick/magickLoaded");const options_1=require("../options");const fileUtil_1=require("../util/fileUtil");const lsR_1=require("../util/lsR");const mkdirp_1=require("../util/mkdirp");const rmRf_1=require("../util/rmRf");const command_1=require("./command");let queue;function getQueue(){if(!queue){queue=new p_queue_1.default({autoStart:true,concurrency:options_1.getOption("mainConcurrency"),interval:options_1.getOption("mainInterval")})}return queue}function main(o){if(o.useNative||options_1.getOption("useNative")){throw"useNative not supported yet"}return getQueue().add(()=>__awaiter(this,void 0,void 0,(function*(){yield magickLoaded_1.magickLoaded;return mainSync(Object.assign(Object.assign({},o),{inputFiles:yield file_1.File.resolve(o.inputFiles)}))})))}exports.main=main;function mainSync(options){const t0=Date.now();misc_utils_of_mine_generic_1.objectKeys(options_1.getOptions()).filter(k=>misc_utils_of_mine_generic_1.notUndefined(options[k])).forEach(k=>options_1.setOptions({[k]:options[k]}));const{emscriptenNodeFsRoot:emscriptenNodeFsRoot,debug:debug}=options_1.getOptions();debug&&console.log("main call given options: ",options);const{FS:FS,main:main}=magickLoaded_1.getMagick();FS.chdir(emscriptenNodeFsRoot);options.inputFiles.forEach(f=>{const dirName=misc_utils_of_mine_generic_1.dirname(f.name);if(dirName.trim()){mkdirp_1.mkdirp(dirName,p=>FS.analyzePath(p).exists,FS.mkdir)}debug&&console.log("FS.write",f.name);fileUtil_1.writeFile(f,FS)});const beforeTree=lsR_1.listFilesRecursively(emscriptenNodeFsRoot,FS);let returnValue;var processedCommand=command_1.processCommand(options.command);if(options.verbose){processedCommand.splice(1,0,"-verbose")}debug&&console.log("main processed command:",processedCommand);try{returnValue=main(processedCommand)}catch(error){debug&&console.error("MAIN error",error);returnValue={stderr:[],stdout:[],error:error,returnValue:undefined}}var verbose=options.verbose?misc_utils_of_mine_generic_1.tryTo(()=>imageUtil_1.parseConvertVerbose(returnValue.stdout))||[]:[];const outputFiles=lsR_1.listFilesRecursively(emscriptenNodeFsRoot,FS).filter(f=>!beforeTree.find(b=>b.path===f.path)).map(f=>{const file=fileUtil_1.readFile(f.path,FS);var v=verbose.find(v=>file.name.endsWith(v.outputName));if(v){file.width=v.outputSize.width;file.height=v.outputSize.height}if(options.protectOutputFiles){protected_1.protectFile(file)}return file});const removed=[];lsR_1.ls(emscriptenNodeFsRoot,FS).filter(f=>!protected_1.isProtectedFile(f)).forEach(f=>rmRf_1.rmRf(f,FS,f=>!protected_1.isProtectedFile(f),removed));options.debug&&console.log(`Removed files: ${removed}\nProtected files: ${lsR_1.ls(emscriptenNodeFsRoot,FS).map(protected_1.isProtectedFile)}`);return Object.assign(Object.assign({},returnValue),{outputFiles:outputFiles,verbose:verbose,times:{total:Date.now()-t0}})}exports.mainSync=mainSync},{"../file/file":1,"../file/protected":2,"../image/imageUtil":6,"../imageMagick/magickLoaded":11,"../options":20,"../util/fileUtil":22,"../util/lsR":24,"../util/mkdirp":27,"../util/rmRf":28,"./command":12,"misc-utils-of-mine-generic":160,"p-queue":189}],16:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");const magickLoaded_1=require("../imageMagick/magickLoaded");const options_1=require("../options");const command_1=require("./command");const customCommand_1=require("./customCommand");const executeCommandPreprocessor_1=require("./executeCommandPreprocessor");const main_1=require("./main");function run(o){return __awaiter(this,void 0,void 0,(function*(){const t0=Date.now();o.debug&&options_1.setOptions({debug:o.debug});const emscriptenNodeFsRoot=options_1.getOption("emscriptenNodeFsRoot");const{FS:FS}=yield magickLoaded_1.magickLoaded;FS.chdir(emscriptenNodeFsRoot);let inputFiles=yield file_1.File.resolve(o.inputFiles);inputFiles=inputFiles.filter(misc_utils_of_mine_generic_1.notUndefined).map(file_1.File.asFile);const commands=yield resolveRunCommands(Object.assign(Object.assign({},o),{inputFiles:inputFiles}));const finalResult={results:[],commands:commands,outputFiles:[],stderr:[],stdout:[],error:undefined,returnValue:undefined};yield misc_utils_of_mine_generic_1.serial(commands.map((command,i)=>()=>__awaiter(this,void 0,void 0,(function*(){let mainOptions=Object.assign(Object.assign({},o),{command:command,inputFiles:inputFiles});yield executeCommandPreprocessor_1._runTimePreprocess(o,mainOptions,i);let result;if(yield customCommand_1.isCustomCommand(command)){const customCommandOptions={command:command,options:mainOptions,FS:FS,outputFiles:inputFiles};result=Object.assign(Object.assign({},yield customCommand_1.dispatchCustomCommand(customCommandOptions)),{outputFiles:inputFiles})}else{result=yield main_1.main(mainOptions)}inputFiles=[...inputFiles.filter(f=>!result.outputFiles.find(f2=>f2.name===f.name)),...result.outputFiles].map(file_1.File.asFile);finalResult.results.push(result);finalResult.commands[i]=command_1.processCommand(mainOptions.command)}))));const r=Object.assign(Object.assign({},finalResult),{stdout:finalResult.results.map(r=>r.stdout).flat(),stderr:finalResult.results.map(r=>r.stderr).flat(),outputFiles:finalResult.results.length?finalResult.results[finalResult.results.length-1].outputFiles:[],times:{total:Date.now()-t0}});return r}))}exports.run=run;function resolveRunCommands(o){return __awaiter(this,void 0,void 0,(function*(){if((!o.script||!o.script.length)&&(!o.command||!o.command.length)){throw new Error("No script or command given")}o=yield executeCommandPreprocessor_1._compileTimePreprocess(o);let script;if(o.script&&o.script.length){script=misc_utils_of_mine_generic_1.asArray(o.script).join("\n")}else{script=command_1.arrayToCliOne(misc_utils_of_mine_generic_1.asArray(o.command))}const commands=command_1.cliToArray(script);return commands}))}function runOne(script,input=[]){return __awaiter(this,void 0,void 0,(function*(){const result=yield run({inputFiles:misc_utils_of_mine_generic_1.asArray(input),script:script});if(result.error){throw new Error(result.error+""+result.stderr.join(", "))}if(!result.outputFiles.length){throw new Error("Expected output files but none resulted")}return result.outputFiles[0]}))}exports.runOne=runOne},{"../file/file":1,"../imageMagick/magickLoaded":11,"../options":20,"./command":12,"./customCommand":13,"./executeCommandPreprocessor":14,"./main":15,"misc-utils-of-mine-generic":160}],17:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const magickLoaded_1=require("../../imageMagick/magickLoaded");const lsR_1=require("../../util/lsR");class LSHelper{constructor(){this.name="ls"}exec(options={}){return __awaiter(this,void 0,void 0,(function*(){const{FS:FS}=yield magickLoaded_1.magickLoaded;const{emscriptenNodeFsRoot:emscriptenNodeFsRoot}=magickLoaded_1.getOptions();var path=options.path||emscriptenNodeFsRoot;var files=options.recursive?lsR_1.listFilesRecursively(path,FS):lsR_1.ls(path,FS);var a=misc_utils_of_mine_generic_1.asArray(files).map(f=>typeof f==="string"?f:f.path);if(options.stdout){a.forEach(s=>magickLoaded_1.pushStdout(s))}return options.noReturnValue?[]:a}))}fnCompileTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}fnRunTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}}exports.LSHelper=LSHelper},{"../../imageMagick/magickLoaded":11,"../../util/lsR":24,"misc-utils-of-mine-generic":160}],18:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../../file/file");class SizeHelper{constructor(){this.name="size"}exec(options){return __awaiter(this,void 0,void 0,(function*(){var file=misc_utils_of_mine_generic_1.asArray(typeof options.file==="string"?yield file_1.File.resolve(options.file):options.file);return yield file[0].size()}))}fnCompileTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}fnRunTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}}exports.SizeHelper=SizeHelper;class ImageInfoHelper{constructor(){this.name="imageInfo"}exec(options){return __awaiter(this,void 0,void 0,(function*(){var file=misc_utils_of_mine_generic_1.asArray(typeof options.file==="string"?yield file_1.File.resolve(options.file):options.file).filter(misc_utils_of_mine_generic_1.notUndefined).map(file_1.File.asFile);return yield file[0].infoOne()}))}fnCompileTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}fnRunTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}}exports.ImageInfoHelper=ImageInfoHelper;class HeightHelper{constructor(){this.name="height"}exec(options){return __awaiter(this,void 0,void 0,(function*(){var file=misc_utils_of_mine_generic_1.asArray(typeof options.file==="string"?yield file_1.File.resolve(options.file):options.file);return(yield file[0].size()).height}))}fnCompileTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}fnRunTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}}exports.HeightHelper=HeightHelper;class WidthHelper{constructor(){this.name="width"}exec(options){return __awaiter(this,void 0,void 0,(function*(){var file=misc_utils_of_mine_generic_1.asArray(typeof options.file==="string"?yield file_1.File.resolve(options.file):options.file);return(yield file[0].size()).width}))}fnCompileTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}fnRunTime(options){return __awaiter(this,void 0,void 0,(function*(){return yield this.exec(options)}))}}exports.WidthHelper=WidthHelper},{"../../file/file":1,"misc-utils-of-mine-generic":160}],19:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:true});const ejs_1=require("ejs");const command_1=require("../command");const fsHelper_1=require("./fsHelper");const imageHelper_1=require("./imageHelper");class Template{constructor(){this.name="template";this.templateOptions={async:true,escape:s=>s,rmWhitespace:false};this.templateRuntimeOptions=Object.assign(Object.assign({},this.templateOptions),{delimiter:"$"});if(!installed){installed=true;addTemplateHelper(new fsHelper_1.LSHelper);addTemplateHelper(new imageHelper_1.SizeHelper);addTemplateHelper(new imageHelper_1.ImageInfoHelper);addTemplateHelper(new imageHelper_1.HeightHelper);addTemplateHelper(new imageHelper_1.WidthHelper)}}fnCompileTime(context){return __awaiter(this,void 0,void 0,(function*(){if(typeof context.script==="string"){const t=ejs_1.compile(context.script,this.templateOptions);let c=Object.assign({},context);templateHelpers.forEach(fn=>{c[fn.name]=fn.fnCompileTime.bind(Object.assign(fn,{options:context}))});const script=yield t(c);return Object.assign(Object.assign({},context),{script:script})}else{return context}}))}fnRuntime(commandOptions,commandIndex,runOptions){return __awaiter(this,void 0,void 0,(function*(){var cs=commandOptions.command==="string"?commandOptions.command:!commandOptions.command?"":command_1.arrayToCliOne(commandOptions.command);const t=ejs_1.compile(cs,this.templateRuntimeOptions);let c={runOptions:runOptions,commandOptions:commandOptions};templateHelpers.filter(t=>t.fnRunTime).forEach(fn=>{c[fn.name]=fn.fnRunTime.bind(fn)});var s=yield t(c);commandOptions.command=command_1.processCommand(s)}))}}exports.Template=Template;const templateHelpers=[];function addTemplateHelper(h){templateHelpers.push(h)}exports.addTemplateHelper=addTemplateHelper;let installed=false},{"../command":12,"./fsHelper":17,"./imageHelper":18,ejs:100}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});let options={nodeFsLocalRoot:"working_tmp",emscriptenNodeFsRoot:"/w2",debug:false,outputDir:".",disableNodeFs:false,useNative:false,mainConcurrency:3,mainInterval:0,customCommandPrefix:"!js:"};function getOptions(){return options}exports.getOptions=getOptions;function getOption(k){return options[k]}exports.getOption=getOption;function setOptions(o){options=Object.assign(Object.assign({},options),o)}exports.setOptions=setOptions},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const js_base64_1=require("js-base64");function dataToUrl(data,mimeType,fileName){return base64ToUrl(dataToBase64(data),mimeType,fileName)}exports.dataToUrl=dataToUrl;function dataToBase64(data){return js_base64_1.Base64.encode(data)}exports.dataToBase64=dataToBase64;function base64ToUrl(base64,mimeType,fileName){return`data:${mimeType}${fileName?`;name=${fileName}`:""};base64,${base64}`}exports.base64ToUrl=base64ToUrl;function urlToBase64(s){return s.substring(s.indexOf(";base64,")+";base64,".length)}exports.urlToBase64=urlToBase64;function urlToData(s){return js_base64_1.Base64.atob(urlToBase64(s))}exports.urlToData=urlToData;function isBase64(str){if(str===""||str.trim()===""){return false}try{return js_base64_1.Base64.btoa(js_base64_1.Base64.atob(str))==str}catch(err){return false}}exports.isBase64=isBase64;function getDataUrlFileName(url){let p=url&&url.split(";base64,");const q=p.length?p[0].split(";").find(s=>s.includes("name=")):"";p=q?q.split("="):[];return p[p.length-1]}exports.getDataUrlFileName=getDataUrlFileName;function arrayBufferToBase64(buffer){var binary=arrayBufferToString(buffer);return window.btoa(binary)}exports.arrayBufferToBase64=arrayBufferToBase64;function arrayBufferToString(buffer){var binary="";var bytes=[].slice.call(new Uint8Array(buffer));bytes.forEach(b=>binary+=String.fromCharCode(b));return binary}exports.arrayBufferToString=arrayBufferToString},{"js-base64":140}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const file_1=require("../file/file");const magickLoaded_1=require("../imageMagick/magickLoaded");const options_1=require("../options");function readFile(f,FS=magickLoaded_1.getFS()){return new file_1.File(getFileName(f),FS.readFile(getFilePath(f)))}exports.readFile=readFile;function getFileName(f){const{emscriptenNodeFsRoot:emscriptenNodeFsRoot}=options_1.getOptions();const path=typeof f==="string"?f:f.name;return path.startsWith(`${emscriptenNodeFsRoot}/`)?path.substring(`${emscriptenNodeFsRoot}/`.length,path.length):`${path}`}exports.getFileName=getFileName;function getFilePath(f){const{emscriptenNodeFsRoot:emscriptenNodeFsRoot}=options_1.getOptions();const path=typeof f==="string"?f:f.name;return path.startsWith(`${emscriptenNodeFsRoot}/`)?path:`${emscriptenNodeFsRoot}/${path}`}exports.getFilePath=getFilePath;function writeFile(f,FS=magickLoaded_1.getFS()){FS.writeFile(getFilePath(f.name),f.content)}exports.writeFile=writeFile;function removeFile(f,FS=magickLoaded_1.getFS()){FS.unlink(getFilePath(getFilePath(f)))}exports.removeFile=removeFile;function isDir(f,FS=magickLoaded_1.getFS()){try{return FS.isDir(FS.stat(getFilePath(f)).mode)}catch(error){return false}}exports.isDir=isDir;function isFile(f,FS=magickLoaded_1.getFS()){try{return FS.isFile(FS.stat(getFilePath(f)).mode)}catch(error){return false}}exports.isFile=isFile},{"../file/file":1,"../imageMagick/magickLoaded":11,"../options":20}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const fileUtil_1=require("./fileUtil");const lsR_1=require("./lsR");const mkdirp_1=require("./mkdirp");const rmRf_1=require("./rmRf");exports.fileUtil={listFilesRecursively:lsR_1.listFilesRecursively,rmRf:rmRf_1.rmRf,ls:lsR_1.ls,isFile:fileUtil_1.isFile,isDir:fileUtil_1.isDir,readFile:fileUtil_1.readFile,writeFile:fileUtil_1.writeFile,getFilePath:fileUtil_1.getFilePath,getFileName:fileUtil_1.getFileName,mkdirp:mkdirp_1.mkdirp};var magica_1=require("./magica");exports.getMagica=magica_1.getMagica},{"./fileUtil":22,"./lsR":24,"./magica":25,"./mkdirp":27,"./rmRf":28}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");function lsR(o){const result=[];function recurse(f){if(!o.isDir(f)){o.visitor({path:f,isDir:false});return true}return o.ls(f).map(c=>misc_utils_of_mine_generic_1.pathJoin(f,misc_utils_of_mine_generic_1.basename(c))).some(path=>{const f={path:path,isDir:o.isDir(path)};result.push(f);if(o.visitor(f)){return true}else if(f.isDir){return recurse(path)}else{return false}})}recurse(o.path);return result}exports.lsR=lsR;function listFilesRecursively(path,FS){return lsR({path:path,ls:p=>ls(p,FS),isDir:f=>FS.isDir(FS.stat(f).mode),visitor:f=>false})}exports.listFilesRecursively=listFilesRecursively;function ls(p,FS){return FS.readdir(p).filter(s=>![".",".."].includes(s))}exports.ls=ls},{"misc-utils-of-mine-generic":160}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");const file_1=require("../file/file");const protected_1=require("../file/protected");const html_1=require("../image/html");const imageCompare_1=require("../image/imageCompare");const imageInfo_1=require("../image/imageInfo");const imageUtil_1=require("../image/imageUtil");const support_1=require("../image/support");const magickLoaded_1=require("../imageMagick/magickLoaded");const command_1=require("../main/command");const executeCommandPreprocessor_1=require("../main/executeCommandPreprocessor");const main_1=require("../main/main");const run_1=require("../main/run");const template_1=require("../main/template/template");const options_1=require("../options");function _getMagica(){return{File:file_1.File,toDataUrl:html_1.toDataUrl,imageBuiltIn:support_1.imageBuiltIn,imageCompare:imageCompare_1.imageCompare,magickLoaded:magickLoaded_1.magickLoaded,imageInfo:imageInfo_1.imageInfo,imagePixelColor:imageUtil_1.imagePixelColor,registerCommandPreprocessor:executeCommandPreprocessor_1.registerCommandPreprocessor,main:main_1.main,cliToArray:command_1.cliToArray,run:run_1.run,protectFile:protected_1.protectFile,isProtectedFile:protected_1.isProtectedFile,addTemplateHelper:template_1.addTemplateHelper,getOptions:options_1.getOptions,setOptions:options_1.setOptions,colorCount:imageUtil_1.colorCount}}function getMagica(){return _getMagica()}exports.getMagica=getMagica;function installMagica(){misc_utils_of_mine_generic_1.getGlobal().Magica=_getMagica()}exports.installMagica=installMagica},{"../file/file":1,"../file/protected":2,"../image/html":3,"../image/imageCompare":4,"../image/imageInfo":5,"../image/imageUtil":6,"../image/support":7,"../imageMagick/magickLoaded":11,"../main/command":12,"../main/executeCommandPreprocessor":14,"../main/main":15,"../main/run":16,"../main/template/template":19,"../options":20,"misc-utils-of-mine-generic":160}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");let params;let src;function getThisBrowserScriptTagSrc(){if(!src&&misc_utils_of_mine_generic_1.inBrowser()){var script=document.currentScript||document.querySelector('script[src*="myscript.js"]');src=script?script.src:undefined;if(src){params=misc_utils_of_mine_generic_1.getParametersFromUrl(src)}}return script}exports.getThisBrowserScriptTagSrc=getThisBrowserScriptTagSrc;function getThisBrowserScriptTagSrcParams(){getThisBrowserScriptTagSrc();return params}exports.getThisBrowserScriptTagSrcParams=getThisBrowserScriptTagSrcParams},{"misc-utils-of-mine-generic":160}],27:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function mkdirp(path,exists,mkdir){const folders=path.split("/");function f(i){if(folders.length<i){return}const name=folders.slice(0,i).join("/").trim();if(name&&!exists(name)){mkdir(name)}f(i+1)}f(0)}exports.mkdirp=mkdirp;function makeDirRecursive(p,FS){return mkdirp(p,p=>FS.analyzePath(p).exists,FS.mkdir)}exports.makeDirRecursive=makeDirRecursive},{}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const options_1=require("../options");const lsR_1=require("./lsR");function rmRf(f,FS,predicate=(f=>true),removed=[]){if(FS.isDir(FS.stat(f).mode)){lsR_1.ls(f,FS).some(f=>rmRf(f,FS,predicate,removed));if(predicate(f)){try{FS.rmdir(f);removed.push(f)}catch(error){options_1.getOption("debug")&&console.log(`Error in rmRf command rmdir ${f}`,error);return true}}}else if(predicate(f)){try{FS.unlink(f);removed.push(f)}catch(error){options_1.getOption("debug")&&console.log(`Error in rmRf command unlink ${f}`,error);return true}}return false}exports.rmRf=rmRf},{"../options":20,"./lsR":24}],29:[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js");asn1.define=require("./asn1/api").define;asn1.base=require("./asn1/base");asn1.constants=require("./asn1/constants");asn1.decoders=require("./asn1/decoders");asn1.encoders=require("./asn1/encoders")},{"./asn1/api":30,"./asn1/base":32,"./asn1/constants":36,"./asn1/decoders":38,"./asn1/encoders":41,"bn.js":48}],30:[function(require,module,exports){var asn1=require("../asn1");var inherits=require("inherits");var api=exports;api.define=function define(name,body){return new Entity(name,body)};function Entity(name,body){this.name=name;this.body=body;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})")}catch(e){named=function(entity){this._initNamed(entity)}}inherits(named,base);named.prototype._initNamed=function initnamed(entity){base.call(this,entity)};return new named(this)};Entity.prototype._getDecoder=function _getDecoder(enc){enc=enc||"der";if(!this.decoders.hasOwnProperty(enc))this.decoders[enc]=this._createNamed(asn1.decoders[enc]);return this.decoders[enc]};Entity.prototype.decode=function decode(data,enc,options){return this._getDecoder(enc).decode(data,options)};Entity.prototype._getEncoder=function _getEncoder(enc){enc=enc||"der";if(!this.encoders.hasOwnProperty(enc))this.encoders[enc]=this._createNamed(asn1.encoders[enc]);return this.encoders[enc]};Entity.prototype.encode=function encode(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":29,inherits:137,vm:243}],31:[function(require,module,exports){var inherits=require("inherits");var Reporter=require("../base").Reporter;var Buffer=require("buffer").Buffer;function DecoderBuffer(base,options){Reporter.call(this,options);if(!Buffer.isBuffer(base)){this.error("Input not Buffer");return}this.base=base;this.offset=0;this.length=base.length}inherits(DecoderBuffer,Reporter);exports.DecoderBuffer=DecoderBuffer;DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}};DecoderBuffer.prototype.restore=function restore(save){var res=new DecoderBuffer(this.base);res.offset=save.offset;res.length=this.offset;this.offset=save.offset;Reporter.prototype.restore.call(this,save.reporter);return res};DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length};DecoderBuffer.prototype.readUInt8=function readUInt8(fail){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(fail||"DecoderBuffer overrun")};DecoderBuffer.prototype.skip=function skip(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);res._reporterState=this._reporterState;res.offset=this.offset;res.length=this.offset+bytes;this.offset+=bytes;return res};DecoderBuffer.prototype.raw=function raw(save){return this.base.slice(save?save.offset:this.offset,this.length)};function EncoderBuffer(value,reporter){if(Array.isArray(value)){this.length=0;this.value=value.map((function(item){if(!(item instanceof EncoderBuffer))item=new EncoderBuffer(item,reporter);this.length+=item.length;return item}),this)}else if(typeof value==="number"){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value;this.length=1}else if(typeof value==="string"){this.value=value;this.length=Buffer.byteLength(value)}else if(Buffer.isBuffer(value)){this.value=value;this.length=value.length}else{return reporter.error("Unsupported type: "+typeof value)}}exports.EncoderBuffer=EncoderBuffer;EncoderBuffer.prototype.join=function join(out,offset){if(!out)out=new Buffer(this.length);if(!offset)offset=0;if(this.length===0)return out;if(Array.isArray(this.value)){this.value.forEach((function(item){item.join(out,offset);offset+=item.length}))}else{if(typeof this.value==="number")out[offset]=this.value;else if(typeof this.value==="string")out.write(this.value,offset);else if(Buffer.isBuffer(this.value))this.value.copy(out,offset);offset+=this.length}return out}},{"../base":32,buffer:80,inherits:137}],32:[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter;base.DecoderBuffer=require("./buffer").DecoderBuffer;base.EncoderBuffer=require("./buffer").EncoderBuffer;base.Node=require("./node")},{"./buffer":31,"./node":33,"./reporter":34}],33:[function(require,module,exports){var Reporter=require("../base").Reporter;var EncoderBuffer=require("../base").EncoderBuffer;var DecoderBuffer=require("../base").DecoderBuffer;var assert=require("minimalistic-assert");var tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"];var methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags);var overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(enc,parent){var state={};this._baseState=state;state.enc=enc;state.parent=parent||null;state.children=null;state.tag=null;state.args=null;state.reverseArgs=null;state.choice=null;state.optional=false;state.any=false;state.obj=false;state.use=null;state.useDecoder=null;state.key=null;state["default"]=null;state.explicit=null;state.implicit=null;state.contains=null;if(!state.parent){state.children=[];this._wrap()}}module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){var state=this._baseState;var cstate={};stateProps.forEach((function(prop){cstate[prop]=state[prop]}));var res=new this.constructor(cstate.parent);res._baseState=cstate;return res};Node.prototype._wrap=function wrap(){var state=this._baseState;methods.forEach((function(method){this[method]=function _wrappedMethod(){var clone=new this.constructor(this);state.children.push(clone);return clone[method].apply(clone,arguments)}}),this)};Node.prototype._init=function init(body){var state=this._baseState;assert(state.parent===null);body.call(this);state.children=state.children.filter((function(child){return child._baseState.parent===this}),this);assert.equal(state.children.length,1,"Root node can have only one child")};Node.prototype._useArgs=function useArgs(args){var state=this._baseState;var children=args.filter((function(arg){return arg instanceof this.constructor}),this);args=args.filter((function(arg){return!(arg instanceof this.constructor)}),this);if(children.length!==0){assert(state.children===null);state.children=children;children.forEach((function(child){child._baseState.parent=this}),this)}if(args.length!==0){assert(state.args===null);state.args=args;state.reverseArgs=args.map((function(arg){if(typeof arg!=="object"||arg.constructor!==Object)return arg;var res={};Object.keys(arg).forEach((function(key){if(key==(key|0))key|=0;var value=arg[key];res[value]=key}));return res}))}};overrided.forEach((function(method){Node.prototype[method]=function _overrided(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}));tags.forEach((function(tag){Node.prototype[tag]=function _tagMethod(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);assert(state.tag===null);state.tag=tag;this._useArgs(args);return this}}));Node.prototype.use=function use(item){assert(item);var state=this._baseState;assert(state.use===null);state.use=item;return this};Node.prototype.optional=function optional(){var state=this._baseState;state.optional=true;return this};Node.prototype.def=function def(val){var state=this._baseState;assert(state["default"]===null);state["default"]=val;state.optional=true;return this};Node.prototype.explicit=function explicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.explicit=num;return this};Node.prototype.implicit=function implicit(num){var state=this._baseState;assert(state.explicit===null&&state.implicit===null);state.implicit=num;return this};Node.prototype.obj=function obj(){var state=this._baseState;var args=Array.prototype.slice.call(arguments);state.obj=true;if(args.length!==0)this._useArgs(args);return this};Node.prototype.key=function key(newKey){var state=this._baseState;assert(state.key===null);state.key=newKey;return this};Node.prototype.any=function any(){var state=this._baseState;state.any=true;return this};Node.prototype.choice=function choice(obj){var state=this._baseState;assert(state.choice===null);state.choice=obj;this._useArgs(Object.keys(obj).map((function(key){return obj[key]})));return this};Node.prototype.contains=function contains(item){var state=this._baseState;assert(state.use===null);state.contains=item;return this};Node.prototype._decode=function decode(input,options){var state=this._baseState;if(state.parent===null)return input.wrapResult(state.children[0]._decode(input,options));var result=state["default"];var present=true;var prevKey=null;if(state.key!==null)prevKey=input.enterKey(state.key);if(state.optional){var tag=null;if(state.explicit!==null)tag=state.explicit;else if(state.implicit!==null)tag=state.implicit;else if(state.tag!==null)tag=state.tag;if(tag===null&&!state.any){var save=input.save();try{if(state.choice===null)this._decodeGeneric(state.tag,input,options);else this._decodeChoice(input,options);present=true}catch(e){present=false}input.restore(save)}else{present=this._peekTag(input,tag,state.any);if(input.isError(present))return present}}var prevObj;if(state.obj&&present)prevObj=input.enterObject();if(present){if(state.explicit!==null){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(state.use===null&&state.choice===null){if(state.any)var save=input.save();var body=this._decodeTag(input,state.implicit!==null?state.implicit:state.tag,state.any);if(input.isError(body))return body;if(state.any)result=input.raw(save);else input=body}if(options&&options.track&&state.tag!==null)options.track(input.path(),start,input.length,"tagged");if(options&&options.track&&state.tag!==null)options.track(input.path(),input.offset,input.length,"content");if(state.any)result=result;else if(state.choice===null)result=this._decodeGeneric(state.tag,input,options);else result=this._decodeChoice(input,options);if(input.isError(result))return result;if(!state.any&&state.choice===null&&state.children!==null){state.children.forEach((function decodeChildren(child){child._decode(input,options)}))}if(state.contains&&(state.tag==="octstr"||state.tag==="bitstr")){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}if(state.obj&&present)result=input.leaveObject(prevObj);if(state.key!==null&&(result!==null||present===true))input.leaveKey(prevKey,state.key,result);else if(prevKey!==null)input.exitKey(prevKey);return result};Node.prototype._decodeGeneric=function decodeGeneric(tag,input,options){var state=this._baseState;if(tag==="seq"||tag==="set")return null;if(tag==="seqof"||tag==="setof")return this._decodeList(input,tag,state.args[0],options);else if(/str$/.test(tag))return this._decodeStr(input,tag,options);else if(tag==="objid"&&state.args)return this._decodeObjid(input,state.args[0],state.args[1],options);else if(tag==="objid")return this._decodeObjid(input,null,null,options);else if(tag==="gentime"||tag==="utctime")return this._decodeTime(input,tag,options);else if(tag==="null_")return this._decodeNull(input,options);else if(tag==="bool")return this._decodeBool(input,options);else if(tag==="objDesc")return this._decodeStr(input,tag,options);else if(tag==="int"||tag==="enum")return this._decodeInt(input,state.args&&state.args[0],options);if(state.use!==null){return this._getUse(state.use,input._reporterState.obj)._decode(input,options)}else{return input.error("unknown tag: "+tag)}};Node.prototype._getUse=function _getUse(entity,obj){var state=this._baseState;state.useDecoder=this._use(entity,obj);assert(state.useDecoder._baseState.parent===null);state.useDecoder=state.useDecoder._baseState.children[0];if(state.implicit!==state.useDecoder._baseState.implicit){state.useDecoder=state.useDecoder.clone();state.useDecoder._baseState.implicit=state.implicit}return state.useDecoder};Node.prototype._decodeChoice=function decodeChoice(input,options){var state=this._baseState;var result=null;var match=false;Object.keys(state.choice).some((function(key){var save=input.save();var node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return false;result={type:key,value:value};match=true}catch(e){input.restore(save);return false}return true}),this);if(!match)return input.error("Choice not matched");return result};Node.prototype._createEncoderBuffer=function createEncoderBuffer(data){return new EncoderBuffer(data,this.reporter)};Node.prototype._encode=function encode(data,reporter,parent){var state=this._baseState;if(state["default"]!==null&&state["default"]===data)return;var result=this._encodeValue(data,reporter,parent);if(result===undefined)return;if(this._skipDefault(result,reporter,parent))return;return result};Node.prototype._encodeValue=function encode(data,reporter,parent){var state=this._baseState;if(state.parent===null)return state.children[0]._encode(data,reporter||new Reporter);var result=null;this.reporter=reporter;if(state.optional&&data===undefined){if(state["default"]!==null)data=state["default"];else return}var content=null;var primitive=false;if(state.any){result=this._createEncoderBuffer(data)}else if(state.choice){result=this._encodeChoice(data,reporter)}else if(state.contains){content=this._getUse(state.contains,parent)._encode(data,reporter);primitive=true}else if(state.children){content=state.children.map((function(child){if(child._baseState.tag==="null_")return child._encode(null,reporter,data);if(child._baseState.key===null)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if(typeof data!=="object")return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);reporter.leaveKey(prevKey);return res}),this).filter((function(child){return child}));content=this._createEncoderBuffer(content)}else{if(state.tag==="seqof"||state.tag==="setof"){if(!(state.args&&state.args.length===1))return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null;content=this._createEncoderBuffer(data.map((function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)}),child))}else if(state.use!==null){result=this._getUse(state.use,parent)._encode(data,reporter)}else{content=this._encodePrimitive(state.tag,data);primitive=true}}var result;if(!state.any&&state.choice===null){var tag=state.implicit!==null?state.implicit:state.tag;var cls=state.implicit===null?"universal":"context";if(tag===null){if(state.use===null)reporter.error("Tag could be omitted only for .use()")}else{if(state.use===null)result=this._encodeComposite(tag,primitive,cls,content)}}if(state.explicit!==null)result=this._encodeComposite(state.explicit,false,"context",result);return result};Node.prototype._encodeChoice=function encodeChoice(data,reporter){var state=this._baseState;var node=state.choice[data.type];if(!node){assert(false,data.type+" not found in "+JSON.stringify(Object.keys(state.choice)))}return node._encode(data.value,reporter)};Node.prototype._encodePrimitive=function encodePrimitive(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);else if(tag==="objid"&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);else if(tag==="objid")return this._encodeObjid(data,null,null);else if(tag==="gentime"||tag==="utctime")return this._encodeTime(data,tag);else if(tag==="null_")return this._encodeNull();else if(tag==="int"||tag==="enum")return this._encodeInt(data,state.args&&state.reverseArgs[0]);else if(tag==="bool")return this._encodeBool(data);else if(tag==="objDesc")return this._encodeStr(data,tag);else throw new Error("Unsupported tag: "+tag)};Node.prototype._isNumstr=function isNumstr(str){return/^[0-9 ]*$/.test(str)};Node.prototype._isPrintstr=function isPrintstr(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":32,"minimalistic-assert":143}],34:[function(require,module,exports){var inherits=require("inherits");function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}exports.Reporter=Reporter;Reporter.prototype.isError=function isError(obj){return obj instanceof ReporterError};Reporter.prototype.save=function save(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}};Reporter.prototype.restore=function restore(data){var state=this._reporterState;state.obj=data.obj;state.path=state.path.slice(0,data.pathLen)};Reporter.prototype.enterKey=function enterKey(key){return this._reporterState.path.push(key)};Reporter.prototype.exitKey=function exitKey(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)};Reporter.prototype.leaveKey=function leaveKey(index,key,value){var state=this._reporterState;this.exitKey(index);if(state.obj!==null)state.obj[key]=value};Reporter.prototype.path=function path(){return this._reporterState.path.join("/")};Reporter.prototype.enterObject=function enterObject(){var state=this._reporterState;var prev=state.obj;state.obj={};return prev};Reporter.prototype.leaveObject=function leaveObject(prev){var state=this._reporterState;var now=state.obj;state.obj=prev;return now};Reporter.prototype.error=function error(msg){var err;var state=this._reporterState;var inherited=msg instanceof ReporterError;if(inherited){err=msg}else{err=new ReporterError(state.path.map((function(elem){return"["+JSON.stringify(elem)+"]"})).join(""),msg.message||msg,msg.stack)}if(!state.options.partial)throw err;if(!inherited)state.errors.push(err);return err};Reporter.prototype.wrapResult=function wrapResult(result){var state=this._reporterState;if(!state.options.partial)return result;return{result:this.isError(result)?null:result,errors:state.errors}};function ReporterError(path,msg){this.path=path;this.rethrow(msg)}inherits(ReporterError,Error);ReporterError.prototype.rethrow=function rethrow(msg){this.message=msg+" at: "+(this.path||"(shallow)");if(Error.captureStackTrace)Error.captureStackTrace(this,ReporterError);if(!this.stack){try{throw new Error(this.message)}catch(e){this.stack=e.stack}}return this}},{inherits:137}],35:[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"};exports.tagClassByName=constants._reverse(exports.tagClass);exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};exports.tagByName=constants._reverse(exports.tag)},{"../constants":36}],36:[function(require,module,exports){var constants=exports;constants._reverse=function reverse(map){var res={};Object.keys(map).forEach((function(key){if((key|0)==key)key=key|0;var value=map[key];res[value]=key}));return res};constants.der=require("./der")},{"./der":35}],37:[function(require,module,exports){var inherits=require("inherits");var asn1=require("../../asn1");var base=asn1.base;var bignum=asn1.bignum;var der=asn1.constants.der;function DERDecoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DERDecoder;DERDecoder.prototype.decode=function decode(data,options){if(!(data instanceof base.DecoderBuffer))data=new base.DecoderBuffer(data,options);return this.tree._decode(data,options)};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._peekTag=function peekTag(buffer,tag,any){if(buffer.isEmpty())return false;var state=buffer.save();var decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;buffer.restore(state);return decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any};DERNode.prototype._decodeTag=function decodeTag(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag){return buffer.error('Failed to match tag: "'+tag+'"')}if(decodedTag.primitive||len!==null)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save();var res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');if(buffer.isError(res))return res;len=buffer.offset-state.offset;buffer.restore(state);return buffer.skip(len,'Failed to match body of: "'+tag+'"')};DERNode.prototype._skipUntilEnd=function skipUntilEnd(buffer,fail){while(true){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(tag.primitive||len!==null)res=buffer.skip(len);else res=this._skipUntilEnd(buffer,fail);if(buffer.isError(res))return res;if(tag.tagStr==="end")break}};DERNode.prototype._decodeList=function decodeList(buffer,tag,decoder,options){var result=[];while(!buffer.isEmpty()){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result};DERNode.prototype._decodeStr=function decodeStr(buffer,tag){if(tag==="bitstr"){var unused=buffer.readUInt8();if(buffer.isError(unused))return unused;return{unused:unused,data:buffer.raw()}}else if(tag==="bmpstr"){var raw=buffer.raw();if(raw.length%2===1)return buffer.error("Decoding of string type: bmpstr length mismatch");var str="";for(var i=0;i<raw.length/2;i++){str+=String.fromCharCode(raw.readUInt16BE(i*2))}return str}else if(tag==="numstr"){var numstr=buffer.raw().toString("ascii");if(!this._isNumstr(numstr)){return buffer.error("Decoding of string type: "+"numstr unsupported characters")}return numstr}else if(tag==="octstr"){return buffer.raw()}else if(tag==="objDesc"){return buffer.raw()}else if(tag==="printstr"){var printstr=buffer.raw().toString("ascii");if(!this._isPrintstr(printstr)){return buffer.error("Decoding of string type: "+"printstr unsupported characters")}return printstr}else if(/str$/.test(tag)){return buffer.raw().toString()}else{return buffer.error("Decoding of string type: "+tag+" unsupported")}};DERNode.prototype._decodeObjid=function decodeObjid(buffer,values,relative){var result;var identifiers=[];var ident=0;while(!buffer.isEmpty()){var subident=buffer.readUInt8();ident<<=7;ident|=subident&127;if((subident&128)===0){identifiers.push(ident);ident=0}}if(subident&128)identifiers.push(ident);var first=identifiers[0]/40|0;var second=identifiers[0]%40;if(relative)result=identifiers;else result=[first,second].concat(identifiers.slice(1));if(values){var tmp=values[result.join(" ")];if(tmp===undefined)tmp=values[result.join(".")];if(tmp!==undefined)result=tmp}return result};DERNode.prototype._decodeTime=function decodeTime(buffer,tag){var str=buffer.raw().toString();if(tag==="gentime"){var year=str.slice(0,4)|0;var mon=str.slice(4,6)|0;var day=str.slice(6,8)|0;var hour=str.slice(8,10)|0;var min=str.slice(10,12)|0;var sec=str.slice(12,14)|0}else if(tag==="utctime"){var year=str.slice(0,2)|0;var mon=str.slice(2,4)|0;var day=str.slice(4,6)|0;var hour=str.slice(6,8)|0;var min=str.slice(8,10)|0;var sec=str.slice(10,12)|0;if(year<70)year=2e3+year;else year=1900+year}else{return buffer.error("Decoding "+tag+" time is not supported yet")}return Date.UTC(year,mon-1,day,hour,min,sec,0)};DERNode.prototype._decodeNull=function decodeNull(buffer){return null};DERNode.prototype._decodeBool=function decodeBool(buffer){var res=buffer.readUInt8();if(buffer.isError(res))return res;else return res!==0};DERNode.prototype._decodeInt=function decodeInt(buffer,values){var raw=buffer.raw();var res=new bignum(raw);if(values)res=values[res.toString(10)]||res;return res};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getDecoder("der").tree};function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6];var primitive=(tag&32)===0;if((tag&31)===31){var oct=tag;tag=0;while((oct&128)===128){oct=buf.readUInt8(fail);if(buf.isError(oct))return oct;tag<<=7;tag|=oct&127}}else{tag&=31}var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&len===128)return null;if((len&128)===0){return len}var num=len&127;if(num>4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}},{"../../asn1":29,inherits:137}],38:[function(require,module,exports){var decoders=exports;decoders.der=require("./der");decoders.pem=require("./pem")},{"./der":37,"./pem":39}],39:[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var DERDecoder=require("./der");function PEMDecoder(entity){DERDecoder.call(this,entity);this.enc="pem"}inherits(PEMDecoder,DERDecoder);module.exports=PEMDecoder;PEMDecoder.prototype.decode=function decode(data,options){var lines=data.toString().split(/[\r\n]+/g);var label=options.label.toUpperCase();var re=/^-----(BEGIN|END) ([^-]+)-----$/;var start=-1;var end=-1;for(var i=0;i<lines.length;i++){var match=lines[i].match(re);if(match===null)continue;if(match[2]!==label)continue;if(start===-1){if(match[1]!=="BEGIN")break;start=i}else{if(match[1]!=="END")break;end=i;break}}if(start===-1||end===-1)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":37,buffer:80,inherits:137}],40:[function(require,module,exports){var inherits=require("inherits");var Buffer=require("buffer").Buffer;var asn1=require("../../asn1");var base=asn1.base;var der=asn1.constants.der;function DEREncoder(entity){this.enc="der";this.name=entity.name;this.entity=entity;this.tree=new DERNode;this.tree._init(entity.body)}module.exports=DEREncoder;DEREncoder.prototype.encode=function encode(data,reporter){return this.tree._encode(data,reporter).join()};function DERNode(parent){base.Node.call(this,"der",parent)}inherits(DERNode,base.Node);DERNode.prototype._encodeComposite=function encodeComposite(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);header[0]=encodedTag;header[1]=content.length;return this._createEncoderBuffer([header,content])}var lenOctets=1;for(var i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(1+1+lenOctets);header[0]=encodedTag;header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=j&255;return this._createEncoderBuffer([header,content])};DERNode.prototype._encodeStr=function encodeStr(str,tag){if(tag==="bitstr"){return this._createEncoderBuffer([str.unused|0,str.data])}else if(tag==="bmpstr"){var buf=new Buffer(str.length*2);for(var i=0;i<str.length;i++){buf.writeUInt16BE(str.charCodeAt(i),i*2)}return this._createEncoderBuffer(buf)}else if(tag==="numstr"){if(!this._isNumstr(str)){return this.reporter.error("Encoding of string type: numstr supports "+"only digits and space")}return this._createEncoderBuffer(str)}else if(tag==="printstr"){if(!this._isPrintstr(str)){return this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark")}return this._createEncoderBuffer(str)}else if(/str$/.test(tag)){return this._createEncoderBuffer(str)}else if(tag==="objDesc"){return this._createEncoderBuffer(str)}else{return this.reporter.error("Encoding of string type: "+tag+" unsupported")}};DERNode.prototype._encodeObjid=function encodeObjid(id,values,relative){if(typeof id==="string"){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(id))}if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,id[0]*40+id[1])}var size=0;for(var i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}var objid=new Buffer(size);var offset=objid.length-1;for(var i=id.length-1;i>=0;i--){var ident=id[i];objid[offset--]=ident&127;while((ident>>=7)>0)objid[offset--]=128|ident&127}return this._createEncoderBuffer(objid)};function two(num){if(num<10)return"0"+num;else return num}DERNode.prototype._encodeTime=function encodeTime(time,tag){var str;var date=new Date(time);if(tag==="gentime"){str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else if(tag==="utctime"){str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+tag+" time is not supported yet")}return this._encodeStr(str,"octstr")};DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")};DERNode.prototype._encodeInt=function encodeInt(num,values){if(typeof num==="string"){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num))}num=values[num]}if(typeof num!=="number"&&!Buffer.isBuffer(num)){var numArray=num.toArray();if(!num.sign&&numArray[0]&128){numArray.unshift(0)}num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;if(num.length===0)size++;var out=new Buffer(size);num.copy(out);if(num.length===0)out[0]=0;return this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);var size=1;for(var i=num;i>=256;i>>=8)size++;var out=new Array(size);for(var i=out.length-1;i>=0;i--){out[i]=num&255;num>>=8}if(out[0]&128){out.unshift(0)}return this._createEncoderBuffer(new Buffer(out))};DERNode.prototype._encodeBool=function encodeBool(value){return this._createEncoderBuffer(value?255:0)};DERNode.prototype._use=function use(entity,obj){if(typeof entity==="function")entity=entity(obj);return entity._getEncoder("der").tree};DERNode.prototype._skipDefault=function skipDefault(dataBuffer,reporter,parent){var state=this._baseState;var i;if(state["default"]===null)return false;var data=dataBuffer.join();if(state.defaultBuffer===undefined)state.defaultBuffer=this._encodeValue(state["default"],reporter,parent).join();if(data.length!==state.defaultBuffer.length)return false;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return false;return true};function encodeTag(tag,primitive,cls,reporter){var res;if(tag==="seqof")tag="seq";else if(tag==="setof")tag="set";if(der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else if(typeof tag==="number"&&(tag|0)===tag)res=tag;else return reporter.error("Unknown tag: "+tag);if(res>=31)return reporter.error("Multi-octet tag encoding unsupported");if(!primitive)res|=32;res|=der.tagClassByName[cls||"universal"]<<6;return res}},{"../../asn1":29,buffer:80,inherits:137}],41:[function(require,module,exports){var encoders=exports;encoders.der=require("./der");encoders.pem=require("./pem")},{"./der":40,"./pem":42}],42:[function(require,module,exports){var inherits=require("inherits");var DEREncoder=require("./der");function PEMEncoder(entity){DEREncoder.call(this,entity);this.enc="pem"}inherits(PEMEncoder,DEREncoder);module.exports=PEMEncoder;PEMEncoder.prototype.encode=function encode(data,options){var buf=DEREncoder.prototype.encode.call(this,data);var p=buf.toString("base64");var out=["-----BEGIN "+options.label+"-----"];for(var i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));out.push("-----END "+options.label+"-----");return out.join("\n")}},{"./der":40,inherits:137}],43:[function(require,module,exports){(function(global){"use strict";var objectAssign=require("object-assign");function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};function strict(value,message){if(!value)fail(value,true,message,"==",strict)}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"object-assign":187,"util/":46}],44:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],45:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],46:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,(function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}));for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach((function(val,idx){hash[val]=true}));return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}))}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach((function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}}));return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2)}else{str="\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce((function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":45,_process:205,inherits:44}],47:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],48:[function(require,module,exports){(function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number)){return number}this.negative=0;this.words=null;this.length=0;this.red=null;if(number!==null){if(base==="le"||base==="be"){endian=base;base=10}this._init(number||0,base||10,endian||"be")}}if(typeof module==="object"){module.exports=BN}else{exports.BN=BN}BN.BN=BN;BN.wordSize=26;var Buffer;try{Buffer=require("buffer").Buffer}catch(e){}BN.isBN=function isBN(num){if(num instanceof BN){return true}return num!==null&&typeof num==="object"&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)};BN.max=function max(left,right){if(left.cmp(right)>0)return left;return right};BN.min=function min(left,right){if(left.cmp(right)<0)return left;return right};BN.prototype._init=function init(number,base,endian){if(typeof number==="number"){return this._initNumber(number,base,endian)}if(typeof number==="object"){return this._initArray(number,base,endian)}if(base==="hex"){base=16}assert(base===(base|0)&&base>=2&&base<=36);number=number.toString().replace(/\s+/g,"");var start=0;if(number[0]==="-"){start++}if(base===16){this._parseHex(number,start)}else{this._parseBase(number,base,start)}if(number[0]==="-"){this.negative=1}this.strip();if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initNumber=function _initNumber(number,base,endian){if(number<0){this.negative=1;number=-number}if(number<67108864){this.words=[number&67108863];this.length=1}else if(number<4503599627370496){this.words=[number&67108863,number/67108864&67108863];this.length=2}else{assert(number<9007199254740992);this.words=[number&67108863,number/67108864&67108863,1];this.length=3}if(endian!=="le")return;this._initArray(this.toArray(),base,endian)};BN.prototype._initArray=function _initArray(number,base,endian){assert(typeof number.length==="number");if(number.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(number.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;if(endian==="be"){for(i=number.length-1,j=0;i>=0;i-=3){w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}else if(endian==="le"){for(i=0,j=0;i<number.length;i+=3){w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863;this.words[j+1]=w>>>26-off&67108863;off+=24;if(off>=26){off-=26;j++}}}return this.strip()};function parseHex(str,start,end){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4;if(c>=49&&c<=54){r|=c-49+10}else if(c>=17&&c<=22){r|=c-17+10}else{r|=c&15}}return r}BN.prototype._parseHex=function _parseHex(number,start){this.length=Math.ceil((number.length-start)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++){this.words[i]=0}var j,w;var off=0;for(i=number.length-6,j=0;i>=start;i-=6){w=parseHex(number,i,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303;off+=24;if(off>=26){off-=26;j++}}if(i+6!==start){w=parseHex(number,start,i+6);this.words[j]|=w<<off&67108863;this.words[j+1]|=w>>>26-off&4194303}this.strip()};function parseBase(str,start,end,mul){var r=0;var len=Math.min(str.length,end);for(var i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul;if(c>=49){r+=c-49+10}else if(c>=17){r+=c-17+10}else{r+=c}}return r}BN.prototype._parseBase=function _parseBase(number,base,start){this.words=[0];this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base){limbLen++}limbLen--;limbPow=limbPow/base|0;var total=number.length-start;var mod=total%limbLen;var end=Math.min(total,total-mod)+start;var word=0;for(var i=start;i<end;i+=limbLen){word=parseBase(number,i,i+limbLen,base);this.imuln(limbPow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}if(mod!==0){var pow=1;word=parseBase(number,i,number.length,base);for(i=0;i<mod;i++){pow*=base}this.imuln(pow);if(this.words[0]+word<67108864){this.words[0]+=word}else{this._iaddn(word)}}};BN.prototype.copy=function copy(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++){dest.words[i]=this.words[i]}dest.length=this.length;dest.negative=this.negative;dest.red=this.red};BN.prototype.clone=function clone(){var r=new BN(null);this.copy(r);return r};BN.prototype._expand=function _expand(size){while(this.length<size){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(base,padding){base=base||10;padding=padding|0||1;var out;if(base===16||base==="hex"){out="";var off=0;var carry=0;for(var i=0;i<this.length;i++){var w=this.words[i];var word=((w<<off|carry)&16777215).toString(16);carry=w>>>24-off&16777215;if(carry!==0||i!==this.length-1){out=zeros[6-word.length]+word+out}else{out=word+out}off+=2;if(off>=26){off-=26;i--}}if(carry!==0){out=carry.toString(16)+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}if(base===(base|0)&&base>=2&&base<=36){var groupSize=groupSizes[base];var groupBase=groupBases[base];out="";var c=this.clone();c.negative=0;while(!c.isZero()){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase);if(!c.isZero()){out=zeros[groupSize-r.length]+r+out}else{out=r+out}}if(this.isZero()){out="0"+out}while(out.length%padding!==0){out="0"+out}if(this.negative!==0){out="-"+out}return out}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var ret=this.words[0];if(this.length===2){ret+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){ret+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-ret:ret};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(endian,length){assert(typeof Buffer!=="undefined");return this.toArrayLike(Buffer,endian,length)};BN.prototype.toArray=function toArray(endian,length){return this.toArrayLike(Array,endian,length)};BN.prototype.toArrayLike=function toArrayLike(ArrayType,endian,length){var byteLength=this.byteLength();var reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length");assert(reqLength>0,"Requested array length <= 0");this.strip();var littleEndian=endian==="le";var res=new ArrayType(reqLength);var b,i;var q=this.clone();if(!littleEndian){for(i=0;i<reqLength-byteLength;i++){res[i]=0}for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[reqLength-i-1]=b}}else{for(i=0;!q.isZero();i++){b=q.andln(255);q.iushrn(8);res[i]=b}for(;i<reqLength;i++){res[i]=0}}return res};if(Math.clz32){BN.prototype._countBits=function _countBits(w){return 32-Math.clz32(w)}}else{BN.prototype._countBits=function _countBits(w){var t=w;var r=0;if(t>=4096){r+=13;t>>>=13}if(t>=64){r+=7;t>>>=7}if(t>=8){r+=4;t>>>=4}if(t>=2){r+=2;t>>>=2}return r+t}}BN.prototype._zeroBits=function _zeroBits(w){if(w===0)return 26;var t=w;var r=0;if((t&8191)===0){r+=13;t>>>=13}if((t&127)===0){r+=7;t>>>=7}if((t&15)===0){r+=4;t>>>=4}if((t&3)===0){r+=2;t>>>=2}if((t&1)===0){r++}return r};BN.prototype.bitLength=function bitLength(){var w=this.words[this.length-1];var hi=this._countBits(w);return(this.length-1)*26+hi};function toBitArray(num){var w=new Array(num.bitLength());for(var bit=0;bit<w.length;bit++){var off=bit/26|0;var wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var r=0;for(var i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);r+=b;if(b!==26)break}return r};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(width){if(this.negative!==0){return this.abs().inotn(width).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(width){if(this.testn(width-1)){return this.notn(width).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(num){while(this.length<num.length){this.words[this.length++]=0}for(var i=0;i<num.length;i++){this.words[i]=this.words[i]|num.words[i]}return this.strip()};BN.prototype.ior=function ior(num){assert((this.negative|num.negative)===0);return this.iuor(num)};BN.prototype.or=function or(num){if(this.length>num.length)return this.clone().ior(num);return num.clone().ior(this)};BN.prototype.uor=function uor(num){if(this.length>num.length)return this.clone().iuor(num);return num.clone().iuor(this)};BN.prototype.iuand=function iuand(num){var b;if(this.length>num.length){b=num}else{b=this}for(var i=0;i<b.length;i++){this.words[i]=this.words[i]&num.words[i]}this.length=b.length;return this.strip()};BN.prototype.iand=function iand(num){assert((this.negative|num.negative)===0);return this.iuand(num)};BN.prototype.and=function and(num){if(this.length>num.length)return this.clone().iand(num);return num.clone().iand(this)};BN.prototype.uand=function uand(num){if(this.length>num.length)return this.clone().iuand(num);return num.clone().iuand(this)};BN.prototype.iuxor=function iuxor(num){var a;var b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}for(var i=0;i<b.length;i++){this.words[i]=a.words[i]^b.words[i]}if(this!==a){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=a.length;return this.strip()};BN.prototype.ixor=function ixor(num){assert((this.negative|num.negative)===0);return this.iuxor(num)};BN.prototype.xor=function xor(num){if(this.length>num.length)return this.clone().ixor(num);return num.clone().ixor(this)};BN.prototype.uxor=function uxor(num){if(this.length>num.length)return this.clone().iuxor(num);return num.clone().iuxor(this)};BN.prototype.inotn=function inotn(width){assert(typeof width==="number"&&width>=0);var bytesNeeded=Math.ceil(width/26)|0;var bitsLeft=width%26;this._expand(bytesNeeded);if(bitsLeft>0){bytesNeeded--}for(var i=0;i<bytesNeeded;i++){this.words[i]=~this.words[i]&67108863}if(bitsLeft>0){this.words[i]=~this.words[i]&67108863>>26-bitsLeft}return this.strip()};BN.prototype.notn=function notn(width){return this.clone().inotn(width)};BN.prototype.setn=function setn(bit,val){assert(typeof bit==="number"&&bit>=0);var off=bit/26|0;var wbit=bit%26;this._expand(off+1);if(val){this.words[off]=this.words[off]|1<<wbit}else{this.words[off]=this.words[off]&~(1<<wbit)}return this.strip()};BN.prototype.iadd=function iadd(num){var r;if(this.negative!==0&&num.negative===0){this.negative=0;r=this.isub(num);this.negative^=1;return this._normSign()}else if(this.negative===0&&num.negative!==0){num.negative=0;r=this.isub(num);num.negative=1;return r._normSign()}var a,b;if(this.length>num.length){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)+(b.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;this.words[i]=r&67108863;carry=r>>>26}this.length=a.length;if(carry!==0){this.words[this.length]=carry;this.length++}else if(a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}return this};BN.prototype.add=function add(num){var res;if(num.negative!==0&&this.negative===0){num.negative=0;res=this.sub(num);num.negative^=1;return res}else if(num.negative===0&&this.negative!==0){this.negative=0;res=num.sub(this);this.negative=1;return res}if(this.length>num.length)return this.clone().iadd(num);return num.clone().iadd(this)};BN.prototype.isub=function isub(num){if(num.negative!==0){num.negative=0;var r=this.iadd(num);num.negative=1;return r._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(num);this.negative=1;return this._normSign()}var cmp=this.cmp(num);if(cmp===0){this.negative=0;this.length=1;this.words[0]=0;return this}var a,b;if(cmp>0){a=this;b=num}else{a=num;b=this}var carry=0;for(var i=0;i<b.length;i++){r=(a.words[i]|0)-(b.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}for(;carry!==0&&i<a.length;i++){r=(a.words[i]|0)+carry;carry=r>>26;this.words[i]=r&67108863}if(carry===0&&i<a.length&&a!==this){for(;i<a.length;i++){this.words[i]=a.words[i]}}this.length=Math.max(this.length,i);if(a!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(num){return this.clone().isub(num)};function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len;len=len-1|0;var a=self.words[0]|0;var b=num.words[0]|0;var r=a*b;var lo=r&67108863;var carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){var ncarry=carry>>>26;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=self.words[i]|0;b=num.words[j]|0;r=a*b+rword;ncarry+=r/67108864|0;rword=r&67108863}out.words[k]=rword|0;carry=ncarry|0}if(carry!==0){out.words[k]=carry|0}else{out.length--}return out.strip()}var comb10MulTo=function comb10MulTo(self,num,out){var a=self.words;var b=num.words;var o=out.words;var c=0;var lo;var mid;var hi;var a0=a[0]|0;var al0=a0&8191;var ah0=a0>>>13;var a1=a[1]|0;var al1=a1&8191;var ah1=a1>>>13;var a2=a[2]|0;var al2=a2&8191;var ah2=a2>>>13;var a3=a[3]|0;var al3=a3&8191;var ah3=a3>>>13;var a4=a[4]|0;var al4=a4&8191;var ah4=a4>>>13;var a5=a[5]|0;var al5=a5&8191;var ah5=a5>>>13;var a6=a[6]|0;var al6=a6&8191;var ah6=a6>>>13;var a7=a[7]|0;var al7=a7&8191;var ah7=a7>>>13;var a8=a[8]|0;var al8=a8&8191;var ah8=a8>>>13;var a9=a[9]|0;var al9=a9&8191;var ah9=a9>>>13;var b0=b[0]|0;var bl0=b0&8191;var bh0=b0>>>13;var b1=b[1]|0;var bl1=b1&8191;var bh1=b1>>>13;var b2=b[2]|0;var bl2=b2&8191;var bh2=b2>>>13;var b3=b[3]|0;var bl3=b3&8191;var bh3=b3>>>13;var b4=b[4]|0;var bl4=b4&8191;var bh4=b4>>>13;var b5=b[5]|0;var bl5=b5&8191;var bh5=b5>>>13;var b6=b[6]|0;var bl6=b6&8191;var bh6=b6>>>13;var b7=b[7]|0;var bl7=b7&8191;var bh7=b7>>>13;var b8=b[8]|0;var bl8=b8&8191;var bh8=b8>>>13;var b9=b[9]|0;var bl9=b9&8191;var bh9=b9>>>13;out.negative=self.negative^num.negative;out.length=19;lo=Math.imul(al0,bl0);mid=Math.imul(al0,bh0);mid=mid+Math.imul(ah0,bl0)|0;hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0;w0&=67108863;lo=Math.imul(al1,bl0);mid=Math.imul(al1,bh0);mid=mid+Math.imul(ah1,bl0)|0;hi=Math.imul(ah1,bh0);lo=lo+Math.imul(al0,bl1)|0;mid=mid+Math.imul(al0,bh1)|0;mid=mid+Math.imul(ah0,bl1)|0;hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0;w1&=67108863;lo=Math.imul(al2,bl0);mid=Math.imul(al2,bh0);mid=mid+Math.imul(ah2,bl0)|0;hi=Math.imul(ah2,bh0);lo=lo+Math.imul(al1,bl1)|0;mid=mid+Math.imul(al1,bh1)|0;mid=mid+Math.imul(ah1,bl1)|0;hi=hi+Math.imul(ah1,bh1)|0;lo=lo+Math.imul(al0,bl2)|0;mid=mid+Math.imul(al0,bh2)|0;mid=mid+Math.imul(ah0,bl2)|0;hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0;w2&=67108863;lo=Math.imul(al3,bl0);mid=Math.imul(al3,bh0);mid=mid+Math.imul(ah3,bl0)|0;hi=Math.imul(ah3,bh0);lo=lo+Math.imul(al2,bl1)|0;mid=mid+Math.imul(al2,bh1)|0;mid=mid+Math.imul(ah2,bl1)|0;hi=hi+Math.imul(ah2,bh1)|0;lo=lo+Math.imul(al1,bl2)|0;mid=mid+Math.imul(al1,bh2)|0;mid=mid+Math.imul(ah1,bl2)|0;hi=hi+Math.imul(ah1,bh2)|0;lo=lo+Math.imul(al0,bl3)|0;mid=mid+Math.imul(al0,bh3)|0;mid=mid+Math.imul(ah0,bl3)|0;hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0;w3&=67108863;lo=Math.imul(al4,bl0);mid=Math.imul(al4,bh0);mid=mid+Math.imul(ah4,bl0)|0;hi=Math.imul(ah4,bh0);lo=lo+Math.imul(al3,bl1)|0;mid=mid+Math.imul(al3,bh1)|0;mid=mid+Math.imul(ah3,bl1)|0;hi=hi+Math.imul(ah3,bh1)|0;lo=lo+Math.imul(al2,bl2)|0;mid=mid+Math.imul(al2,bh2)|0;mid=mid+Math.imul(ah2,bl2)|0;hi=hi+Math.imul(ah2,bh2)|0;lo=lo+Math.imul(al1,bl3)|0;mid=mid+Math.imul(al1,bh3)|0;mid=mid+Math.imul(ah1,bl3)|0;hi=hi+Math.imul(ah1,bh3)|0;lo=lo+Math.imul(al0,bl4)|0;mid=mid+Math.imul(al0,bh4)|0;mid=mid+Math.imul(ah0,bl4)|0;hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0;w4&=67108863;lo=Math.imul(al5,bl0);mid=Math.imul(al5,bh0);mid=mid+Math.imul(ah5,bl0)|0;hi=Math.imul(ah5,bh0);lo=lo+Math.imul(al4,bl1)|0;mid=mid+Math.imul(al4,bh1)|0;mid=mid+Math.imul(ah4,bl1)|0;hi=hi+Math.imul(ah4,bh1)|0;lo=lo+Math.imul(al3,bl2)|0;mid=mid+Math.imul(al3,bh2)|0;mid=mid+Math.imul(ah3,bl2)|0;hi=hi+Math.imul(ah3,bh2)|0;lo=lo+Math.imul(al2,bl3)|0;mid=mid+Math.imul(al2,bh3)|0;mid=mid+Math.imul(ah2,bl3)|0;hi=hi+Math.imul(ah2,bh3)|0;lo=lo+Math.imul(al1,bl4)|0;mid=mid+Math.imul(al1,bh4)|0;mid=mid+Math.imul(ah1,bl4)|0;hi=hi+Math.imul(ah1,bh4)|0;lo=lo+Math.imul(al0,bl5)|0;mid=mid+Math.imul(al0,bh5)|0;mid=mid+Math.imul(ah0,bl5)|0;hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0;w5&=67108863;lo=Math.imul(al6,bl0);mid=Math.imul(al6,bh0);mid=mid+Math.imul(ah6,bl0)|0;hi=Math.imul(ah6,bh0);lo=lo+Math.imul(al5,bl1)|0;mid=mid+Math.imul(al5,bh1)|0;mid=mid+Math.imul(ah5,bl1)|0;hi=hi+Math.imul(ah5,bh1)|0;lo=lo+Math.imul(al4,bl2)|0;mid=mid+Math.imul(al4,bh2)|0;mid=mid+Math.imul(ah4,bl2)|0;hi=hi+Math.imul(ah4,bh2)|0;lo=lo+Math.imul(al3,bl3)|0;mid=mid+Math.imul(al3,bh3)|0;mid=mid+Math.imul(ah3,bl3)|0;hi=hi+Math.imul(ah3,bh3)|0;lo=lo+Math.imul(al2,bl4)|0;mid=mid+Math.imul(al2,bh4)|0;mid=mid+Math.imul(ah2,bl4)|0;hi=hi+Math.imul(ah2,bh4)|0;lo=lo+Math.imul(al1,bl5)|0;mid=mid+Math.imul(al1,bh5)|0;mid=mid+Math.imul(ah1,bl5)|0;hi=hi+Math.imul(ah1,bh5)|0;lo=lo+Math.imul(al0,bl6)|0;mid=mid+Math.imul(al0,bh6)|0;mid=mid+Math.imul(ah0,bl6)|0;hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0;w6&=67108863;lo=Math.imul(al7,bl0);mid=Math.imul(al7,bh0);mid=mid+Math.imul(ah7,bl0)|0;hi=Math.imul(ah7,bh0);lo=lo+Math.imul(al6,bl1)|0;mid=mid+Math.imul(al6,bh1)|0;mid=mid+Math.imul(ah6,bl1)|0;hi=hi+Math.imul(ah6,bh1)|0;lo=lo+Math.imul(al5,bl2)|0;mid=mid+Math.imul(al5,bh2)|0;mid=mid+Math.imul(ah5,bl2)|0;hi=hi+Math.imul(ah5,bh2)|0;lo=lo+Math.imul(al4,bl3)|0;mid=mid+Math.imul(al4,bh3)|0;mid=mid+Math.imul(ah4,bl3)|0;hi=hi+Math.imul(ah4,bh3)|0;lo=lo+Math.imul(al3,bl4)|0;mid=mid+Math.imul(al3,bh4)|0;mid=mid+Math.imul(ah3,bl4)|0;hi=hi+Math.imul(ah3,bh4)|0;lo=lo+Math.imul(al2,bl5)|0;mid=mid+Math.imul(al2,bh5)|0;mid=mid+Math.imul(ah2,bl5)|0;hi=hi+Math.imul(ah2,bh5)|0;lo=lo+Math.imul(al1,bl6)|0;mid=mid+Math.imul(al1,bh6)|0;mid=mid+Math.imul(ah1,bl6)|0;hi=hi+Math.imul(ah1,bh6)|0;lo=lo+Math.imul(al0,bl7)|0;mid=mid+Math.imul(al0,bh7)|0;mid=mid+Math.imul(ah0,bl7)|0;hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0;w7&=67108863;lo=Math.imul(al8,bl0);mid=Math.imul(al8,bh0);mid=mid+Math.imul(ah8,bl0)|0;hi=Math.imul(ah8,bh0);lo=lo+Math.imul(al7,bl1)|0;mid=mid+Math.imul(al7,bh1)|0;mid=mid+Math.imul(ah7,bl1)|0;hi=hi+Math.imul(ah7,bh1)|0;lo=lo+Math.imul(al6,bl2)|0;mid=mid+Math.imul(al6,bh2)|0;mid=mid+Math.imul(ah6,bl2)|0;hi=hi+Math.imul(ah6,bh2)|0;lo=lo+Math.imul(al5,bl3)|0;mid=mid+Math.imul(al5,bh3)|0;mid=mid+Math.imul(ah5,bl3)|0;hi=hi+Math.imul(ah5,bh3)|0;lo=lo+Math.imul(al4,bl4)|0;mid=mid+Math.imul(al4,bh4)|0;mid=mid+Math.imul(ah4,bl4)|0;hi=hi+Math.imul(ah4,bh4)|0;lo=lo+Math.imul(al3,bl5)|0;mid=mid+Math.imul(al3,bh5)|0;mid=mid+Math.imul(ah3,bl5)|0;hi=hi+Math.imul(ah3,bh5)|0;lo=lo+Math.imul(al2,bl6)|0;mid=mid+Math.imul(al2,bh6)|0;mid=mid+Math.imul(ah2,bl6)|0;hi=hi+Math.imul(ah2,bh6)|0;lo=lo+Math.imul(al1,bl7)|0;mid=mid+Math.imul(al1,bh7)|0;mid=mid+Math.imul(ah1,bl7)|0;hi=hi+Math.imul(ah1,bh7)|0;lo=lo+Math.imul(al0,bl8)|0;mid=mid+Math.imul(al0,bh8)|0;mid=mid+Math.imul(ah0,bl8)|0;hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0;w8&=67108863;lo=Math.imul(al9,bl0);mid=Math.imul(al9,bh0);mid=mid+Math.imul(ah9,bl0)|0;hi=Math.imul(ah9,bh0);lo=lo+Math.imul(al8,bl1)|0;mid=mid+Math.imul(al8,bh1)|0;mid=mid+Math.imul(ah8,bl1)|0;hi=hi+Math.imul(ah8,bh1)|0;lo=lo+Math.imul(al7,bl2)|0;mid=mid+Math.imul(al7,bh2)|0;mid=mid+Math.imul(ah7,bl2)|0;hi=hi+Math.imul(ah7,bh2)|0;lo=lo+Math.imul(al6,bl3)|0;mid=mid+Math.imul(al6,bh3)|0;mid=mid+Math.imul(ah6,bl3)|0;hi=hi+Math.imul(ah6,bh3)|0;lo=lo+Math.imul(al5,bl4)|0;mid=mid+Math.imul(al5,bh4)|0;mid=mid+Math.imul(ah5,bl4)|0;hi=hi+Math.imul(ah5,bh4)|0;lo=lo+Math.imul(al4,bl5)|0;mid=mid+Math.imul(al4,bh5)|0;mid=mid+Math.imul(ah4,bl5)|0;hi=hi+Math.imul(ah4,bh5)|0;lo=lo+Math.imul(al3,bl6)|0;mid=mid+Math.imul(al3,bh6)|0;mid=mid+Math.imul(ah3,bl6)|0;hi=hi+Math.imul(ah3,bh6)|0;lo=lo+Math.imul(al2,bl7)|0;mid=mid+Math.imul(al2,bh7)|0;mid=mid+Math.imul(ah2,bl7)|0;hi=hi+Math.imul(ah2,bh7)|0;lo=lo+Math.imul(al1,bl8)|0;mid=mid+Math.imul(al1,bh8)|0;mid=mid+Math.imul(ah1,bl8)|0;hi=hi+Math.imul(ah1,bh8)|0;lo=lo+Math.imul(al0,bl9)|0;mid=mid+Math.imul(al0,bh9)|0;mid=mid+Math.imul(ah0,bl9)|0;hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0;w9&=67108863;lo=Math.imul(al9,bl1);mid=Math.imul(al9,bh1);mid=mid+Math.imul(ah9,bl1)|0;hi=Math.imul(ah9,bh1);lo=lo+Math.imul(al8,bl2)|0;mid=mid+Math.imul(al8,bh2)|0;mid=mid+Math.imul(ah8,bl2)|0;hi=hi+Math.imul(ah8,bh2)|0;lo=lo+Math.imul(al7,bl3)|0;mid=mid+Math.imul(al7,bh3)|0;mid=mid+Math.imul(ah7,bl3)|0;hi=hi+Math.imul(ah7,bh3)|0;lo=lo+Math.imul(al6,bl4)|0;mid=mid+Math.imul(al6,bh4)|0;mid=mid+Math.imul(ah6,bl4)|0;hi=hi+Math.imul(ah6,bh4)|0;lo=lo+Math.imul(al5,bl5)|0;mid=mid+Math.imul(al5,bh5)|0;mid=mid+Math.imul(ah5,bl5)|0;hi=hi+Math.imul(ah5,bh5)|0;lo=lo+Math.imul(al4,bl6)|0;mid=mid+Math.imul(al4,bh6)|0;mid=mid+Math.imul(ah4,bl6)|0;hi=hi+Math.imul(ah4,bh6)|0;lo=lo+Math.imul(al3,bl7)|0;mid=mid+Math.imul(al3,bh7)|0;mid=mid+Math.imul(ah3,bl7)|0;hi=hi+Math.imul(ah3,bh7)|0;lo=lo+Math.imul(al2,bl8)|0;mid=mid+Math.imul(al2,bh8)|0;mid=mid+Math.imul(ah2,bl8)|0;hi=hi+Math.imul(ah2,bh8)|0;lo=lo+Math.imul(al1,bl9)|0;mid=mid+Math.imul(al1,bh9)|0;mid=mid+Math.imul(ah1,bl9)|0;hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0;w10&=67108863;lo=Math.imul(al9,bl2);mid=Math.imul(al9,bh2);mid=mid+Math.imul(ah9,bl2)|0;hi=Math.imul(ah9,bh2);lo=lo+Math.imul(al8,bl3)|0;mid=mid+Math.imul(al8,bh3)|0;mid=mid+Math.imul(ah8,bl3)|0;hi=hi+Math.imul(ah8,bh3)|0;lo=lo+Math.imul(al7,bl4)|0;mid=mid+Math.imul(al7,bh4)|0;mid=mid+Math.imul(ah7,bl4)|0;hi=hi+Math.imul(ah7,bh4)|0;lo=lo+Math.imul(al6,bl5)|0;mid=mid+Math.imul(al6,bh5)|0;mid=mid+Math.imul(ah6,bl5)|0;hi=hi+Math.imul(ah6,bh5)|0;lo=lo+Math.imul(al5,bl6)|0;mid=mid+Math.imul(al5,bh6)|0;mid=mid+Math.imul(ah5,bl6)|0;hi=hi+Math.imul(ah5,bh6)|0;lo=lo+Math.imul(al4,bl7)|0;mid=mid+Math.imul(al4,bh7)|0;mid=mid+Math.imul(ah4,bl7)|0;hi=hi+Math.imul(ah4,bh7)|0;lo=lo+Math.imul(al3,bl8)|0;mid=mid+Math.imul(al3,bh8)|0;mid=mid+Math.imul(ah3,bl8)|0;hi=hi+Math.imul(ah3,bh8)|0;lo=lo+Math.imul(al2,bl9)|0;mid=mid+Math.imul(al2,bh9)|0;mid=mid+Math.imul(ah2,bl9)|0;hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0;w11&=67108863;lo=Math.imul(al9,bl3);mid=Math.imul(al9,bh3);mid=mid+Math.imul(ah9,bl3)|0;hi=Math.imul(ah9,bh3);lo=lo+Math.imul(al8,bl4)|0;mid=mid+Math.imul(al8,bh4)|0;mid=mid+Math.imul(ah8,bl4)|0;hi=hi+Math.imul(ah8,bh4)|0;lo=lo+Math.imul(al7,bl5)|0;mid=mid+Math.imul(al7,bh5)|0;mid=mid+Math.imul(ah7,bl5)|0;hi=hi+Math.imul(ah7,bh5)|0;lo=lo+Math.imul(al6,bl6)|0;mid=mid+Math.imul(al6,bh6)|0;mid=mid+Math.imul(ah6,bl6)|0;hi=hi+Math.imul(ah6,bh6)|0;lo=lo+Math.imul(al5,bl7)|0;mid=mid+Math.imul(al5,bh7)|0;mid=mid+Math.imul(ah5,bl7)|0;hi=hi+Math.imul(ah5,bh7)|0;lo=lo+Math.imul(al4,bl8)|0;mid=mid+Math.imul(al4,bh8)|0;mid=mid+Math.imul(ah4,bl8)|0;hi=hi+Math.imul(ah4,bh8)|0;lo=lo+Math.imul(al3,bl9)|0;mid=mid+Math.imul(al3,bh9)|0;mid=mid+Math.imul(ah3,bl9)|0;hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0;w12&=67108863;lo=Math.imul(al9,bl4);mid=Math.imul(al9,bh4);mid=mid+Math.imul(ah9,bl4)|0;hi=Math.imul(ah9,bh4);lo=lo+Math.imul(al8,bl5)|0;mid=mid+Math.imul(al8,bh5)|0;mid=mid+Math.imul(ah8,bl5)|0;hi=hi+Math.imul(ah8,bh5)|0;lo=lo+Math.imul(al7,bl6)|0;mid=mid+Math.imul(al7,bh6)|0;mid=mid+Math.imul(ah7,bl6)|0;hi=hi+Math.imul(ah7,bh6)|0;lo=lo+Math.imul(al6,bl7)|0;mid=mid+Math.imul(al6,bh7)|0;mid=mid+Math.imul(ah6,bl7)|0;hi=hi+Math.imul(ah6,bh7)|0;lo=lo+Math.imul(al5,bl8)|0;mid=mid+Math.imul(al5,bh8)|0;mid=mid+Math.imul(ah5,bl8)|0;hi=hi+Math.imul(ah5,bh8)|0;lo=lo+Math.imul(al4,bl9)|0;mid=mid+Math.imul(al4,bh9)|0;mid=mid+Math.imul(ah4,bl9)|0;hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0;w13&=67108863;lo=Math.imul(al9,bl5);mid=Math.imul(al9,bh5);mid=mid+Math.imul(ah9,bl5)|0;hi=Math.imul(ah9,bh5);lo=lo+Math.imul(al8,bl6)|0;mid=mid+Math.imul(al8,bh6)|0;mid=mid+Math.imul(ah8,bl6)|0;hi=hi+Math.imul(ah8,bh6)|0;lo=lo+Math.imul(al7,bl7)|0;mid=mid+Math.imul(al7,bh7)|0;mid=mid+Math.imul(ah7,bl7)|0;hi=hi+Math.imul(ah7,bh7)|0;lo=lo+Math.imul(al6,bl8)|0;mid=mid+Math.imul(al6,bh8)|0;mid=mid+Math.imul(ah6,bl8)|0;hi=hi+Math.imul(ah6,bh8)|0;lo=lo+Math.imul(al5,bl9)|0;mid=mid+Math.imul(al5,bh9)|0;mid=mid+Math.imul(ah5,bl9)|0;hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0;w14&=67108863;lo=Math.imul(al9,bl6);mid=Math.imul(al9,bh6);mid=mid+Math.imul(ah9,bl6)|0;hi=Math.imul(ah9,bh6);lo=lo+Math.imul(al8,bl7)|0;mid=mid+Math.imul(al8,bh7)|0;mid=mid+Math.imul(ah8,bl7)|0;hi=hi+Math.imul(ah8,bh7)|0;lo=lo+Math.imul(al7,bl8)|0;mid=mid+Math.imul(al7,bh8)|0;mid=mid+Math.imul(ah7,bl8)|0;hi=hi+Math.imul(ah7,bh8)|0;lo=lo+Math.imul(al6,bl9)|0;mid=mid+Math.imul(al6,bh9)|0;mid=mid+Math.imul(ah6,bl9)|0;hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0;w15&=67108863;lo=Math.imul(al9,bl7);mid=Math.imul(al9,bh7);mid=mid+Math.imul(ah9,bl7)|0;hi=Math.imul(ah9,bh7);lo=lo+Math.imul(al8,bl8)|0;mid=mid+Math.imul(al8,bh8)|0;mid=mid+Math.imul(ah8,bl8)|0;hi=hi+Math.imul(ah8,bh8)|0;lo=lo+Math.imul(al7,bl9)|0;mid=mid+Math.imul(al7,bh9)|0;mid=mid+Math.imul(ah7,bl9)|0;hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0;w16&=67108863;lo=Math.imul(al9,bl8);mid=Math.imul(al9,bh8);mid=mid+Math.imul(ah9,bl8)|0;hi=Math.imul(ah9,bh8);lo=lo+Math.imul(al8,bl9)|0;mid=mid+Math.imul(al8,bh9)|0;mid=mid+Math.imul(ah8,bl9)|0;hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0;w17&=67108863;lo=Math.imul(al9,bl9);mid=Math.imul(al9,bh9);mid=mid+Math.imul(ah9,bl9)|0;hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((mid&8191)<<13)|0;c=(hi+(mid>>>13)|0)+(w18>>>26)|0;w18&=67108863;o[0]=w0;o[1]=w1;o[2]=w2;o[3]=w3;o[4]=w4;o[5]=w5;o[6]=w6;o[7]=w7;o[8]=w8;o[9]=w9;o[10]=w10;o[11]=w11;o[12]=w12;o[13]=w13;o[14]=w14;o[15]=w15;o[16]=w16;o[17]=w17;o[18]=w18;if(c!==0){o[19]=c;out.length++}return out};if(!Math.imul){comb10MulTo=smallMulTo}function bigMulTo(self,num,out){out.negative=num.negative^self.negative;out.length=self.length+num.length;var carry=0;var hncarry=0;for(var k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;var rword=carry&67108863;var maxJ=Math.min(k,num.length-1);for(var j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j;var a=self.words[i]|0;var b=num.words[j]|0;var r=a*b;var lo=r&67108863;ncarry=ncarry+(r/67108864|0)|0;lo=lo+rword|0;rword=lo&67108863;ncarry=ncarry+(lo>>>26)|0;hncarry+=ncarry>>>26;ncarry&=67108863}out.words[k]=rword;carry=ncarry;ncarry=hncarry}if(carry!==0){out.words[k]=carry}else{out.length--}return out.strip()}function jumboMulTo(self,num,out){var fftm=new FFTM;return fftm.mulp(self,num,out)}BN.prototype.mulTo=function mulTo(num,out){var res;var len=this.length+num.length;if(this.length===10&&num.length===10){res=comb10MulTo(this,num,out)}else if(len<63){res=smallMulTo(this,num,out)}else if(len<1024){res=bigMulTo(this,num,out)}else{res=jumboMulTo(this,num,out)}return res};function FFTM(x,y){this.x=x;this.y=y}FFTM.prototype.makeRBT=function makeRBT(N){var t=new Array(N);var l=BN.prototype._countBits(N)-1;for(var i=0;i<N;i++){t[i]=this.revBin(i,l,N)}return t};FFTM.prototype.revBin=function revBin(x,l,N){if(x===0||x===N-1)return x;var rb=0;for(var i=0;i<l;i++){rb|=(x&1)<<l-i-1;x>>=1}return rb};FFTM.prototype.permute=function permute(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++){rtws[i]=rws[rbt[i]];itws[i]=iws[rbt[i]]}};FFTM.prototype.transform=function transform(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1){var l=s<<1;var rtwdf=Math.cos(2*Math.PI/l);var itwdf=Math.sin(2*Math.PI/l);for(var p=0;p<N;p+=l){var rtwdf_=rtwdf;var itwdf_=itwdf;for(var j=0;j<s;j++){var re=rtws[p+j];var ie=itws[p+j];var ro=rtws[p+j+s];var io=itws[p+j+s];var rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro;ro=rx;rtws[p+j]=re+ro;itws[p+j]=ie+io;rtws[p+j+s]=re-ro;itws[p+j+s]=ie-io;if(j!==l){rx=rtwdf*rtwdf_-itwdf*itwdf_;itwdf_=rtwdf*itwdf_+itwdf*rtwdf_;rtwdf_=rx}}}}};FFTM.prototype.guessLen13b=function guessLen13b(n,m){var N=Math.max(m,n)|1;var odd=N&1;var i=0;for(N=N/2|0;N;N=N>>>1){i++}return 1<<i+1+odd};FFTM.prototype.conjugate=function conjugate(rws,iws,N){if(N<=1)return;for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1];rws[N-i-1]=t;t=iws[i];iws[i]=-iws[N-i-1];iws[N-i-1]=-t}};FFTM.prototype.normalize13b=function normalize13b(ws,N){var carry=0;for(var i=0;i<N/2;i++){var w=Math.round(ws[2*i+1]/N)*8192+Math.round(ws[2*i]/N)+carry;ws[i]=w&67108863;if(w<67108864){carry=0}else{carry=w/67108864|0}}return ws};FFTM.prototype.convert13b=function convert13b(ws,len,rws,N){var carry=0;for(var i=0;i<len;i++){carry=carry+(ws[i]|0);rws[2*i]=carry&8191;carry=carry>>>13;rws[2*i+1]=carry&8191;carry=carry>>>13}for(i=2*len;i<N;++i){rws[i]=0}assert(carry===0);assert((carry&~8191)===0)};FFTM.prototype.stub=function stub(N){var ph=new Array(N);for(var i=0;i<N;i++){ph[i]=0}return ph};FFTM.prototype.mulp=function mulp(x,y,out){var N=2*this.guessLen13b(x.length,y.length);var rbt=this.makeRBT(N);var _=this.stub(N);var rws=new Array(N);var rwst=new Array(N);var iwst=new Array(N);var nrws=new Array(N);var nrwst=new Array(N);var niwst=new Array(N);var rmws=out.words;rmws.length=N;this.convert13b(x.words,x.length,rws,N);this.convert13b(y.words,y.length,nrws,N);this.transform(rws,_,rwst,iwst,N,rbt);this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i];rwst[i]=rx}this.conjugate(rwst,iwst,N);this.transform(rwst,iwst,rmws,_,N,rbt);this.conjugate(rmws,_,N);this.normalize13b(rmws,N);out.negative=x.negative^y.negative;out.length=x.length+y.length;return out.strip()};BN.prototype.mul=function mul(num){var out=new BN(null);out.words=new Array(this.length+num.length);return this.mulTo(num,out)};BN.prototype.mulf=function mulf(num){var out=new BN(null);out.words=new Array(this.length+num.length);return jumboMulTo(this,num,out)};BN.prototype.imul=function imul(num){return this.clone().mulTo(num,this)};BN.prototype.imuln=function imuln(num){assert(typeof num==="number");assert(num<67108864);var carry=0;for(var i=0;i<this.length;i++){var w=(this.words[i]|0)*num;var lo=(w&67108863)+(carry&67108863);carry>>=26;carry+=w/67108864|0;carry+=lo>>>26;this.words[i]=lo&67108863}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.muln=function muln(num){return this.clone().imuln(num)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(num){var w=toBitArray(num);if(w.length===0)return new BN(1);var res=this;for(var i=0;i<w.length;i++,res=res.sqr()){if(w[i]!==0)break}if(++i<w.length){for(var q=res.sqr();i<w.length;i++,q=q.sqr()){if(w[i]===0)continue;res=res.mul(q)}}return res};BN.prototype.iushln=function iushln(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;var carryMask=67108863>>>26-r<<26-r;var i;if(r!==0){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask;var c=(this.words[i]|0)-newCarry<<r;this.words[i]=c|carry;carry=newCarry>>>26-r}if(carry){this.words[i]=carry;this.length++}}if(s!==0){for(i=this.length-1;i>=0;i--){this.words[i+s]=this.words[i]}for(i=0;i<s;i++){this.words[i]=0}this.length+=s}return this.strip()};BN.prototype.ishln=function ishln(bits){assert(this.negative===0);return this.iushln(bits)};BN.prototype.iushrn=function iushrn(bits,hint,extended){assert(typeof bits==="number"&&bits>=0);var h;if(hint){h=(hint-hint%26)/26}else{h=0}var r=bits%26;var s=Math.min((bits-r)/26,this.length);var mask=67108863^67108863>>>r<<r;var maskedWords=extended;h-=s;h=Math.max(0,h);if(maskedWords){for(var i=0;i<s;i++){maskedWords.words[i]=this.words[i]}maskedWords.length=s}if(s===0){}else if(this.length>s){this.length-=s;for(i=0;i<this.length;i++){this.words[i]=this.words[i+s]}}else{this.words[0]=0;this.length=1}var carry=0;for(i=this.length-1;i>=0&&(carry!==0||i>=h);i--){var word=this.words[i]|0;this.words[i]=carry<<26-r|word>>>r;carry=word&mask}if(maskedWords&&carry!==0){maskedWords.words[maskedWords.length++]=carry}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(bits,hint,extended){assert(this.negative===0);return this.iushrn(bits,hint,extended)};BN.prototype.shln=function shln(bits){return this.clone().ishln(bits)};BN.prototype.ushln=function ushln(bits){return this.clone().iushln(bits)};BN.prototype.shrn=function shrn(bits){return this.clone().ishrn(bits)};BN.prototype.ushrn=function ushrn(bits){return this.clone().iushrn(bits)};BN.prototype.testn=function testn(bit){assert(typeof bit==="number"&&bit>=0);var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s)return false;var w=this.words[s];return!!(w&q)};BN.prototype.imaskn=function imaskn(bits){assert(typeof bits==="number"&&bits>=0);var r=bits%26;var s=(bits-r)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=s){return this}if(r!==0){s++}this.length=Math.min(s,this.length);if(r!==0){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()};BN.prototype.maskn=function maskn(bits){return this.clone().imaskn(bits)};BN.prototype.iaddn=function iaddn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.isubn(-num);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<num){this.words[0]=num-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(num);this.negative=1;return this}return this._iaddn(num)};BN.prototype._iaddn=function _iaddn(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++){this.words[i]-=67108864;if(i===this.length-1){this.words[i+1]=1}else{this.words[i+1]++}}this.length=Math.max(this.length,i+1);return this};BN.prototype.isubn=function isubn(num){assert(typeof num==="number");assert(num<67108864);if(num<0)return this.iaddn(-num);if(this.negative!==0){this.negative=0;this.iaddn(num);this.negative=1;return this}this.words[0]-=num;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var i=0;i<this.length&&this.words[i]<0;i++){this.words[i]+=67108864;this.words[i+1]-=1}}return this.strip()};BN.prototype.addn=function addn(num){return this.clone().iaddn(num)};BN.prototype.subn=function subn(num){return this.clone().isubn(num)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(num,mul,shift){var len=num.length+shift;var i;this._expand(len);var w;var carry=0;for(i=0;i<num.length;i++){w=(this.words[i+shift]|0)+carry;var right=(num.words[i]|0)*mul;w-=right&67108863;carry=(w>>26)-(right/67108864|0);this.words[i+shift]=w&67108863}for(;i<this.length-shift;i++){w=(this.words[i+shift]|0)+carry;carry=w>>26;this.words[i+shift]=w&67108863}if(carry===0)return this.strip();assert(carry===-1);carry=0;for(i=0;i<this.length;i++){w=-(this.words[i]|0)+carry;carry=w>>26;this.words[i]=w&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(num,mode){var shift=this.length-num.length;var a=this.clone();var b=num;var bhi=b.words[b.length-1]|0;var bhiBits=this._countBits(bhi);shift=26-bhiBits;if(shift!==0){b=b.ushln(shift);a.iushln(shift);bhi=b.words[b.length-1]|0}var m=a.length-b.length;var q;if(mode!=="mod"){q=new BN(null);q.length=m+1;q.words=new Array(q.length);for(var i=0;i<q.length;i++){q.words[i]=0}}var diff=a.clone()._ishlnsubmul(b,1,m);if(diff.negative===0){a=diff;if(q){q.words[m]=1}}for(var j=m-1;j>=0;j--){var qj=(a.words[b.length+j]|0)*67108864+(a.words[b.length+j-1]|0);qj=Math.min(qj/bhi|0,67108863);a._ishlnsubmul(b,qj,j);while(a.negative!==0){qj--;a.negative=0;a._ishlnsubmul(b,1,j);if(!a.isZero()){a.negative^=1}}if(q){q.words[j]=qj}}if(q){q.strip()}a.strip();if(mode!=="div"&&shift!==0){a.iushrn(shift)}return{div:q||null,mod:a}};BN.prototype.divmod=function divmod(num,mode,positive){assert(!num.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var div,mod,res;if(this.negative!==0&&num.negative===0){res=this.neg().divmod(num,mode);if(mode!=="mod"){div=res.div.neg()}if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.iadd(num)}}return{div:div,mod:mod}}if(this.negative===0&&num.negative!==0){res=this.divmod(num.neg(),mode);if(mode!=="mod"){div=res.div.neg()}return{div:div,mod:res.mod}}if((this.negative&num.negative)!==0){res=this.neg().divmod(num.neg(),mode);if(mode!=="div"){mod=res.mod.neg();if(positive&&mod.negative!==0){mod.isub(num)}}return{div:res.div,mod:mod}}if(num.length>this.length||this.cmp(num)<0){return{div:new BN(0),mod:this}}if(num.length===1){if(mode==="div"){return{div:this.divn(num.words[0]),mod:null}}if(mode==="mod"){return{div:null,mod:new BN(this.modn(num.words[0]))}}return{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}}return this._wordDiv(num,mode)};BN.prototype.div=function div(num){return this.divmod(num,"div",false).div};BN.prototype.mod=function mod(num){return this.divmod(num,"mod",false).mod};BN.prototype.umod=function umod(num){return this.divmod(num,"mod",true).mod};BN.prototype.divRound=function divRound(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=dm.div.negative!==0?dm.mod.isub(num):dm.mod;var half=num.ushrn(1);var r2=num.andln(1);var cmp=mod.cmp(half);if(cmp<0||r2===1&&cmp===0)return dm.div;return dm.div.negative!==0?dm.div.isubn(1):dm.div.iaddn(1)};BN.prototype.modn=function modn(num){assert(num<=67108863);var p=(1<<26)%num;var acc=0;for(var i=this.length-1;i>=0;i--){acc=(p*acc+(this.words[i]|0))%num}return acc};BN.prototype.idivn=function idivn(num){assert(num<=67108863);var carry=0;for(var i=this.length-1;i>=0;i--){var w=(this.words[i]|0)+carry*67108864;this.words[i]=w/num|0;carry=w%num}return this.strip()};BN.prototype.divn=function divn(num){return this.clone().idivn(num)};BN.prototype.egcd=function egcd(p){assert(p.negative===0);assert(!p.isZero());var x=this;var y=p.clone();if(x.negative!==0){x=x.umod(p)}else{x=x.clone()}var A=new BN(1);var B=new BN(0);var C=new BN(0);var D=new BN(1);var g=0;while(x.isEven()&&y.isEven()){x.iushrn(1);y.iushrn(1);++g}var yp=y.clone();var xp=x.clone();while(!x.isZero()){for(var i=0,im=1;(x.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){x.iushrn(i);while(i-- >0){if(A.isOdd()||B.isOdd()){A.iadd(yp);B.isub(xp)}A.iushrn(1);B.iushrn(1)}}for(var j=0,jm=1;(y.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){y.iushrn(j);while(j-- >0){if(C.isOdd()||D.isOdd()){C.iadd(yp);D.isub(xp)}C.iushrn(1);D.iushrn(1)}}if(x.cmp(y)>=0){x.isub(y);A.isub(C);B.isub(D)}else{y.isub(x);C.isub(A);D.isub(B)}}return{a:C,b:D,gcd:y.iushln(g)}};BN.prototype._invmp=function _invmp(p){assert(p.negative===0);assert(!p.isZero());var a=this;var b=p.clone();if(a.negative!==0){a=a.umod(p)}else{a=a.clone()}var x1=new BN(1);var x2=new BN(0);var delta=b.clone();while(a.cmpn(1)>0&&b.cmpn(1)>0){for(var i=0,im=1;(a.words[0]&im)===0&&i<26;++i,im<<=1);if(i>0){a.iushrn(i);while(i-- >0){if(x1.isOdd()){x1.iadd(delta)}x1.iushrn(1)}}for(var j=0,jm=1;(b.words[0]&jm)===0&&j<26;++j,jm<<=1);if(j>0){b.iushrn(j);while(j-- >0){if(x2.isOdd()){x2.iadd(delta)}x2.iushrn(1)}}if(a.cmp(b)>=0){a.isub(b);x1.isub(x2)}else{b.isub(a);x2.isub(x1)}}var res;if(a.cmpn(1)===0){res=x1}else{res=x2}if(res.cmpn(0)<0){res.iadd(p)}return res};BN.prototype.gcd=function gcd(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone();var b=num.clone();a.negative=0;b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++){a.iushrn(1);b.iushrn(1)}do{while(a.isEven()){a.iushrn(1)}while(b.isEven()){b.iushrn(1)}var r=a.cmp(b);if(r<0){var t=a;a=b;b=t}else if(r===0||b.cmpn(1)===0){break}a.isub(b)}while(true);return b.iushln(shift)};BN.prototype.invm=function invm(num){return this.egcd(num).a.umod(num)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(num){return this.words[0]&num};BN.prototype.bincn=function bincn(bit){assert(typeof bit==="number");var r=bit%26;var s=(bit-r)/26;var q=1<<r;if(this.length<=s){this._expand(s+1);this.words[s]|=q;return this}var carry=q;for(var i=s;carry!==0&&i<this.length;i++){var w=this.words[i]|0;w+=carry;carry=w>>>26;w&=67108863;this.words[i]=w}if(carry!==0){this.words[i]=carry;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(num){var negative=num<0;if(this.negative!==0&&!negative)return-1;if(this.negative===0&&negative)return 1;this.strip();var res;if(this.length>1){res=1}else{if(negative){num=-num}assert(num<=67108863,"Number is too big");var w=this.words[0]|0;res=w===num?0:w<num?-1:1}if(this.negative!==0)return-res|0;return res};BN.prototype.cmp=function cmp(num){if(this.negative!==0&&num.negative===0)return-1;if(this.negative===0&&num.negative!==0)return 1;var res=this.ucmp(num);if(this.negative!==0)return-res|0;return res};BN.prototype.ucmp=function ucmp(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;var res=0;for(var i=this.length-1;i>=0;i--){var a=this.words[i]|0;var b=num.words[i]|0;if(a===b)continue;if(a<b){res=-1}else if(a>b){res=1}break}return res};BN.prototype.gtn=function gtn(num){return this.cmpn(num)===1};BN.prototype.gt=function gt(num){return this.cmp(num)===1};BN.prototype.gten=function gten(num){return this.cmpn(num)>=0};BN.prototype.gte=function gte(num){return this.cmp(num)>=0};BN.prototype.ltn=function ltn(num){return this.cmpn(num)===-1};BN.prototype.lt=function lt(num){return this.cmp(num)===-1};BN.prototype.lten=function lten(num){return this.cmpn(num)<=0};BN.prototype.lte=function lte(num){return this.cmp(num)<=0};BN.prototype.eqn=function eqn(num){return this.cmpn(num)===0};BN.prototype.eq=function eq(num){return this.cmp(num)===0};BN.red=function red(num){return new Red(num)};BN.prototype.toRed=function toRed(ctx){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return ctx.convertTo(this)._forceRed(ctx)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(ctx){this.red=ctx;return this};BN.prototype.forceRed=function forceRed(ctx){assert(!this.red,"Already a number in reduction context");return this._forceRed(ctx)};BN.prototype.redAdd=function redAdd(num){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,num)};BN.prototype.redIAdd=function redIAdd(num){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,num)};BN.prototype.redSub=function redSub(num){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,num)};BN.prototype.redISub=function redISub(num){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,num)};BN.prototype.redShl=function redShl(num){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,num)};BN.prototype.redMul=function redMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.mul(this,num)};BN.prototype.redIMul=function redIMul(num){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,num);return this.red.imul(this,num)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(num){assert(this.red&&!num.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name;this.p=new BN(p,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var tmp=new BN(null);tmp.words=new Array(Math.ceil(this.n/13));return tmp};MPrime.prototype.ireduce=function ireduce(num){var r=num;var rlen;do{this.split(r,this.tmp);r=this.imulK(r);r=r.iadd(this.tmp);rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);if(cmp===0){r.words[0]=0;r.length=1}else if(cmp>0){r.isub(this.p)}else{r.strip()}return r};MPrime.prototype.split=function split(input,out){input.iushrn(this.n,0,out)};MPrime.prototype.imulK=function imulK(num){return num.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(input,output){var mask=4194303;var outLen=Math.min(input.length,9);for(var i=0;i<outLen;i++){output.words[i]=input.words[i]}output.length=outLen;if(input.length<=9){input.words[0]=0;input.length=1;return}var prev=input.words[9];output.words[output.length++]=prev&mask;for(i=10;i<input.length;i++){var next=input.words[i]|0;input.words[i-10]=(next&mask)<<4|prev>>>22;prev=next}prev>>>=22;input.words[i-10]=prev;if(prev===0&&input.length>10){input.length-=10}else{input.length-=9}};K256.prototype.imulK=function imulK(num){num.words[num.length]=0;num.words[num.length+1]=0;num.length+=2;var lo=0;for(var i=0;i<num.length;i++){var w=num.words[i]|0;lo+=w*977;num.words[i]=lo&67108863;lo=w*64+(lo/67108864|0)}if(num.words[num.length-1]===0){num.length--;if(num.words[num.length-1]===0){num.length--}}return num};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(num){var carry=0;for(var i=0;i<num.length;i++){var hi=(num.words[i]|0)*19+carry;var lo=hi&67108863;hi>>>=26;num.words[i]=lo;carry=hi}if(carry!==0){num.words[num.length++]=carry}return num};BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if(name==="k256"){prime=new K256}else if(name==="p224"){prime=new P224}else if(name==="p192"){prime=new P192}else if(name==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+name)}primes[name]=prime;return prime};function Red(m){if(typeof m==="string"){var prime=BN._prime(m);this.m=prime.p;this.prime=prime}else{assert(m.gtn(1),"modulus must be greater than 1");this.m=m;this.prime=null}}Red.prototype._verify1=function _verify1(a){assert(a.negative===0,"red works only with positives");assert(a.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(a,b){assert((a.negative|b.negative)===0,"red works only with positives");assert(a.red&&a.red===b.red,"red works only with red numbers")};Red.prototype.imod=function imod(a){if(this.prime)return this.prime.ireduce(a)._forceRed(this);return a.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(a){if(a.isZero()){return a.clone()}return this.m.sub(a)._forceRed(this)};Red.prototype.add=function add(a,b){this._verify2(a,b);var res=a.add(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res._forceRed(this)};Red.prototype.iadd=function iadd(a,b){this._verify2(a,b);var res=a.iadd(b);if(res.cmp(this.m)>=0){res.isub(this.m)}return res};Red.prototype.sub=function sub(a,b){this._verify2(a,b);var res=a.sub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res._forceRed(this)};Red.prototype.isub=function isub(a,b){this._verify2(a,b);var res=a.isub(b);if(res.cmpn(0)<0){res.iadd(this.m)}return res};Red.prototype.shl=function shl(a,num){this._verify1(a);return this.imod(a.ushln(num))};Red.prototype.imul=function imul(a,b){this._verify2(a,b);return this.imod(a.imul(b))};Red.prototype.mul=function mul(a,b){this._verify2(a,b);return this.imod(a.mul(b))};Red.prototype.isqr=function isqr(a){return this.imul(a,a.clone())};Red.prototype.sqr=function sqr(a){return this.mul(a,a)};Red.prototype.sqrt=function sqrt(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);assert(mod3%2===1);if(mod3===3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}var q=this.m.subn(1);var s=0;while(!q.isZero()&&q.andln(1)===0){s++;q.iushrn(1)}assert(!q.isZero());var one=new BN(1).toRed(this);var nOne=one.redNeg();var lpow=this.m.subn(1).iushrn(1);var z=this.m.bitLength();z=new BN(2*z*z).toRed(this);while(this.pow(z,lpow).cmp(nOne)!==0){z.redIAdd(nOne)}var c=this.pow(z,q);var r=this.pow(a,q.addn(1).iushrn(1));var t=this.pow(a,q);var m=s;while(t.cmp(one)!==0){var tmp=t;for(var i=0;tmp.cmp(one)!==0;i++){tmp=tmp.redSqr()}assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b);c=b.redSqr();t=t.redMul(c);m=i}return r};Red.prototype.invm=function invm(a){var inv=a._invmp(this.m);if(inv.negative!==0){inv.negative=0;return this.imod(inv).redNeg()}else{return this.imod(inv)}};Red.prototype.pow=function pow(a,num){if(num.isZero())return new BN(1).toRed(this);if(num.cmpn(1)===0)return a.clone();var windowSize=4;var wnd=new Array(1<<windowSize);wnd[0]=new BN(1).toRed(this);wnd[1]=a;for(var i=2;i<wnd.length;i++){wnd[i]=this.mul(wnd[i-1],a)}var res=wnd[0];var current=0;var currentLen=0;var start=num.bitLength()%26;if(start===0){start=26}for(i=num.length-1;i>=0;i--){var word=num.words[i];for(var j=start-1;j>=0;j--){var bit=word>>j&1;if(res!==wnd[0]){res=this.sqr(res)}if(bit===0&&current===0){currentLen=0;continue}current<<=1;current|=bit;currentLen++;if(currentLen!==windowSize&&(i!==0||j!==0))continue;res=this.mul(res,wnd[current]);currentLen=0;current=0}start=26}return res};Red.prototype.convertTo=function convertTo(num){var r=num.umod(this.m);return r===num?r.clone():r};Red.prototype.convertFrom=function convertFrom(num){var res=num.clone();res.red=null;return res};BN.mont=function mont(num){return new Mont(num)};function Mont(m){Red.call(this,m);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(num){return this.imod(num.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(num){var r=this.imod(num.mul(this.rinv));r.red=null;return r};Mont.prototype.imul=function imul(a,b){if(a.isZero()||b.isZero()){a.words[0]=0;a.length=1;return a}var t=a.imul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.mul=function mul(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b);var c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var u=t.isub(c).iushrn(this.shift);var res=u;if(u.cmp(this.m)>=0){res=u.isub(this.m)}else if(u.cmpn(0)<0){res=u.iadd(this.m)}return res._forceRed(this)};Mont.prototype.invm=function invm(a){var res=this.imod(a._invmp(this.m).mul(this.r2));return res._forceRed(this)}})(typeof module==="undefined"||module,this)},{buffer:50}],49:[function(require,module,exports){var r;module.exports=function rand(len){if(!r)r=new Rand(null);return r.generate(len)};function Rand(rand){this.rand=rand}module.exports.Rand=Rand;Rand.prototype.generate=function generate(len){return this._rand(len)};Rand.prototype._rand=function _rand(n){if(this.rand.getBytes)return this.rand.getBytes(n);var res=new Uint8Array(n);for(var i=0;i<res.length;i++)res[i]=this.rand.getByte();return res};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.crypto.getRandomValues(arr);return arr}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(n){var arr=new Uint8Array(n);self.msCrypto.getRandomValues(arr);return arr}}else if(typeof window==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var crypto=require("crypto");if(typeof crypto.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function _rand(n){return crypto.randomBytes(n)}}catch(e){}}},{crypto:50}],50:[function(require,module,exports){},{}],51:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function asUInt32Array(buf){if(!Buffer.isBuffer(buf))buf=Buffer.from(buf);var len=buf.length/4|0;var out=new Array(len);for(var i=0;i<len;i++){out[i]=buf.readUInt32BE(i*4)}return out}function scrubVec(v){for(var i=0;i<v.length;v++){v[i]=0}}function cryptBlock(M,keySchedule,SUB_MIX,SBOX,nRounds){var SUB_MIX0=SUB_MIX[0];var SUB_MIX1=SUB_MIX[1];var SUB_MIX2=SUB_MIX[2];var SUB_MIX3=SUB_MIX[3];var s0=M[0]^keySchedule[0];var s1=M[1]^keySchedule[1];var s2=M[2]^keySchedule[2];var s3=M[3]^keySchedule[3];var t0,t1,t2,t3;var ksRow=4;for(var round=1;round<nRounds;round++){t0=SUB_MIX0[s0>>>24]^SUB_MIX1[s1>>>16&255]^SUB_MIX2[s2>>>8&255]^SUB_MIX3[s3&255]^keySchedule[ksRow++];t1=SUB_MIX0[s1>>>24]^SUB_MIX1[s2>>>16&255]^SUB_MIX2[s3>>>8&255]^SUB_MIX3[s0&255]^keySchedule[ksRow++];t2=SUB_MIX0[s2>>>24]^SUB_MIX1[s3>>>16&255]^SUB_MIX2[s0>>>8&255]^SUB_MIX3[s1&255]^keySchedule[ksRow++];t3=SUB_MIX0[s3>>>24]^SUB_MIX1[s0>>>16&255]^SUB_MIX2[s1>>>8&255]^SUB_MIX3[s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[s1&255])^keySchedule[ksRow++];t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];t0=t0>>>0;t1=t1>>>0;t2=t2>>>0;t3=t3>>>0;return[t0,t1,t2,t3]}var RCON=[0,1,2,4,8,16,32,64,128,27,54];var G=function(){var d=new Array(256);for(var j=0;j<256;j++){if(j<128){d[j]=j<<1}else{d[j]=j<<1^283}}var SBOX=[];var INV_SBOX=[];var SUB_MIX=[[],[],[],[]];var INV_SUB_MIX=[[],[],[],[]];var x=0;var xi=0;for(var i=0;i<256;++i){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;SBOX[x]=sx;INV_SBOX[sx]=x;var x2=d[x];var x4=d[x2];var x8=d[x4];var t=d[sx]*257^sx*16843008;SUB_MIX[0][x]=t<<24|t>>>8;SUB_MIX[1][x]=t<<16|t>>>16;SUB_MIX[2][x]=t<<8|t>>>24;SUB_MIX[3][x]=t;t=x8*16843009^x4*65537^x2*257^x*16843008;INV_SUB_MIX[0][sx]=t<<24|t>>>8;INV_SUB_MIX[1][sx]=t<<16|t>>>16;INV_SUB_MIX[2][sx]=t<<8|t>>>24;INV_SUB_MIX[3][sx]=t;if(x===0){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}return{SBOX:SBOX,INV_SBOX:INV_SBOX,SUB_MIX:SUB_MIX,INV_SUB_MIX:INV_SUB_MIX}}();function AES(key){this._key=asUInt32Array(key);this._reset()}AES.blockSize=4*4;AES.keySize=256/8;AES.prototype.blockSize=AES.blockSize;AES.prototype.keySize=AES.keySize;AES.prototype._reset=function(){var keyWords=this._key;var keySize=keyWords.length;var nRounds=keySize+6;var ksRows=(nRounds+1)*4;var keySchedule=[];for(var k=0;k<keySize;k++){keySchedule[k]=keyWords[k]}for(k=keySize;k<ksRows;k++){var t=keySchedule[k-1];if(k%keySize===0){t=t<<8|t>>>24;t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255];t^=RCON[k/keySize|0]<<24}else if(keySize>6&&k%keySize===4){t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[t&255]}keySchedule[k]=keySchedule[k-keySize]^t}var invKeySchedule=[];for(var ik=0;ik<ksRows;ik++){var ksR=ksRows-ik;var tt=keySchedule[ksR-(ik%4?0:4)];if(ik<4||ksR<=4){invKeySchedule[ik]=tt}else{invKeySchedule[ik]=G.INV_SUB_MIX[0][G.SBOX[tt>>>24]]^G.INV_SUB_MIX[1][G.SBOX[tt>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[tt>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[tt&255]]}}this._nRounds=nRounds;this._keySchedule=keySchedule;this._invKeySchedule=invKeySchedule};AES.prototype.encryptBlockRaw=function(M){M=asUInt32Array(M);return cryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)};AES.prototype.encryptBlock=function(M){var out=this.encryptBlockRaw(M);var buf=Buffer.allocUnsafe(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[1],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[3],12);return buf};AES.prototype.decryptBlock=function(M){M=asUInt32Array(M);var m1=M[1];M[1]=M[3];M[3]=m1;var out=cryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds);var buf=Buffer.allocUnsafe(16);buf.writeUInt32BE(out[0],0);buf.writeUInt32BE(out[3],4);buf.writeUInt32BE(out[2],8);buf.writeUInt32BE(out[1],12);return buf};AES.prototype.scrub=function(){scrubVec(this._keySchedule);scrubVec(this._invKeySchedule);scrubVec(this._key)};module.exports.AES=AES},{"safe-buffer":229}],52:[function(require,module,exports){var aes=require("./aes");var Buffer=require("safe-buffer").Buffer;var Transform=require("cipher-base");var inherits=require("inherits");var GHASH=require("./ghash");var xor=require("buffer-xor");var incr32=require("./incr32");function xorTest(a,b){var out=0;if(a.length!==b.length)out++;var len=Math.min(a.length,b.length);for(var i=0;i<len;++i){out+=a[i]^b[i]}return out}function calcIv(self,iv,ck){if(iv.length===12){self._finID=Buffer.concat([iv,Buffer.from([0,0,0,1])]);return Buffer.concat([iv,Buffer.from([0,0,0,2])])}var ghash=new GHASH(ck);var len=iv.length;var toPad=len%16;ghash.update(iv);if(toPad){toPad=16-toPad;ghash.update(Buffer.alloc(toPad,0))}ghash.update(Buffer.alloc(8,0));var ivBits=len*8;var tail=Buffer.alloc(8);tail.writeUIntBE(ivBits,0,8);ghash.update(tail);self._finID=ghash.state;var out=Buffer.from(self._finID);incr32(out);return out}function StreamCipher(mode,key,iv,decrypt){Transform.call(this);var h=Buffer.alloc(4,0);this._cipher=new aes.AES(key);var ck=this._cipher.encryptBlock(h);this._ghash=new GHASH(ck);iv=calcIv(this,iv,ck);this._prev=Buffer.from(iv);this._cache=Buffer.allocUnsafe(0);this._secCache=Buffer.allocUnsafe(0);this._decrypt=decrypt;this._alen=0;this._len=0;this._mode=mode;this._authTag=null;this._called=false}inherits(StreamCipher,Transform);StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;if(rump<16){rump=Buffer.alloc(rump,0);this._ghash.update(rump)}}this._called=true;var out=this._mode.encrypt(this,chunk);if(this._decrypt){this._ghash.update(chunk)}else{this._ghash.update(out)}this._len+=chunk.length;return out};StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=tag;this._cipher.scrub()};StreamCipher.prototype.getAuthTag=function getAuthTag(){if(this._decrypt||!Buffer.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};StreamCipher.prototype.setAuthTag=function setAuthTag(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag};StreamCipher.prototype.setAAD=function setAAD(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf);this._alen+=buf.length};module.exports=StreamCipher},{"./aes":51,"./ghash":56,"./incr32":57,"buffer-xor":79,"cipher-base":81,inherits:137,"safe-buffer":229}],53:[function(require,module,exports){var ciphers=require("./encrypter");var deciphers=require("./decrypter");var modes=require("./modes/list.json");function getCiphers(){return Object.keys(modes)}exports.createCipher=exports.Cipher=ciphers.createCipher;exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;exports.createDecipher=exports.Decipher=deciphers.createDecipher;exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":54,"./encrypter":55,"./modes/list.json":65}],54:[function(require,module,exports){var AuthCipher=require("./authCipher");var Buffer=require("safe-buffer").Buffer;var MODES=require("./modes");var StreamCipher=require("./streamCipher");var Transform=require("cipher-base");var aes=require("./aes");var ebtk=require("evp_bytestokey");var inherits=require("inherits");function Decipher(mode,key,iv){Transform.call(this);this._cache=new Splitter;this._last=void 0;this._cipher=new aes.AES(key);this._prev=Buffer.from(iv);this._mode=mode;this._autopadding=true}inherits(Decipher,Transform);Decipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get(this._autopadding)){thing=this._mode.decrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){return unpad(this._mode.decrypt(this,chunk))}else if(chunk){throw new Error("data not multiple of block length")}};Decipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){this.cache=Buffer.allocUnsafe(0)}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}else{if(this.cache.length>=16){out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}}return null};Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(last){var padded=last[15];if(padded<1||padded>16){throw new Error("unable to decrypt data")}var i=-1;while(++i<padded){if(last[i+(16-padded)]!==padded){throw new Error("unable to decrypt data")}}if(padded===16)return;return last.slice(0,16-padded)}function createDecipheriv(suite,password,iv){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if(typeof iv==="string")iv=Buffer.from(iv);if(config.mode!=="GCM"&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);if(typeof password==="string")password=Buffer.from(password);if(password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(config.type==="stream"){return new StreamCipher(config.module,password,iv,true)}else if(config.type==="auth"){return new AuthCipher(config.module,password,iv,true)}return new Decipher(config.module,password,iv)}function createDecipher(suite,password){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,false,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}exports.createDecipher=createDecipher;exports.createDecipheriv=createDecipheriv},{"./aes":51,"./authCipher":52,"./modes":64,"./streamCipher":67,"cipher-base":81,evp_bytestokey:121,inherits:137,"safe-buffer":229}],55:[function(require,module,exports){var MODES=require("./modes");var AuthCipher=require("./authCipher");var Buffer=require("safe-buffer").Buffer;var StreamCipher=require("./streamCipher");var Transform=require("cipher-base");var aes=require("./aes");var ebtk=require("evp_bytestokey");var inherits=require("inherits");function Cipher(mode,key,iv){Transform.call(this);this._cache=new Splitter;this._cipher=new aes.AES(key);this._prev=Buffer.from(iv);this._mode=mode;this._autopadding=true}inherits(Cipher,Transform);Cipher.prototype._update=function(data){this._cache.add(data);var chunk;var thing;var out=[];while(chunk=this._cache.get()){thing=this._mode.encrypt(this,chunk);out.push(thing)}return Buffer.concat(out)};var PADDING=Buffer.alloc(16,16);Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding){chunk=this._mode.encrypt(this,chunk);this._cipher.scrub();return chunk}if(!chunk.equals(PADDING)){this._cipher.scrub();throw new Error("data not multiple of block length")}};Cipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo;return this};function Splitter(){this.cache=Buffer.allocUnsafe(0)}Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])};Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);this.cache=this.cache.slice(16);return out}return null};Splitter.prototype.flush=function(){var len=16-this.cache.length;var padBuff=Buffer.allocUnsafe(len);var i=-1;while(++i<len){padBuff.writeUInt8(len,i)}return Buffer.concat([this.cache,padBuff])};function createCipheriv(suite,password,iv){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if(typeof password==="string")password=Buffer.from(password);if(password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(typeof iv==="string")iv=Buffer.from(iv);if(config.mode!=="GCM"&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);if(config.type==="stream"){return new StreamCipher(config.module,password,iv)}else if(config.type==="auth"){return new AuthCipher(config.module,password,iv)}return new Cipher(config.module,password,iv)}function createCipher(suite,password){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,false,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}exports.createCipheriv=createCipheriv;exports.createCipher=createCipher},{"./aes":51,"./authCipher":52,"./modes":64,"./streamCipher":67,"cipher-base":81,evp_bytestokey:121,inherits:137,"safe-buffer":229}],56:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;var ZEROES=Buffer.alloc(16,0);function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){var buf=Buffer.allocUnsafe(16);buf.writeUInt32BE(out[0]>>>0,0);buf.writeUInt32BE(out[1]>>>0,4);buf.writeUInt32BE(out[2]>>>0,8);buf.writeUInt32BE(out[3]>>>0,12);return buf}function GHASH(key){this.h=key;this.state=Buffer.alloc(16,0);this.cache=Buffer.allocUnsafe(0)}GHASH.prototype.ghash=function(block){var i=-1;while(++i<block.length){this.state[i]^=block[i]}this._multiply()};GHASH.prototype._multiply=function(){var Vi=toArray(this.h);var Zi=[0,0,0,0];var j,xi,lsbVi;var i=-1;while(++i<128){xi=(this.state[~~(i/8)]&1<<7-i%8)!==0;if(xi){Zi[0]^=Vi[0];Zi[1]^=Vi[1];Zi[2]^=Vi[2];Zi[3]^=Vi[3]}lsbVi=(Vi[3]&1)!==0;for(j=3;j>0;j--){Vi[j]=Vi[j]>>>1|(Vi[j-1]&1)<<31}Vi[0]=Vi[0]>>>1;if(lsbVi){Vi[0]=Vi[0]^225<<24}}this.state=fromArray(Zi)};GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);var chunk;while(this.cache.length>=16){chunk=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(chunk)}};GHASH.prototype.final=function(abl,bl){if(this.cache.length){this.ghash(Buffer.concat([this.cache,ZEROES],16))}this.ghash(fromArray([0,abl,0,bl]));return this.state};module.exports=GHASH},{"safe-buffer":229}],57:[function(require,module,exports){function incr32(iv){var len=iv.length;var item;while(len--){item=iv.readUInt8(len);if(item===255){iv.writeUInt8(0,len)}else{item++;iv.writeUInt8(item,len);break}}}module.exports=incr32},{}],58:[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);self._prev=self._cipher.encryptBlock(data);return self._prev};exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":79}],59:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;var xor=require("buffer-xor");function encryptStart(self,data,decrypt){var len=data.length;var out=xor(data,self._cache);self._cache=self._cache.slice(len);self._prev=Buffer.concat([self._prev,decrypt?data:out]);return out}exports.encrypt=function(self,data,decrypt){var out=Buffer.allocUnsafe(0);var len;while(data.length){if(self._cache.length===0){self._cache=self._cipher.encryptBlock(self._prev);self._prev=Buffer.allocUnsafe(0)}if(self._cache.length<=data.length){len=self._cache.length;out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]);data=data.slice(len)}else{out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}}return out}},{"buffer-xor":79,"safe-buffer":229}],60:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function encryptByte(self,byteParam,decrypt){var pad;var i=-1;var len=8;var out=0;var bit,value;while(++i<len){pad=self._cipher.encryptBlock(self._prev);bit=byteParam&1<<7-i?128:0;value=pad[0]^bit;out+=(value&128)>>i%8;self._prev=shiftIn(self._prev,decrypt?bit:value)}return out}function shiftIn(buffer,value){var len=buffer.length;var i=-1;var out=Buffer.allocUnsafe(buffer.length);buffer=Buffer.concat([buffer,Buffer.from([value])]);while(++i<len){out[i]=buffer[i]<<1|buffer[i+1]>>7}return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=Buffer.allocUnsafe(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out}},{"safe-buffer":229}],61:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev);var out=pad[0]^byteParam;self._prev=Buffer.concat([self._prev.slice(1),Buffer.from([decrypt?byteParam:out])]);return out}exports.encrypt=function(self,chunk,decrypt){var len=chunk.length;var out=Buffer.allocUnsafe(len);var i=-1;while(++i<len){out[i]=encryptByte(self,chunk[i],decrypt)}return out}},{"safe-buffer":229}],62:[function(require,module,exports){var xor=require("buffer-xor");var Buffer=require("safe-buffer").Buffer;var incr32=require("../incr32");function getBlock(self){var out=self._cipher.encryptBlockRaw(self._prev);incr32(self._prev);return out}var blockSize=16;exports.encrypt=function(self,chunk){var chunkNum=Math.ceil(chunk.length/blockSize);var start=self._cache.length;self._cache=Buffer.concat([self._cache,Buffer.allocUnsafe(chunkNum*blockSize)]);for(var i=0;i<chunkNum;i++){var out=getBlock(self);var offset=start+i*blockSize;self._cache.writeUInt32BE(out[0],offset+0);self._cache.writeUInt32BE(out[1],offset+4);self._cache.writeUInt32BE(out[2],offset+8);self._cache.writeUInt32BE(out[3],offset+12)}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}},{"../incr32":57,"buffer-xor":79,"safe-buffer":229}],63:[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)};exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],64:[function(require,module,exports){var modeModules={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")};var modes=require("./list.json");for(var key in modes){modes[key].module=modeModules[modes[key].mode]}module.exports=modes},{"./cbc":58,"./cfb":59,"./cfb1":60,"./cfb8":61,"./ctr":62,"./ecb":63,"./list.json":65,"./ofb":66}],65:[function(require,module,exports){module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],66:[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function getBlock(self){self._prev=self._cipher.encryptBlock(self._prev);return self._prev}exports.encrypt=function(self,chunk){while(self._cache.length<chunk.length){self._cache=Buffer.concat([self._cache,getBlock(self)])}var pad=self._cache.slice(0,chunk.length);self._cache=self._cache.slice(chunk.length);return xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:80,"buffer-xor":79}],67:[function(require,module,exports){var aes=require("./aes");var Buffer=require("safe-buffer").Buffer;var Transform=require("cipher-base");var inherits=require("inherits");function StreamCipher(mode,key,iv,decrypt){Transform.call(this);this._cipher=new aes.AES(key);this._prev=Buffer.from(iv);this._cache=Buffer.allocUnsafe(0);this._secCache=Buffer.allocUnsafe(0);this._decrypt=decrypt;this._mode=mode}inherits(StreamCipher,Transform);StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)};StreamCipher.prototype._final=function(){this._cipher.scrub()};module.exports=StreamCipher},{"./aes":51,"cipher-base":81,inherits:137,"safe-buffer":229}],68:[function(require,module,exports){var DES=require("browserify-des");var aes=require("browserify-aes/browser");var aesModes=require("browserify-aes/modes");var desModes=require("browserify-des/modes");var ebtk=require("evp_bytestokey");function createCipher(suite,password){suite=suite.toLowerCase();var keyLen,ivLen;if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){suite=suite.toLowerCase();var keyLen,ivLen;if(aesModes[suite]){keyLen=aesModes[suite].key;ivLen=aesModes[suite].iv}else if(desModes[suite]){keyLen=desModes[suite].key*8;ivLen=desModes[suite].iv}else{throw new TypeError("invalid suite type")}var keys=ebtk(password,false,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){suite=suite.toLowerCase();if(aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:true});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}exports.createCipher=exports.Cipher=createCipher;exports.createCipheriv=exports.Cipheriv=createCipheriv;exports.createDecipher=exports.Decipher=createDecipher;exports.createDecipheriv=exports.Decipheriv=createDecipheriv;exports.listCiphers=exports.getCiphers=getCiphers},{"browserify-aes/browser":53,"browserify-aes/modes":64,"browserify-des":69,"browserify-des/modes":70,evp_bytestokey:121}],69:[function(require,module,exports){var CipherBase=require("cipher-base");var des=require("des.js");var inherits=require("inherits");var Buffer=require("safe-buffer").Buffer;var modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"];modes.des3=modes["des-ede3-cbc"];module.exports=DES;inherits(DES,CipherBase);function DES(opts){CipherBase.call(this);var modeName=opts.mode.toLowerCase();var mode=modes[modeName];var type;if(opts.decrypt){type="decrypt"}else{type="encrypt"}var key=opts.key;if(!Buffer.isBuffer(key)){key=Buffer.from(key)}if(modeName==="des-ede"||modeName==="des-ede-cbc"){key=Buffer.concat([key,key.slice(0,8)])}var iv=opts.iv;if(!Buffer.isBuffer(iv)){iv=Buffer.from(iv)}this._des=mode.create({key:key,iv:iv,type:type})}DES.prototype._update=function(data){return Buffer.from(this._des.update(data))};DES.prototype._final=function(){return Buffer.from(this._des.final())}},{"cipher-base":81,"des.js":90,inherits:137,"safe-buffer":229}],70:[function(require,module,exports){exports["des-ecb"]={key:8,iv:0};exports["des-cbc"]=exports.des={key:8,iv:8};exports["des-ede3-cbc"]=exports.des3={key:24,iv:8};exports["des-ede3"]={key:24,iv:0};exports["des-ede-cbc"]={key:16,iv:8};exports["des-ede"]={key:16,iv:0}},{}],71:[function(require,module,exports){(function(Buffer){var bn=require("bn.js");var randomBytes=require("randombytes");module.exports=crt;function blind(priv){var r=getr(priv);var blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv);var len=priv.modulus.byteLength();var mod=bn.mont(priv.modulus);var blinded=new bn(msg).mul(blinds.blinder).umod(priv.modulus);var c1=blinded.toRed(bn.mont(priv.prime1));var c2=blinded.toRed(bn.mont(priv.prime2));var qinv=priv.coefficient;var p=priv.prime1;var q=priv.prime2;var m1=c1.redPow(priv.exponent1);var m2=c2.redPow(priv.exponent2);m1=m1.fromRed();m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);h.imul(q);m2.iadd(h);return new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(false,len))}crt.getr=getr;function getr(priv){var len=priv.modulus.byteLength();var r=new bn(randomBytes(len));while(r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2)){r=new bn(randomBytes(len))}return r}}).call(this,require("buffer").Buffer)},{"bn.js":48,buffer:80,randombytes:212}],72:[function(require,module,exports){module.exports=require("./browser/algorithms.json")},{"./browser/algorithms.json":73}],73:[function(require,module,exports){module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],74:[function(require,module,exports){module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],75:[function(require,module,exports){(function(Buffer){var createHash=require("create-hash");var stream=require("stream");var inherits=require("inherits");var sign=require("./sign");var verify=require("./verify");var algorithms=require("./algorithms.json");Object.keys(algorithms).forEach((function(key){algorithms[key].id=new Buffer(algorithms[key].id,"hex");algorithms[key.toLowerCase()]=algorithms[key]}));function Sign(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash;this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Sign,stream.Writable);Sign.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Sign.prototype.update=function update(data,enc){if(typeof data==="string")data=new Buffer(data,enc);this._hash.update(data);return this};Sign.prototype.sign=function signMethod(key,enc){this.end();var hash=this._hash.digest();var sig=sign(hash,key,this._hashType,this._signType,this._tag);return enc?sig.toString(enc):sig};function Verify(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash);this._tag=data.id;this._signType=data.sign}inherits(Verify,stream.Writable);Verify.prototype._write=function _write(data,_,done){this._hash.update(data);done()};Verify.prototype.update=function update(data,enc){if(typeof data==="string")data=new Buffer(data,enc);this._hash.update(data);return this};Verify.prototype.verify=function verifyMethod(key,sig,enc){if(typeof sig==="string")sig=new Buffer(sig,enc);this.end();var hash=this._hash.digest();return verify(sig,hash,key,this._signType,this._tag)};function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algorithms.json":73,"./sign":76,"./verify":77,buffer:80,"create-hash":84,inherits:137,stream:238}],76:[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac");var crt=require("browserify-rsa");var EC=require("elliptic").ec;var BN=require("bn.js");var parseKeys=require("parse-asn1");var curves=require("./curves.json");function sign(hash,key,hashType,signType,tag){var priv=parseKeys(key);if(priv.curve){if(signType!=="ecdsa"&&signType!=="ecdsa/rsa")throw new Error("wrong private key type");return ecSign(hash,priv)}else if(priv.type==="dsa"){if(signType!=="dsa")throw new Error("wrong private key type");return dsaSign(hash,priv,hashType)}else{if(signType!=="rsa"&&signType!=="ecdsa/rsa")throw new Error("wrong private key type")}hash=Buffer.concat([tag,hash]);var len=priv.modulus.byteLength();var pad=[0,1];while(hash.length+pad.length+1<len)pad.push(255);pad.push(0);var i=-1;while(++i<hash.length)pad.push(hash[i]);var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId);var key=curve.keyFromPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){var x=priv.params.priv_key;var p=priv.params.p;var q=priv.params.q;var g=priv.params.g;var r=new BN(0);var k;var H=bits2int(hash,q).mod(q);var s=false;var kv=getKey(x,q,hash,algo);while(s===false){k=makeKey(q,kv,algo);r=makeR(g,k,p,q);s=k.invm(q).imul(H.add(x.mul(r))).mod(q);if(s.cmpn(0)===0){s=false;r=new BN(0)}}return toDER(r,s)}function toDER(r,s){r=r.toArray();s=s.toArray();if(r[0]&128)r=[0].concat(r);if(s[0]&128)s=[0].concat(s);var total=r.length+s.length+4;var res=[48,total,2,r.length];res=res.concat(r,[2,s.length],s);return new Buffer(res)}function getKey(x,q,hash,algo){x=new Buffer(x.toArray());if(x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0);x=Buffer.concat([zeros,x])}var hlen=hash.length;var hbits=bits2octets(hash,q);var v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);k.fill(0);k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest();v=createHmac(algo,k).update(v).digest();return{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits);var shift=(obits.length<<3)-q.bitLength();if(shift>0)bits.ishrn(shift);return bits}function bits2octets(bits,q){bits=bits2int(bits,q);bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0);out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t;var k;do{t=new Buffer(0);while(t.length*8<q.bitLength()){kv.v=createHmac(algo,kv.k).update(kv.v).digest();t=Buffer.concat([t,kv.v])}k=bits2int(t,q);kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest();kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(k.cmp(q)!==-1);return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}module.exports=sign;module.exports.getKey=getKey;module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves.json":74,"bn.js":48,"browserify-rsa":71,buffer:80,"create-hmac":86,elliptic:103,"parse-asn1":197}],77:[function(require,module,exports){(function(Buffer){var BN=require("bn.js");var EC=require("elliptic").ec;var parseKeys=require("parse-asn1");var curves=require("./curves.json");function verify(sig,hash,key,signType,tag){var pub=parseKeys(key);if(pub.type==="ec"){if(signType!=="ecdsa"&&signType!=="ecdsa/rsa")throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}else if(pub.type==="dsa"){if(signType!=="dsa")throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}else{if(signType!=="rsa"&&signType!=="ecdsa/rsa")throw new Error("wrong public key type")}hash=Buffer.concat([tag,hash]);var len=pub.modulus.byteLength();var pad=[1];var padNum=0;while(hash.length+pad.length+2<len){pad.push(255);padNum++}pad.push(0);var i=-1;while(++i<hash.length){pad.push(hash[i])}pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red);sig=sig.redPow(new BN(pub.publicExponent));sig=new Buffer(sig.fromRed().toArray());var out=padNum<8?1:0;len=Math.min(sig.length,pad.length);if(sig.length!==pad.length)out=1;i=-1;while(++i<len)out|=sig[i]^pad[i];return out===0}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId);var pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p;var q=pub.data.q;var g=pub.data.g;var y=pub.data.pub_key;var unpacked=parseKeys.signature.decode(sig,"der");var s=unpacked.s;var r=unpacked.r;checkValue(s,q);checkValue(r,q);var montp=BN.mont(p);var w=s.invm(q);var v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return v.cmp(r)===0}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves.json":74,"bn.js":48,buffer:80,elliptic:103,"parse-asn1":197}],78:[function(require,module,exports){arguments[4][50][0].apply(exports,arguments)},{dup:50}],79:[function(require,module,exports){(function(Buffer){module.exports=function xor(a,b){var length=Math.min(a.length,b.length);var buffer=new Buffer(length);for(var i=0;i<length;++i){buffer[i]=a[i]^b[i]}return buffer}}).call(this,require("buffer").Buffer)},{buffer:80}],80:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var customInspectSymbol=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);var proto={foo:function(){return 42}};Object.setPrototypeOf(proto,Uint8Array.prototype);Object.setPrototypeOf(arr,proto);return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);Object.setPrototypeOf(buf,Buffer.prototype);return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}Object.setPrototypeOf(buf,Buffer.prototype);return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};if(customInspectSymbol){Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=hexSliceLookupTable[buf[i]]}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);Object.setPrototypeOf(newBuf,Buffer.prototype);return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}else if(typeof val==="boolean"){val=Number(val)}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var hexSliceLookupTable=function(){var alphabet="0123456789abcdef";var table=new Array(256);for(var i=0;i<16;++i){var i16=i*16;for(var j=0;j<16;++j){table[i16+j]=alphabet[i]+alphabet[j]}}return table}()}).call(this,require("buffer").Buffer)},{"base64-js":47,buffer:80,ieee754:136}],81:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;var Transform=require("stream").Transform;var StringDecoder=require("string_decoder").StringDecoder;var inherits=require("inherits");function CipherBase(hashMode){Transform.call(this);this.hashMode=typeof hashMode==="string";if(this.hashMode){this[hashMode]=this._finalOrDigest}else{this.final=this._finalOrDigest}if(this._final){this.__final=this._final;this._final=null}this._decoder=null;this._encoding=null}inherits(CipherBase,Transform);CipherBase.prototype.update=function(data,inputEnc,outputEnc){if(typeof data==="string"){data=Buffer.from(data,inputEnc)}var outData=this._update(data);if(this.hashMode)return this;if(outputEnc){outData=this._toString(outData,outputEnc)}return outData};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(data,_,next){var err;try{if(this.hashMode){this._update(data)}else{this.push(this._update(data))}}catch(e){err=e}finally{next(err)}};CipherBase.prototype._flush=function(done){var err;try{this.push(this.__final())}catch(e){err=e}done(err)};CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this.__final()||Buffer.alloc(0);if(outputEnc){outData=this._toString(outData,outputEnc,true)}return outData};CipherBase.prototype._toString=function(value,enc,fin){if(!this._decoder){this._decoder=new StringDecoder(enc);this._encoding=enc}if(this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);if(fin){out+=this._decoder.end()}return out};module.exports=CipherBase},{inherits:137,"safe-buffer":229,stream:238,string_decoder:239}],82:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":138}],83:[function(require,module,exports){(function(Buffer){var elliptic=require("elliptic");var BN=require("bn.js");module.exports=function createECDH(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1;aliases.p256=aliases.secp256r1=aliases.prime256v1;aliases.p192=aliases.secp192r1=aliases.prime192v1;aliases.p384=aliases.secp384r1;aliases.p521=aliases.secp521r1;function ECDH(curve){this.curveType=aliases[curve];if(!this.curveType){this.curveType={name:curve}}this.curve=new elliptic.ec(this.curveType.name);this.keys=void 0}ECDH.prototype.generateKeys=function(enc,format){this.keys=this.curve.genKeyPair();return this.getPublicKey(enc,format)};ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8";if(!Buffer.isBuffer(other)){other=new Buffer(other,inenc)}var otherPub=this.curve.keyFromPublic(other).getPublic();var out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)};ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic(format==="compressed",true);if(format==="hybrid"){if(key[key.length-1]%2){key[0]=7}else{key[0]=6}}return formatReturnValue(key,enc)};ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)};ECDH.prototype.setPublicKey=function(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this.keys._importPublic(pub);return this};ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}var _priv=new BN(priv);_priv=_priv.toString(16);this.keys=this.curve.genKeyPair();this.keys._importPrivate(_priv);return this};function formatReturnValue(bn,enc,len){if(!Array.isArray(bn)){bn=bn.toArray()}var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0);buf=Buffer.concat([zeros,buf])}if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"bn.js":48,buffer:80,elliptic:103}],84:[function(require,module,exports){"use strict";var inherits=require("inherits");var MD5=require("md5.js");var RIPEMD160=require("ripemd160");var sha=require("sha.js");var Base=require("cipher-base");function Hash(hash){Base.call(this,"digest");this._hash=hash}inherits(Hash,Base);Hash.prototype._update=function(data){this._hash.update(data)};Hash.prototype._final=function(){return this._hash.digest()};module.exports=function createHash(alg){alg=alg.toLowerCase();if(alg==="md5")return new MD5;if(alg==="rmd160"||alg==="ripemd160")return new RIPEMD160;return new Hash(sha(alg))}},{"cipher-base":81,inherits:137,"md5.js":141,ripemd160:228,"sha.js":231}],85:[function(require,module,exports){var MD5=require("md5.js");module.exports=function(buffer){return(new MD5).update(buffer).digest()}},{"md5.js":141}],86:[function(require,module,exports){"use strict";var inherits=require("inherits");var Legacy=require("./legacy");var Base=require("cipher-base");var Buffer=require("safe-buffer").Buffer;var md5=require("create-hash/md5");var RIPEMD160=require("ripemd160");var sha=require("sha.js");var ZEROS=Buffer.alloc(128);function Hmac(alg,key){Base.call(this,"digest");if(typeof key==="string"){key=Buffer.from(key)}var blocksize=alg==="sha512"||alg==="sha384"?128:64;this._alg=alg;this._key=key;if(key.length>blocksize){var hash=alg==="rmd160"?new RIPEMD160:sha(alg);key=hash.update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=this._ipad=Buffer.allocUnsafe(blocksize);var opad=this._opad=Buffer.allocUnsafe(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=alg==="rmd160"?new RIPEMD160:sha(alg);this._hash.update(ipad)}inherits(Hmac,Base);Hmac.prototype._update=function(data){this._hash.update(data)};Hmac.prototype._final=function(){var h=this._hash.digest();var hash=this._alg==="rmd160"?new RIPEMD160:sha(this._alg);return hash.update(this._opad).update(h).digest()};module.exports=function createHmac(alg,key){alg=alg.toLowerCase();if(alg==="rmd160"||alg==="ripemd160"){return new Hmac("rmd160",key)}if(alg==="md5"){return new Legacy(md5,key)}return new Hmac(alg,key)}},{"./legacy":87,"cipher-base":81,"create-hash/md5":85,inherits:137,ripemd160:228,"safe-buffer":229,"sha.js":231}],87:[function(require,module,exports){"use strict";var inherits=require("inherits");var Buffer=require("safe-buffer").Buffer;var Base=require("cipher-base");var ZEROS=Buffer.alloc(128);var blocksize=64;function Hmac(alg,key){Base.call(this,"digest");if(typeof key==="string"){key=Buffer.from(key)}this._alg=alg;this._key=key;if(key.length>blocksize){key=alg(key)}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=this._ipad=Buffer.allocUnsafe(blocksize);var opad=this._opad=Buffer.allocUnsafe(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=[ipad]}inherits(Hmac,Base);Hmac.prototype._update=function(data){this._hash.push(data)};Hmac.prototype._final=function(){var h=this._alg(Buffer.concat(this._hash));return this._alg(Buffer.concat([this._opad,h]))};module.exports=Hmac},{"cipher-base":81,inherits:137,"safe-buffer":229}],88:[function(require,module,exports){var __self__=function(root){function F(){this.fetch=false;this.DOMException=root.DOMException}F.prototype=root;return new F}(typeof self!=="undefined"?self:this);(function(self){var irrelevant=function(exports){var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach((function(value,name){this.append(name,value)}),this)}else if(Array.isArray(headers)){headers.forEach((function(header){this.append(header[0],header[1])}),this)}else if(headers){Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach((function(value,name){items.push(name)}));return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach((function(value){items.push(value)}));return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach((function(value,name){items.push([name,value])}));return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{this._bodyText=body=Object.prototype.toString.call(body)}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;this.signal=input.signal;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"same-origin";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.signal=options.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}}));return form}function parseHeaders(rawHeaders){var headers=new Headers;var preProcessedHeaders=rawHeaders.replace(/\r?\n[\t ]+/g," ");preProcessedHeaders.split(/\r?\n/).forEach((function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}}));return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status=options.status===undefined?200:options.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message;this.name=name;var error=Error(message);this.stack=error.stack};exports.DOMException.prototype=Object.create(Error.prototype);exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted){return reject(new exports.DOMException("Aborted","AbortError"))}var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}else if(request.credentials==="omit"){xhr.withCredentials=false}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)}));if(request.signal){request.signal.addEventListener("abort",abortXhr);xhr.onreadystatechange=function(){if(xhr.readyState===4){request.signal.removeEventListener("abort",abortXhr)}}}xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)}))}fetch.polyfill=true;if(!self.fetch){self.fetch=fetch;self.Headers=Headers;self.Request=Request;self.Response=Response}exports.Headers=Headers;exports.Request=Request;exports.Response=Response;exports.fetch=fetch;return exports}({})})(__self__);delete __self__.fetch.polyfill;exports=__self__.fetch;exports.default=__self__.fetch;exports.fetch=__self__.fetch;exports.Headers=__self__.Headers;exports.Request=__self__.Request;exports.Response=__self__.Response;module.exports=exports},{}],89:[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes");exports.createHash=exports.Hash=require("create-hash");exports.createHmac=exports.Hmac=require("create-hmac");var algos=require("browserify-sign/algos");var algoKeys=Object.keys(algos);var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(algoKeys);exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2;exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");exports.Cipher=aes.Cipher;exports.createCipher=aes.createCipher;exports.Cipheriv=aes.Cipheriv;exports.createCipheriv=aes.createCipheriv;exports.Decipher=aes.Decipher;exports.createDecipher=aes.createDecipher;exports.Decipheriv=aes.Decipheriv;exports.createDecipheriv=aes.createDecipheriv;exports.getCiphers=aes.getCiphers;exports.listCiphers=aes.listCiphers;var dh=require("diffie-hellman");exports.DiffieHellmanGroup=dh.DiffieHellmanGroup;exports.createDiffieHellmanGroup=dh.createDiffieHellmanGroup;exports.getDiffieHellman=dh.getDiffieHellman;exports.createDiffieHellman=dh.createDiffieHellman;exports.DiffieHellman=dh.DiffieHellman;var sign=require("browserify-sign");exports.createSign=sign.createSign;exports.Sign=sign.Sign;exports.createVerify=sign.createVerify;exports.Verify=sign.Verify;exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");exports.publicEncrypt=publicEncrypt.publicEncrypt;exports.privateEncrypt=publicEncrypt.privateEncrypt;exports.publicDecrypt=publicEncrypt.publicDecrypt;exports.privateDecrypt=publicEncrypt.privateDecrypt;var rf=require("randomfill");exports.randomFill=rf.randomFill;exports.randomFillSync=rf.randomFillSync;exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))};exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":68,"browserify-sign":75,"browserify-sign/algos":72,"create-ecdh":83,"create-hash":84,"create-hmac":86,"diffie-hellman":96,pbkdf2:199,"public-encrypt":206,randombytes:212,randomfill:213}],90:[function(require,module,exports){"use strict";exports.utils=require("./des/utils");exports.Cipher=require("./des/cipher");exports.DES=require("./des/des");exports.CBC=require("./des/cbc");exports.EDE=require("./des/ede")},{"./des/cbc":91,"./des/cipher":92,"./des/des":93,"./des/ede":94,"./des/utils":95}],91:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var proto={};function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length");this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options);this._cbcInit()}inherits(CBC,Base);var keys=Object.keys(proto);for(var i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}CBC.create=function create(options){return new CBC(options)};return CBC}exports.instantiate=instantiate;proto._cbcInit=function _cbcInit(){var state=new CBCState(this.options.iv);this._cbcState=state};proto._update=function _update(inp,inOff,out,outOff){var state=this._cbcState;var superProto=this.constructor.super_.prototype;var iv=state.iv;if(this.type==="encrypt"){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:137,"minimalistic-assert":143}],92:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");function Cipher(options){this.options=options;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0}module.exports=Cipher;Cipher.prototype._init=function _init(){};Cipher.prototype.update=function update(data){if(data.length===0)return[];if(this.type==="decrypt")return this._updateDecrypt(data);else return this._updateEncrypt(data)};Cipher.prototype._buffer=function _buffer(data,off){var min=Math.min(this.buffer.length-this.bufferOff,data.length-off);for(var i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];this.bufferOff+=min;return min};Cipher.prototype._flushBuffer=function _flushBuffer(out,off){this._update(this.buffer,0,out,off);this.bufferOff=0;return this.blockSize};Cipher.prototype._updateEncrypt=function _updateEncrypt(data){var inputOff=0;var outputOff=0;var count=(this.bufferOff+data.length)/this.blockSize|0;var out=new Array(count*this.blockSize);if(this.bufferOff!==0){inputOff+=this._buffer(data,inputOff);if(this.bufferOff===this.buffer.length)outputOff+=this._flushBuffer(out,outputOff)}var max=data.length-(data.length-inputOff)%this.blockSize;for(;inputOff<max;inputOff+=this.blockSize){this._update(data,inputOff,out,outputOff);outputOff+=this.blockSize}for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out};Cipher.prototype._updateDecrypt=function _updateDecrypt(data){var inputOff=0;var outputOff=0;var count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1;var out=new Array(count*this.blockSize);for(;count>0;count--){inputOff+=this._buffer(data,inputOff);outputOff+=this._flushBuffer(out,outputOff)}inputOff+=this._buffer(data,inputOff);return out};Cipher.prototype.final=function final(buffer){var first;if(buffer)first=this.update(buffer);var last;if(this.type==="encrypt")last=this._finalEncrypt();else last=this._finalDecrypt();if(first)return first.concat(last);else return last};Cipher.prototype._pad=function _pad(buffer,off){if(off===0)return false;while(off<buffer.length)buffer[off++]=0;return true};Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);this._update(this.buffer,0,out,0);return out};Cipher.prototype._unpad=function _unpad(buffer){return buffer};Cipher.prototype._finalDecrypt=function _finalDecrypt(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);this._flushBuffer(out,0);return this._unpad(out)}},{"minimalistic-assert":143}],93:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var utils=des.utils;var Cipher=des.Cipher;function DESState(){this.tmp=new Array(2);this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state;this.deriveKeys(state,options.key)}inherits(DES,Cipher);module.exports=DES;DES.create=function create(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(state,key){state.keys=new Array(16*2);assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0);var kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0);kL=state.tmp[0];kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift);kR=utils.r28shl(kR,shift);utils.pc2(kL,kR,state.keys,i)}};DES.prototype._update=function _update(inp,inOff,out,outOff){var state=this._desState;var l=utils.readUInt32BE(inp,inOff);var r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];if(this.type==="encrypt")this._encrypt(state,l,r,state.tmp,0);else this._decrypt(state,l,r,state.tmp,0);l=state.tmp[0];r=state.tmp[1];utils.writeUInt32BE(out,l,outOff);utils.writeUInt32BE(out,r,outOff+4)};DES.prototype._pad=function _pad(buffer,off){var value=buffer.length-off;for(var i=off;i<buffer.length;i++)buffer[i]=value;return true};DES.prototype._unpad=function _unpad(buffer){var pad=buffer[buffer.length-1];for(var i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)};DES.prototype._encrypt=function _encrypt(state,lStart,rStart,out,off){var l=lStart;var r=rStart;for(var i=0;i<state.keys.length;i+=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(r,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=r;r=(l^f)>>>0;l=t}utils.rip(r,l,out,off)};DES.prototype._decrypt=function _decrypt(state,lStart,rStart,out,off){var l=rStart;var r=lStart;for(var i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i];var keyR=state.keys[i+1];utils.expand(l,state.tmp,0);keyL^=state.tmp[0];keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR);var f=utils.permute(s);var t=l;l=(r^f)>>>0;r=t}utils.rip(l,r,out,off)}},{"../des":90,inherits:137,"minimalistic-assert":143}],94:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");var des=require("../des");var Cipher=des.Cipher;var DES=des.DES;function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8);var k2=key.slice(8,16);var k3=key.slice(16,24);if(type==="encrypt"){this.ciphers=[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]}else{this.ciphers=[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}inherits(EDE,Cipher);module.exports=EDE;EDE.create=function create(options){return new EDE(options)};EDE.prototype._update=function _update(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff);state.ciphers[1]._update(out,outOff,out,outOff);state.ciphers[2]._update(out,outOff,out,outOff)};EDE.prototype._pad=DES.prototype._pad;EDE.prototype._unpad=DES.prototype._unpad},{"../des":90,inherits:137,"minimalistic-assert":143}],95:[function(require,module,exports){"use strict";exports.readUInt32BE=function readUInt32BE(bytes,off){var res=bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off];return res>>>0};exports.writeUInt32BE=function writeUInt32BE(bytes,value,off){bytes[0+off]=value>>>24;bytes[1+off]=value>>>16&255;bytes[2+off]=value>>>8&255;bytes[3+off]=value&255};exports.ip=function ip(inL,inR,out,off){var outL=0;var outR=0;for(var i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>>j+i&1}}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8){outR<<=1;outR|=inR>>>j+i&1}for(var j=1;j<=25;j+=8){outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.rip=function rip(inL,inR,out,off){var outL=0;var outR=0;for(var i=0;i<4;i++){for(var j=24;j>=0;j-=8){outL<<=1;outL|=inR>>>j+i&1;outL<<=1;outL|=inL>>>j+i&1}}for(var i=4;i<8;i++){for(var j=24;j>=0;j-=8){outR<<=1;outR|=inR>>>j+i&1;outR<<=1;outR|=inL>>>j+i&1}}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.pc1=function pc1(inL,inR,out,off){var outL=0;var outR=0;for(var i=7;i>=5;i--){for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outL<<=1;outL|=inR>>j+i&1}for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8){outR<<=1;outR|=inR>>j+i&1}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}}for(var j=0;j<=24;j+=8){outR<<=1;outR|=inL>>j+i&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.r28shl=function r28shl(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function pc2(inL,inR,out,off){var outL=0;var outR=0;var len=pc2table.length>>>1;for(var i=0;i<len;i++){outL<<=1;outL|=inL>>>pc2table[i]&1}for(var i=len;i<pc2table.length;i++){outR<<=1;outR|=inR>>>pc2table[i]&1}out[off+0]=outL>>>0;out[off+1]=outR>>>0};exports.expand=function expand(r,out,off){var outL=0;var outR=0;outL=(r&1)<<5|r>>>27;for(var i=23;i>=15;i-=4){outL<<=6;outL|=r>>>i&63}for(var i=11;i>=3;i-=4){outR|=r>>>i&63;outR<<=6}outR|=(r&31)<<1|r>>>31;out[off+0]=outL>>>0;out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function substitute(inL,inR){var out=0;for(var i=0;i<4;i++){var b=inL>>>18-i*6&63;var sb=sTable[i*64+b];out<<=4;out|=sb}for(var i=0;i<4;i++){var b=inR>>>18-i*6&63;var sb=sTable[4*64+i*64+b];out<<=4;out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function permute(num){var out=0;for(var i=0;i<permuteTable.length;i++){out<<=1;out|=num>>>permuteTable[i]&1}return out>>>0};exports.padSplit=function padSplit(num,size,group){var str=num.toString(2);while(str.length<size)str="0"+str;var out=[];for(var i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],96:[function(require,module,exports){(function(Buffer){var generatePrime=require("./lib/generatePrime");var primes=require("./lib/primes.json");var DH=require("./lib/dh");function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex");var gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}var ENCODINGS={binary:true,hex:true,base64:true};function createDiffieHellman(prime,enc,generator,genc){if(Buffer.isBuffer(enc)||ENCODINGS[enc]===undefined){return createDiffieHellman(prime,"binary",enc,generator)}enc=enc||"binary";genc=genc||"binary";generator=generator||new Buffer([2]);if(!Buffer.isBuffer(generator)){generator=new Buffer(generator,genc)}if(typeof prime==="number"){return new DH(generatePrime(prime,generator),generator,true)}if(!Buffer.isBuffer(prime)){prime=new Buffer(prime,enc)}return new DH(prime,generator,true)}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman;exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":97,"./lib/generatePrime":98,"./lib/primes.json":99,buffer:80}],97:[function(require,module,exports){(function(Buffer){var BN=require("bn.js");var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var TWENTYFOUR=new BN(24);var ELEVEN=new BN(11);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var primes=require("./generatePrime");var randomBytes=require("randombytes");module.exports=DH;function setPublicKey(pub,enc){enc=enc||"utf8";if(!Buffer.isBuffer(pub)){pub=new Buffer(pub,enc)}this._pub=new BN(pub);return this}function setPrivateKey(priv,enc){enc=enc||"utf8";if(!Buffer.isBuffer(priv)){priv=new Buffer(priv,enc)}this._priv=new BN(priv);return this}var primeCache={};function checkPrime(prime,generator){var gen=generator.toString("hex");var hex=[gen,prime.toString(16)].join("_");if(hex in primeCache){return primeCache[hex]}var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime)){error+=1;if(gen==="02"||gen==="05"){error+=8}else{error+=4}primeCache[hex]=error;return error}if(!millerRabin.test(prime.shrn(1))){error+=2}var rem;switch(gen){case"02":if(prime.mod(TWENTYFOUR).cmp(ELEVEN)){error+=8}break;case"05":rem=prime.mod(TEN);if(rem.cmp(THREE)&&rem.cmp(SEVEN)){error+=8}break;default:error+=4}primeCache[hex]=error;return error}function DH(prime,generator,malleable){this.setGenerator(generator);this.__prime=new BN(prime);this._prime=BN.mont(this.__prime);this._primeLen=prime.length;this._pub=undefined;this._priv=undefined;this._primeCode=undefined;if(malleable){this.setPublicKey=setPublicKey;this.setPrivateKey=setPrivateKey}else{this._primeCode=8}}Object.defineProperty(DH.prototype,"verifyError",{enumerable:true,get:function(){if(typeof this._primeCode!=="number"){this._primeCode=checkPrime(this.__prime,this.__gen)}return this._primeCode}});DH.prototype.generateKeys=function(){if(!this._priv){this._priv=new BN(randomBytes(this._primeLen))}this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed();return this.getPublicKey()};DH.prototype.computeSecret=function(other){other=new BN(other);other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed();var out=new Buffer(secret.toArray());var prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0);out=Buffer.concat([front,out])}return out};DH.prototype.getPublicKey=function getPublicKey(enc){return formatReturnValue(this._pub,enc)};DH.prototype.getPrivateKey=function getPrivateKey(enc){return formatReturnValue(this._priv,enc)};DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)};DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)};DH.prototype.setGenerator=function(gen,enc){enc=enc||"utf8";if(!Buffer.isBuffer(gen)){gen=new Buffer(gen,enc)}this.__gen=gen;this._gen=new BN(gen);return this};function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());if(!enc){return buf}else{return buf.toString(enc)}}}).call(this,require("buffer").Buffer)},{"./generatePrime":98,"bn.js":48,buffer:80,"miller-rabin":142,randombytes:212}],98:[function(require,module,exports){var randomBytes=require("randombytes");module.exports=findPrime;findPrime.simpleSieve=simpleSieve;findPrime.fermatTest=fermatTest;var BN=require("bn.js");var TWENTYFOUR=new BN(24);var MillerRabin=require("miller-rabin");var millerRabin=new MillerRabin;var ONE=new BN(1);var TWO=new BN(2);var FIVE=new BN(5);var SIXTEEN=new BN(16);var EIGHT=new BN(8);var TEN=new BN(10);var THREE=new BN(3);var SEVEN=new BN(7);var ELEVEN=new BN(11);var FOUR=new BN(4);var TWELVE=new BN(12);var primes=null;function _getPrimes(){if(primes!==null)return primes;var limit=1048576;var res=[];res[0]=2;for(var i=1,k=3;k<limit;k+=2){var sqrt=Math.ceil(Math.sqrt(k));for(var j=0;j<i&&res[j]<=sqrt;j++)if(k%res[j]===0)break;if(i!==j&&res[j]<=sqrt)continue;res[i++]=k}primes=res;return res}function simpleSieve(p){var primes=_getPrimes();for(var i=0;i<primes.length;i++)if(p.modn(primes[i])===0){if(p.cmpn(primes[i])===0){return true}else{return false}}return true}function fermatTest(p){var red=BN.mont(p);return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)===0}function findPrime(bits,gen){if(bits<16){if(gen===2||gen===5){return new BN([140,123])}else{return new BN([140,39])}}gen=new BN(gen);var num,n2;while(true){num=new BN(randomBytes(Math.ceil(bits/8)));while(num.bitLength()>bits){num.ishrn(1)}if(num.isEven()){num.iadd(ONE)}if(!num.testn(1)){num.iadd(TWO)}if(!gen.cmp(TWO)){while(num.mod(TWENTYFOUR).cmp(ELEVEN)){num.iadd(FOUR)}}else if(!gen.cmp(FIVE)){while(num.mod(TEN).cmp(THREE)){num.iadd(FOUR)}}n2=num.shrn(1);if(simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num)){return num}}}},{"bn.js":48,"miller-rabin":142,randombytes:212}],99:[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],100:[function(require,module,exports){"use strict";var fs=require("fs");var path=require("path");var utils=require("./utils");var scopeOptionWarned=false;var _VERSION_STRING=require("../package.json").version;var _DEFAULT_OPEN_DELIMITER="<";var _DEFAULT_CLOSE_DELIMITER=">";var _DEFAULT_DELIMITER="%";var _DEFAULT_LOCALS_NAME="locals";var _NAME="ejs";var _REGEX_STRING="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";var _OPTS_PASSABLE_WITH_DATA=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"];var _OPTS_PASSABLE_WITH_DATA_EXPRESS=_OPTS_PASSABLE_WITH_DATA.concat("cache");var _BOM=/^\uFEFF/;exports.cache=utils.cache;exports.fileLoader=fs.readFileSync;exports.localsName=_DEFAULT_LOCALS_NAME;exports.promiseImpl=new Function("return this;")().Promise;exports.resolveInclude=function(name,filename,isDir){var dirname=path.dirname;var extname=path.extname;var resolve=path.resolve;var includePath=resolve(isDir?filename:dirname(filename),name);var ext=extname(name);if(!ext){includePath+=".ejs"}return includePath};function getIncludePath(path,options){var includePath;var filePath;var views=options.views;var match=/^[A-Za-z]+:\\|^\//.exec(path);if(match&&match.length){includePath=exports.resolveInclude(path.replace(/^\/*/,""),options.root||"/",true)}else{if(options.filename){filePath=exports.resolveInclude(path,options.filename);if(fs.existsSync(filePath)){includePath=filePath}}if(!includePath){if(Array.isArray(views)&&views.some((function(v){filePath=exports.resolveInclude(path,v,true);return fs.existsSync(filePath)}))){includePath=filePath}}if(!includePath){throw new Error('Could not find the include file "'+options.escapeFunction(path)+'"')}}return includePath}function handleCache(options,template){var func;var filename=options.filename;var hasTemplate=arguments.length>1;if(options.cache){if(!filename){throw new Error("cache option requires a filename")}func=exports.cache.get(filename);if(func){return func}if(!hasTemplate){template=fileLoader(filename).toString().replace(_BOM,"")}}else if(!hasTemplate){if(!filename){throw new Error("Internal EJS error: no file name or template "+"provided")}template=fileLoader(filename).toString().replace(_BOM,"")}func=exports.compile(template,options);if(options.cache){exports.cache.set(filename,func)}return func}function tryHandleCache(options,data,cb){var result;if(!cb){if(typeof exports.promiseImpl=="function"){return new exports.promiseImpl((function(resolve,reject){try{result=handleCache(options)(data);resolve(result)}catch(err){reject(err)}}))}else{throw new Error("Please provide a callback function")}}else{try{result=handleCache(options)(data)}catch(err){return cb(err)}cb(null,result)}}function fileLoader(filePath){return exports.fileLoader(filePath)}function includeFile(path,options){var opts=utils.shallowCopy({},options);opts.filename=getIncludePath(path,opts);return handleCache(opts)}function includeSource(path,options){var opts=utils.shallowCopy({},options);var includePath;var template;includePath=getIncludePath(path,opts);template=fileLoader(includePath).toString().replace(_BOM,"");opts.filename=includePath;var templ=new Template(template,opts);templ.generateSource();return{source:templ.source,filename:includePath,template:template}}function rethrow(err,str,flnm,lineno,esc){var lines=str.split("\n");var start=Math.max(lineno-3,0);var end=Math.min(lines.length,lineno+3);var filename=esc(flnm);var context=lines.slice(start,end).map((function(line,i){var curr=i+start+1;return(curr==lineno?" >> ":"    ")+curr+"| "+line})).join("\n");err.path=filename;err.message=(filename||"ejs")+":"+lineno+"\n"+context+"\n\n"+err.message;throw err}function stripSemi(str){return str.replace(/;(\s*$)/,"$1")}exports.compile=function compile(template,opts){var templ;if(opts&&opts.scope){if(!scopeOptionWarned){console.warn("`scope` option is deprecated and will be removed in EJS 3");scopeOptionWarned=true}if(!opts.context){opts.context=opts.scope}delete opts.scope}templ=new Template(template,opts);return templ.compile()};exports.render=function(template,d,o){var data=d||{};var opts=o||{};if(arguments.length==2){utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA)}return handleCache(opts,template)(data)};exports.renderFile=function(){var args=Array.prototype.slice.call(arguments);var filename=args.shift();var cb;var opts={filename:filename};var data;var viewOpts;if(typeof arguments[arguments.length-1]=="function"){cb=args.pop()}if(args.length){data=args.shift();if(args.length){utils.shallowCopy(opts,args.pop())}else{if(data.settings){if(data.settings.views){opts.views=data.settings.views}if(data.settings["view cache"]){opts.cache=true}viewOpts=data.settings["view options"];if(viewOpts){utils.shallowCopy(opts,viewOpts)}}utils.shallowCopyFromList(opts,data,_OPTS_PASSABLE_WITH_DATA_EXPRESS)}opts.filename=filename}else{data={}}return tryHandleCache(opts,data,cb)};exports.Template=Template;exports.clearCache=function(){exports.cache.reset()};function Template(text,opts){opts=opts||{};var options={};this.templateText=text;this.mode=null;this.truncate=false;this.currentLine=1;this.source="";this.dependencies=[];options.client=opts.client||false;options.escapeFunction=opts.escape||opts.escapeFunction||utils.escapeXML;options.compileDebug=opts.compileDebug!==false;options.debug=!!opts.debug;options.filename=opts.filename;options.openDelimiter=opts.openDelimiter||exports.openDelimiter||_DEFAULT_OPEN_DELIMITER;options.closeDelimiter=opts.closeDelimiter||exports.closeDelimiter||_DEFAULT_CLOSE_DELIMITER;options.delimiter=opts.delimiter||exports.delimiter||_DEFAULT_DELIMITER;options.strict=opts.strict||false;options.context=opts.context;options.cache=opts.cache||false;options.rmWhitespace=opts.rmWhitespace;options.root=opts.root;options.outputFunctionName=opts.outputFunctionName;options.localsName=opts.localsName||exports.localsName||_DEFAULT_LOCALS_NAME;options.views=opts.views;options.async=opts.async;if(options.strict){options._with=false}else{options._with=typeof opts._with!="undefined"?opts._with:true}this.opts=options;this.regex=this.createRegex()}Template.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"};Template.prototype={createRegex:function(){var str=_REGEX_STRING;var delim=utils.escapeRegExpChars(this.opts.delimiter);var open=utils.escapeRegExpChars(this.opts.openDelimiter);var close=utils.escapeRegExpChars(this.opts.closeDelimiter);str=str.replace(/%/g,delim).replace(/</g,open).replace(/>/g,close);return new RegExp(str)},compile:function(){var src;var fn;var opts=this.opts;var prepended="";var appended="";var escapeFn=opts.escapeFunction;var ctor;if(!this.source){this.generateSource();prepended+="  var __output = [], __append = __output.push.bind(__output);"+"\n";if(opts.outputFunctionName){prepended+="  var "+opts.outputFunctionName+" = __append;"+"\n"}if(opts._with!==false){prepended+="  with ("+opts.localsName+" || {}) {"+"\n";appended+="  }"+"\n"}appended+='  return __output.join("");'+"\n";this.source=prepended+this.source+appended}if(opts.compileDebug){src="var __line = 1"+"\n"+"  , __lines = "+JSON.stringify(this.templateText)+"\n"+"  , __filename = "+(opts.filename?JSON.stringify(opts.filename):"undefined")+";"+"\n"+"try {"+"\n"+this.source+"} catch (e) {"+"\n"+"  rethrow(e, __lines, __filename, __line, escapeFn);"+"\n"+"}"+"\n"}else{src=this.source}if(opts.client){src="escapeFn = escapeFn || "+escapeFn.toString()+";"+"\n"+src;if(opts.compileDebug){src="rethrow = rethrow || "+rethrow.toString()+";"+"\n"+src}}if(opts.strict){src='"use strict";\n'+src}if(opts.debug){console.log(src)}try{if(opts.async){try{ctor=new Function("return (async function(){}).constructor;")()}catch(e){if(e instanceof SyntaxError){throw new Error("This environment does not support async/await")}else{throw e}}}else{ctor=Function}fn=new ctor(opts.localsName+", escapeFn, include, rethrow",src)}catch(e){if(e instanceof SyntaxError){if(opts.filename){e.message+=" in "+opts.filename}e.message+=" while compiling ejs\n\n";e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n";e.message+="https://github.com/RyanZim/EJS-Lint";if(!e.async){e.message+="\n";e.message+="Or, if you meant to create an async function, pass async: true as an option."}}throw e}if(opts.client){fn.dependencies=this.dependencies;return fn}var returnedFn=function(data){var include=function(path,includeData){var d=utils.shallowCopy({},data);if(includeData){d=utils.shallowCopy(d,includeData)}return includeFile(path,opts)(d)};return fn.apply(opts.context,[data||{},escapeFn,include,rethrow])};returnedFn.dependencies=this.dependencies;return returnedFn},generateSource:function(){var opts=this.opts;if(opts.rmWhitespace){this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")}this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var self=this;var matches=this.parseTemplateText();var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;if(matches&&matches.length){matches.forEach((function(line,index){var opening;var closing;var include;var includeOpts;var includeObj;var includeSrc;if(line.indexOf(o+d)===0&&line.indexOf(o+d+d)!==0){closing=matches[index+2];if(!(closing==d+c||closing=="-"+d+c||closing=="_"+d+c)){throw new Error('Could not find matching close tag for "'+line+'".')}}if(include=line.match(/^\s*include\s+(\S+)/)){opening=matches[index-1];if(opening&&(opening==o+d||opening==o+d+"-"||opening==o+d+"_")){includeOpts=utils.shallowCopy({},self.opts);includeObj=includeSource(include[1],includeOpts);if(self.opts.compileDebug){includeSrc="    ; (function(){"+"\n"+"      var __line = 1"+"\n"+"      , __lines = "+JSON.stringify(includeObj.template)+"\n"+"      , __filename = "+JSON.stringify(includeObj.filename)+";"+"\n"+"      try {"+"\n"+includeObj.source+"      } catch (e) {"+"\n"+"        rethrow(e, __lines, __filename, __line, escapeFn);"+"\n"+"      }"+"\n"+"    ; }).call(this)"+"\n"}else{includeSrc="    ; (function(){"+"\n"+includeObj.source+"    ; }).call(this)"+"\n"}self.source+=includeSrc;self.dependencies.push(exports.resolveInclude(include[1],includeOpts.filename));return}}self.scanLine(line)}))}},parseTemplateText:function(){var str=this.templateText;var pat=this.regex;var result=pat.exec(str);var arr=[];var firstPos;while(result){firstPos=result.index;if(firstPos!==0){arr.push(str.substring(0,firstPos));str=str.slice(firstPos)}arr.push(result[0]);str=str.slice(result[0].length);result=pat.exec(str)}if(str){arr.push(str)}return arr},_addOutput:function(line){if(this.truncate){line=line.replace(/^(?:\r\n|\r|\n)/,"");this.truncate=false}if(!line){return line}line=line.replace(/\\/g,"\\\\");line=line.replace(/\n/g,"\\n");line=line.replace(/\r/g,"\\r");line=line.replace(/"/g,'\\"');this.source+='    ; __append("'+line+'")'+"\n"},scanLine:function(line){var self=this;var d=this.opts.delimiter;var o=this.opts.openDelimiter;var c=this.opts.closeDelimiter;var newLineCount=0;newLineCount=line.split("\n").length-1;switch(line){case o+d:case o+d+"_":this.mode=Template.modes.EVAL;break;case o+d+"=":this.mode=Template.modes.ESCAPED;break;case o+d+"-":this.mode=Template.modes.RAW;break;case o+d+"#":this.mode=Template.modes.COMMENT;break;case o+d+d:this.mode=Template.modes.LITERAL;this.source+='    ; __append("'+line.replace(o+d+d,o+d)+'")'+"\n";break;case d+d+c:this.mode=Template.modes.LITERAL;this.source+='    ; __append("'+line.replace(d+d+c,d+c)+'")'+"\n";break;case d+c:case"-"+d+c:case"_"+d+c:if(this.mode==Template.modes.LITERAL){this._addOutput(line)}this.mode=null;this.truncate=line.indexOf("-")===0||line.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:if(line.lastIndexOf("//")>line.lastIndexOf("\n")){line+="\n"}}switch(this.mode){case Template.modes.EVAL:this.source+="    ; "+line+"\n";break;case Template.modes.ESCAPED:this.source+="    ; __append(escapeFn("+stripSemi(line)+"))"+"\n";break;case Template.modes.RAW:this.source+="    ; __append("+stripSemi(line)+")"+"\n";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(line);break}}else{this._addOutput(line)}}if(self.opts.compileDebug&&newLineCount){this.currentLine+=newLineCount;this.source+="    ; __line = "+this.currentLine+"\n"}}};exports.escapeXML=utils.escapeXML;exports.__express=exports.renderFile;if(require.extensions){require.extensions[".ejs"]=function(module,flnm){console.log("Deprecated: this API will go away in EJS v2.8");var filename=flnm||module.filename;var options={filename:filename,client:true};var template=fileLoader(filename).toString();var fn=exports.compile(template,options);module._compile("module.exports = "+fn.toString()+";",filename)}}exports.VERSION=_VERSION_STRING;exports.name=_NAME;if(typeof window!="undefined"){window.ejs=exports}},{"../package.json":102,"./utils":101,fs:78,path:198}],101:[function(require,module,exports){"use strict";var regExpChars=/[|\\{}()[\]^$+*?.]/g;exports.escapeRegExpChars=function(string){if(!string){return""}return String(string).replace(regExpChars,"\\$&")};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"};var _MATCH_HTML=/[&<>'"]/g;function encode_char(c){return _ENCODE_HTML_RULES[c]||c}var escapeFuncStr="var _ENCODE_HTML_RULES = {\n"+'      "&": "&amp;"\n'+'    , "<": "&lt;"\n'+'    , ">": "&gt;"\n'+'    , \'"\': "&#34;"\n'+'    , "\'": "&#39;"\n'+"    }\n"+"  , _MATCH_HTML = /[&<>'\"]/g;\n"+"function encode_char(c) {\n"+"  return _ENCODE_HTML_RULES[c] || c;\n"+"};\n";exports.escapeXML=function(markup){return markup==undefined?"":String(markup).replace(_MATCH_HTML,encode_char)};exports.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+escapeFuncStr};exports.shallowCopy=function(to,from){from=from||{};for(var p in from){to[p]=from[p]}return to};exports.shallowCopyFromList=function(to,from,list){for(var i=0;i<list.length;i++){var p=list[i];if(typeof from[p]!="undefined"){to[p]=from[p]}}return to};exports.cache={_data:{},set:function(key,val){this._data[key]=val},get:function(key){return this._data[key]},remove:function(key){delete this._data[key]},reset:function(){this._data={}}}},{}],102:[function(require,module,exports){module.exports={_from:"ejs@^2.7.1",_id:"ejs@2.7.1",_inBundle:false,_integrity:"sha512-kS/gEPzZs3Y1rRsbGX4UOSjtP/CeJP0CxSNZHYxGfVM/VgLcv0ZqM7C45YyTj2DI2g7+P9Dd24C+IMIg6D0nYQ==",_location:"/ejs",_phantomChildren:{},_requested:{type:"range",registry:true,raw:"ejs@^2.7.1",name:"ejs",escapedName:"ejs",rawSpec:"^2.7.1",saveSpec:null,fetchSpec:"^2.7.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/ejs/-/ejs-2.7.1.tgz",_shasum:"5b5ab57f718b79d4aca9254457afecd36fa80228",_spec:"ejs@^2.7.1",_where:"/Users/sebastiangurin/git/magica",author:{name:"Matthew Eernisse",email:"mde@fleegix.org",url:"http://fleegix.org"},bugs:{url:"https://github.com/mde/ejs/issues"},bundleDependencies:false,contributors:[{name:"Timothy Gu",email:"timothygu99@gmail.com",url:"https://timothygu.github.io"}],dependencies:{},deprecated:false,description:"Embedded JavaScript templates",devDependencies:{browserify:"^13.1.1",eslint:"^4.14.0","git-directory-deploy":"^1.5.1",istanbul:"~0.4.3",jake:"^8.0.16",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^5.0.5","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},homepage:"https://github.com/mde/ejs",keywords:["template","engine","ejs"],license:"Apache-2.0",main:"./lib/ejs.js",name:"ejs",repository:{type:"git",url:"git://github.com/mde/ejs.git"},scripts:{coverage:"istanbul cover node_modules/mocha/bin/_mocha",devdoc:"jake doc[dev]",doc:"jake doc",lint:'eslint "**/*.js" Jakefile',test:"jake test"},version:"2.7.1"}},{}],103:[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version;elliptic.utils=require("./elliptic/utils");elliptic.rand=require("brorand");elliptic.curve=require("./elliptic/curve");elliptic.curves=require("./elliptic/curves");elliptic.ec=require("./elliptic/ec");elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":118,"./elliptic/curve":106,"./elliptic/curves":109,"./elliptic/ec":110,"./elliptic/eddsa":113,"./elliptic/utils":117,brorand:49}],104:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var getNAF=utils.getNAF;var getJSF=utils.getJSF;var assert=utils.assert;function BaseCurve(type,conf){this.type=type;this.p=new BN(conf.p,16);this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p);this.zero=new BN(0).toRed(this.red);this.one=new BN(1).toRed(this.red);this.two=new BN(2).toRed(this.red);this.n=conf.n&&new BN(conf.n,16);this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);if(!adjustCount||adjustCount.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}module.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(p,k){assert(p.precomputed);var doubles=p._getDoubles();var naf=getNAF(k,1);var I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;var repr=[];for(var j=0;j<naf.length;j+=doubles.step){var nafW=0;for(var k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}var a=this.jpoint(null,null,null);var b=this.jpoint(null,null,null);for(var i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];if(nafW===i)b=b.mixedAdd(doubles.points[j]);else if(nafW===-i)b=b.mixedAdd(doubles.points[j].neg())}a=a.add(b)}return a.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(p,k){var w=4;var nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;var wnd=nafPoints.points;var naf=getNAF(k,w);var acc=this.jpoint(null,null,null);for(var i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&naf[i]===0;i--)k++;if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;var z=naf[i];assert(z!==0);if(p.type==="affine"){if(z>0)acc=acc.mixedAdd(wnd[z-1>>1]);else acc=acc.mixedAdd(wnd[-z-1>>1].neg())}else{if(z>0)acc=acc.add(wnd[z-1>>1]);else acc=acc.add(wnd[-z-1>>1].neg())}}return p.type==="affine"?acc.toP():acc};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(defW,points,coeffs,len,jacobianResult){var wndWidth=this._wnafT1;var wnd=this._wnafT2;var naf=this._wnafT3;var max=0;for(var i=0;i<len;i++){var p=points[i];var nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd;wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1;var b=i;if(wndWidth[a]!==1||wndWidth[b]!==1){naf[a]=getNAF(coeffs[a],wndWidth[a]);naf[b]=getNAF(coeffs[b],wndWidth[b]);max=Math.max(naf[a].length,max);max=Math.max(naf[b].length,max);continue}var comb=[points[a],null,null,points[b]];if(points[a].y.cmp(points[b].y)===0){comb[1]=points[a].add(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}else if(points[a].y.cmp(points[b].y.redNeg())===0){comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].add(points[b].neg())}else{comb[1]=points[a].toJ().mixedAdd(points[b]);comb[2]=points[a].toJ().mixedAdd(points[b].neg())}var index=[-3,-1,-5,-7,0,7,5,1,3];var jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max);naf[a]=new Array(max);naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=jsf[0][j]|0;var jb=jsf[1][j]|0;naf[a][j]=index[(ja+1)*3+(jb+1)];naf[b][j]=0;wnd[a]=comb}}var acc=this.jpoint(null,null,null);var tmp=this._wnafT4;for(var i=max;i>=0;i--){var k=0;while(i>=0){var zero=true;for(var j=0;j<len;j++){tmp[j]=naf[j][i]|0;if(tmp[j]!==0)zero=false}if(!zero)break;k++;i--}if(i>=0)k++;acc=acc.dblp(k);if(i<0)break;for(var j=0;j<len;j++){var z=tmp[j];var p;if(z===0)continue;else if(z>0)p=wnd[j][z-1>>1];else if(z<0)p=wnd[j][-z-1>>1].neg();if(p.type==="affine")acc=acc.mixedAdd(p);else acc=acc.add(p)}}for(var i=0;i<len;i++)wnd[i]=null;if(jacobianResult)return acc;else return acc.toP()};function BasePoint(curve,type){this.curve=curve;this.type=type;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((bytes[0]===4||bytes[0]===6||bytes[0]===7)&&bytes.length-1===2*len){if(bytes[0]===6)assert(bytes[bytes.length-1]%2===0);else if(bytes[0]===7)assert(bytes[bytes.length-1]%2===1);var res=this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));return res}else if((bytes[0]===2||bytes[0]===3)&&bytes.length-1===len){return this.pointFromX(bytes.slice(1,1+len),bytes[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(enc){return this.encode(enc,true)};BasePoint.prototype._encode=function _encode(compact){var len=this.curve.p.byteLength();var x=this.getX().toArray("be",len);if(compact)return[this.getY().isEven()?2:3].concat(x);return[4].concat(x,this.getY().toArray("be",len))};BasePoint.prototype.encode=function encode(enc,compact){return utils.encode(this._encode(compact),enc)};BasePoint.prototype.precompute=function precompute(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};precomputed.naf=this._getNAFPoints(8);precomputed.doubles=this._getDoubles(4,power);precomputed.beta=this._getBeta();this.precomputed=precomputed;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(k){if(!this.precomputed)return false;var doubles=this.precomputed.doubles;if(!doubles)return false;return doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)};BasePoint.prototype._getDoubles=function _getDoubles(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var doubles=[this];var acc=this;for(var i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var res=[this];var max=(1<<wnd)-1;var dbl=max===1?null:this.dbl();for(var i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(k){var r=this;for(var i=0;i<k;i++)r=r.dbl();return r}},{"../utils":117,"bn.js":48}],105:[function(require,module,exports){"use strict";var utils=require("../utils");var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var assert=utils.assert;function EdwardsCurve(conf){this.twisted=(conf.a|0)!==1;this.mOneA=this.twisted&&(conf.a|0)===-1;this.extended=this.mOneA;Base.call(this,"edwards",conf);this.a=new BN(conf.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new BN(conf.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new BN(conf.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);assert(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(conf.c|0)===1}inherits(EdwardsCurve,Base);module.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(num){if(this.mOneA)return num.redNeg();else return this.a.redMul(num)};EdwardsCurve.prototype._mulC=function _mulC(num){if(this.oneC)return num;else return this.c.redMul(num)};EdwardsCurve.prototype.jpoint=function jpoint(x,y,z,t){return this.point(x,y,z,t)};EdwardsCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var x2=x.redSqr();var rhs=this.c2.redSub(this.a.redMul(x2));var lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2));var y2=rhs.redMul(lhs.redInvm());var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};EdwardsCurve.prototype.pointFromY=function pointFromY(y,odd){y=new BN(y,16);if(!y.red)y=y.toRed(this.red);var y2=y.redSqr();var lhs=y2.redSub(this.c2);var rhs=y2.redMul(this.d).redMul(this.c2).redSub(this.a);var x2=lhs.redMul(rhs.redInvm());if(x2.cmp(this.zero)===0){if(odd)throw new Error("invalid point");else return this.point(this.zero,y)}var x=x2.redSqrt();if(x.redSqr().redSub(x2).cmp(this.zero)!==0)throw new Error("invalid point");if(x.fromRed().isOdd()!==odd)x=x.redNeg();return this.point(x,y)};EdwardsCurve.prototype.validate=function validate(point){if(point.isInfinity())return true;point.normalize();var x2=point.x.redSqr();var y2=point.y.redSqr();var lhs=x2.redMul(this.a).redAdd(y2);var rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return lhs.cmp(rhs)===0};function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective");if(x===null&&y===null&&z===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=z?new BN(z,16):this.curve.one;this.t=t&&new BN(t,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}inherits(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};EdwardsCurve.prototype.point=function point(x,y,z,t){return new Point(this,x,y,z,t)};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function _extDbl(){var a=this.x.redSqr();var b=this.y.redSqr();var c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a);var e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);var g=d.redAdd(b);var f=g.redSub(c);var h=d.redSub(b);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projDbl=function _projDbl(){var b=this.x.redAdd(this.y).redSqr();var c=this.x.redSqr();var d=this.y.redSqr();var nx;var ny;var nz;if(this.curve.twisted){var e=this.curve._mulA(c);var f=e.redAdd(d);if(this.zOne){nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));ny=f.redMul(e.redSub(d));nz=f.redSqr().redSub(f).redSub(f)}else{var h=this.z.redSqr();var j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j);ny=f.redMul(e.redSub(d));nz=f.redMul(j)}}else{var e=c.redAdd(d);var h=this.curve._mulC(this.z).redSqr();var j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j);ny=this.curve._mulC(e).redMul(c.redISub(d));nz=e.redMul(j)}return this.curve.point(nx,ny,nz)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x));var b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));var c=this.t.redMul(this.curve.dd).redMul(p.t);var d=this.z.redMul(p.z.redAdd(p.z));var e=b.redSub(a);var f=d.redSub(c);var g=d.redAdd(c);var h=b.redAdd(a);var nx=e.redMul(f);var ny=g.redMul(h);var nt=e.redMul(h);var nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)};Point.prototype._projAdd=function _projAdd(p){var a=this.z.redMul(p.z);var b=a.redSqr();var c=this.x.redMul(p.x);var d=this.y.redMul(p.y);var e=this.curve.d.redMul(c).redMul(d);var f=b.redSub(e);var g=b.redAdd(e);var tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);var nx=a.redMul(f).redMul(tmp);var ny;var nz;if(this.curve.twisted){ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));nz=f.redMul(g)}else{ny=a.redMul(g).redMul(d.redSub(c));nz=this.curve._mulC(f).redMul(g)}return this.curve.point(nx,ny,nz)};Point.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;if(this.curve.extended)return this._extAdd(p);else return this._projAdd(p)};Point.prototype.mul=function mul(k){if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,false)};Point.prototype.jmulAdd=function jmulAdd(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var zi=this.z.redInvm();this.x=this.x.redMul(zi);this.y=this.y.redMul(zi);if(this.t)this.t=this.t.redMul(zi);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(other){return this===other||this.getX().cmp(other.getX())===0&&this.getY().cmp(other.getY())===0};Point.prototype.eqXToP=function eqXToP(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(this.z);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},{"../utils":117,"./base":104,"bn.js":48,inherits:137}],106:[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base");curve.short=require("./short");curve.mont=require("./mont");curve.edwards=require("./edwards")},{"./base":104,"./edwards":105,"./mont":107,"./short":108}],107:[function(require,module,exports){"use strict";var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var utils=require("../utils");function MontCurve(conf){Base.call(this,"mont",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.i4=new BN(4).toRed(this.red).redInvm();this.two=new BN(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits(MontCurve,Base);module.exports=MontCurve;MontCurve.prototype.validate=function validate(point){var x=point.normalize().x;var x2=x.redSqr();var rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);var y=rhs.redSqrt();return y.redSqr().cmp(rhs)===0};function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective");if(x===null&&z===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new BN(x,16);this.z=new BN(z,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}inherits(Point,Base.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(bytes,enc){return this.point(utils.toArray(bytes,enc),1)};MontCurve.prototype.point=function point(x,z){return new Point(this,x,z)};MontCurve.prototype.pointFromJSON=function pointFromJSON(obj){return Point.fromJSON(this,obj)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var a=this.x.redAdd(this.z);var aa=a.redSqr();var b=this.x.redSub(this.z);var bb=b.redSqr();var c=aa.redSub(bb);var nx=aa.redMul(bb);var nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(p,diff){var a=this.x.redAdd(this.z);var b=this.x.redSub(this.z);var c=p.x.redAdd(p.z);var d=p.x.redSub(p.z);var da=d.redMul(a);var cb=c.redMul(b);var nx=diff.z.redMul(da.redAdd(cb).redSqr());var nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)};Point.prototype.mul=function mul(k){var t=k.clone();var a=this;var b=this.curve.point(null,null);var c=this;for(var bits=[];t.cmpn(0)!==0;t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--){if(bits[i]===0){a=a.diffAdd(b,c);b=b.dbl()}else{b=a.diffAdd(b,c);a=a.dbl()}}return b};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(other){return this.getX().cmp(other.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},{"../utils":117,"./base":104,"bn.js":48,inherits:137}],108:[function(require,module,exports){"use strict";var utils=require("../utils");var BN=require("bn.js");var inherits=require("inherits");var Base=require("./base");var assert=utils.assert;function ShortCurve(conf){Base.call(this,"short",conf);this.a=new BN(conf.a,16).toRed(this.red);this.b=new BN(conf.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(conf);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}inherits(ShortCurve,Base);module.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(conf){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var beta;var lambda;if(conf.beta){beta=new BN(conf.beta,16).toRed(this.red)}else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1];beta=beta.toRed(this.red)}if(conf.lambda){lambda=new BN(conf.lambda,16)}else{var lambdas=this._getEndoRoots(this.n);if(this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))===0){lambda=lambdas[0]}else{lambda=lambdas[1];assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))===0)}}var basis;if(conf.basis){basis=conf.basis.map((function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}))}else{basis=this._getEndoBasis(lambda)}return{beta:beta,lambda:lambda,basis:basis}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(num){var red=num===this.p?this.red:BN.mont(num);var tinv=new BN(2).toRed(red).redInvm();var ntinv=tinv.redNeg();var s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);var l1=ntinv.redAdd(s).fromRed();var l2=ntinv.redSub(s).fromRed();return[l1,l2]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(lambda){var aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2));var u=lambda;var v=this.n.clone();var x1=new BN(1);var y1=new BN(0);var x2=new BN(0);var y2=new BN(1);var a0;var b0;var a1;var b1;var a2;var b2;var prevR;var i=0;var r;var x;while(u.cmpn(0)!==0){var q=v.div(u);r=v.sub(q.mul(u));x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0){a0=prevR.neg();b0=x1;a1=r.neg();b1=x}else if(a1&&++i===2){break}prevR=r;v=u;u=r;x2=x1;x1=x;y2=y1;y1=y}a2=r.neg();b2=x;var len1=a1.sqr().add(b1.sqr());var len2=a2.sqr().add(b2.sqr());if(len2.cmp(len1)>=0){a2=a0;b2=b0}if(a1.negative){a1=a1.neg();b1=b1.neg()}if(a2.negative){a2=a2.neg();b2=b2.neg()}return[{a:a1,b:b1},{a:a2,b:b2}]};ShortCurve.prototype._endoSplit=function _endoSplit(k){var basis=this.endo.basis;var v1=basis[0];var v2=basis[1];var c1=v2.b.mul(k).divRound(this.n);var c2=v1.b.neg().mul(k).divRound(this.n);var p1=c1.mul(v1.a);var p2=c2.mul(v2.a);var q1=c1.mul(v1.b);var q2=c2.mul(v2.b);var k1=k.sub(p1).sub(p2);var k2=q1.add(q2).neg();return{k1:k1,k2:k2}};ShortCurve.prototype.pointFromX=function pointFromX(x,odd){x=new BN(x,16);if(!x.red)x=x.toRed(this.red);var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);var y=y2.redSqrt();if(y.redSqr().redSub(y2).cmp(this.zero)!==0)throw new Error("invalid point");var isOdd=y.fromRed().isOdd();if(odd&&!isOdd||!odd&&isOdd)y=y.redNeg();return this.point(x,y)};ShortCurve.prototype.validate=function validate(point){if(point.inf)return true;var x=point.x;var y=point.y;var ax=this.a.redMul(x);var rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return y.redSqr().redISub(rhs).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(points,coeffs,jacobianResult){var npoints=this._endoWnafT1;var ncoeffs=this._endoWnafT2;for(var i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]);var p=points[i];var beta=p._getBeta();if(split.k1.negative){split.k1.ineg();p=p.neg(true)}if(split.k2.negative){split.k2.ineg();beta=beta.neg(true)}npoints[i*2]=p;npoints[i*2+1]=beta;ncoeffs[i*2]=split.k1;ncoeffs[i*2+1]=split.k2}var res=this._wnafMulAdd(1,npoints,ncoeffs,i*2,jacobianResult);for(var j=0;j<i*2;j++){npoints[j]=null;ncoeffs[j]=null}return res};function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine");if(x===null&&y===null){this.x=null;this.y=null;this.inf=true}else{this.x=new BN(x,16);this.y=new BN(y,16);if(isRed){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}inherits(Point,Base.BasePoint);ShortCurve.prototype.point=function point(x,y,isRed){return new Point(this,x,y,isRed)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(obj,red){return Point.fromJSON(this,obj,red)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;var endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta;beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(curve,obj,red){if(typeof obj==="string")obj=JSON.parse(obj);var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}};return res};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var c=this.y.redSub(p.y);if(c.cmpn(0)!==0)c=c.redMul(this.x.redSub(p.x).redInvm());var nx=c.redSqr().redISub(this.x).redISub(p.x);var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(ys1.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a;var x2=this.x.redSqr();var dyinv=ys1.redInvm();var c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);var nx=c.redSqr().redISub(this.x.redAdd(this.x));var ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(k){k=new BN(k,16);if(this.isInfinity())return this;else if(this._hasDoubles(k))return this.curve._fixedNafMul(this,k);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[k]);else return this.curve._wnafMul(this,k)};Point.prototype.mulAdd=function mulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs);else return this.curve._wnafMulAdd(1,points,coeffs,2)};Point.prototype.jmulAdd=function jmulAdd(k1,p2,k2){var points=[this,p2];var coeffs=[k1,k2];if(this.curve.endo)return this.curve._endoWnafMulAdd(points,coeffs,true);else return this.curve._wnafMulAdd(1,points,coeffs,2,true)};Point.prototype.eq=function eq(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)};Point.prototype.neg=function neg(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;var negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res};function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian");if(x===null&&y===null&&z===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new BN(0)}else{this.x=new BN(x,16);this.y=new BN(y,16);this.z=new BN(z,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}inherits(JPoint,Base.BasePoint);ShortCurve.prototype.jpoint=function jpoint(x,y,z){return new JPoint(this,x,y,z)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm();var zinv2=zinv.redSqr();var ax=this.x.redMul(zinv2);var ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr();var z2=this.z.redSqr();var u1=this.x.redMul(pz2);var u2=p.x.redMul(z2);var s1=this.y.redMul(pz2.redMul(p.z));var s2=p.y.redMul(z2.redMul(this.z));var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mixedAdd=function mixedAdd(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr();var u1=this.x;var u2=p.x.redMul(z2);var s1=this.y;var s2=p.y.redMul(z2).redMul(this.z);var h=u1.redSub(u2);var r=s1.redSub(s2);if(h.cmpn(0)===0){if(r.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var h2=h.redSqr();var h3=h2.redMul(h);var v=u1.redMul(h2);var nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v);var ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));var nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.dblp=function dblp(pow){if(pow===0)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var r=this;for(var i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a;var tinv=this.curve.tinv;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jyd=jy.redAdd(jy);for(var i=0;i<pow;i++){var jx2=jx.redSqr();var jyd2=jyd.redSqr();var jyd4=jyd2.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var t1=jx.redMul(jyd2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);if(i+1<pow)jz4=jz4.redMul(jyd4);jx=nx;jz=nz;jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx);var t=m.redSqr().redISub(s).redISub(s);var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);nx=t;ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr();var b=this.y.redSqr();var c=b.redSqr();var d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a);var f=e.redSqr();var c8=c.redIAdd(c);c8=c8.redIAdd(c8);c8=c8.redIAdd(c8);nx=f.redISub(d).redISub(d);ny=e.redMul(d.redISub(nx)).redISub(c8);nz=this.y.redMul(this.z);nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._threeDbl=function _threeDbl(){var nx;var ny;var nz;if(this.zOne){var xx=this.x.redSqr();var yy=this.y.redSqr();var yyyy=yy.redSqr();var s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);var t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8);yyyy8=yyyy8.redIAdd(yyyy8);ny=m.redMul(s.redISub(t)).redISub(yyyy8);nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr();var gamma=this.y.redSqr();var beta=this.x.redMul(gamma);var alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8);nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ggamma8=ggamma8.redIAdd(ggamma8);ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)};JPoint.prototype._dbl=function _dbl(){var a=this.curve.a;var jx=this.x;var jy=this.y;var jz=this.z;var jz4=jz.redSqr().redSqr();var jx2=jx.redSqr();var jy2=jy.redSqr();var c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));var jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2);var nx=c.redSqr().redISub(t1.redAdd(t1));var t2=t1.redISub(nx);var jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8);var nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr();var yy=this.y.redSqr();var zz=this.z.redSqr();var yyyy=yy.redSqr();var m=xx.redAdd(xx).redIAdd(xx);var mm=m.redSqr();var e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e);e=e.redAdd(e).redIAdd(e);e=e.redISub(mm);var ee=e.redSqr();var t=yyyy.redIAdd(yyyy);t=t.redIAdd(t);t=t.redIAdd(t);t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);var yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4);yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx);nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)};JPoint.prototype.mul=function mul(k,kbase){k=new BN(k,kbase);return this.curve._wnafMul(this,k)};JPoint.prototype.eq=function eq(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return true;var z2=this.z.redSqr();var pz2=p.z.redSqr();if(this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0)!==0)return false;var z3=z2.redMul(this.z);var pz3=pz2.redMul(p.z);return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(x){var zs=this.z.redSqr();var rx=x.toRed(this.curve.red).redMul(zs);if(this.x.cmp(rx)===0)return true;var xc=x.clone();var t=this.curve.redN.redMul(zs);for(;;){xc.iadd(this.curve.n);if(xc.cmp(this.curve.p)>=0)return false;rx.redIAdd(t);if(this.x.cmp(rx)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},{"../utils":117,"./base":104,"bn.js":48,inherits:137}],109:[function(require,module,exports){"use strict";var curves=exports;var hash=require("hash.js");var curve=require("./curve");var utils=require("./utils");var assert=utils.assert;function PresetCurve(options){if(options.type==="short")this.curve=new curve.short(options);else if(options.type==="edwards")this.curve=new curve.edwards(options);else this.curve=new curve.mont(options);this.g=this.curve.g;this.n=this.curve.n;this.hash=options.hash;assert(this.g.validate(),"Invalid curve");assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}curves.PresetCurve=PresetCurve;function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:true,enumerable:true,get:function(){var curve=new PresetCurve(options);Object.defineProperty(curves,name,{configurable:true,enumerable:true,value:curve});return curve}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"./curve":106,"./precomputed/secp256k1":116,"./utils":117,"hash.js":123}],110:[function(require,module,exports){"use strict";var BN=require("bn.js");var HmacDRBG=require("hmac-drbg");var utils=require("../utils");var curves=require("../curves");var rand=require("brorand");var assert=utils.assert;var KeyPair=require("./key");var Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);if(typeof options==="string"){assert(curves.hasOwnProperty(options),"Unknown curve "+options);options=curves[options]}if(options instanceof curves.PresetCurve)options={curve:options};this.curve=options.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=options.curve.g;this.g.precompute(options.curve.n.bitLength()+1);this.hash=options.hash||options.curve.hash}module.exports=EC;EC.prototype.keyPair=function keyPair(options){return new KeyPair(this,options)};EC.prototype.keyFromPrivate=function keyFromPrivate(priv,enc){return KeyPair.fromPrivate(this,priv,enc)};EC.prototype.keyFromPublic=function keyFromPublic(pub,enc){return KeyPair.fromPublic(this,pub,enc)};EC.prototype.genKeyPair=function genKeyPair(options){if(!options)options={};var drbg=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()});var bytes=this.n.byteLength();var ns2=this.n.sub(new BN(2));do{var priv=new BN(drbg.generate(bytes));if(priv.cmp(ns2)>0)continue;priv.iaddn(1);return this.keyFromPrivate(priv)}while(true)};EC.prototype._truncateToN=function truncateToN(msg,truncOnly){var delta=msg.byteLength()*8-this.n.bitLength();if(delta>0)msg=msg.ushrn(delta);if(!truncOnly&&msg.cmp(this.n)>=0)return msg.sub(this.n);else return msg};EC.prototype.sign=function sign(msg,key,enc,options){if(typeof enc==="object"){options=enc;enc=null}if(!options)options={};key=this.keyFromPrivate(key,enc);msg=this._truncateToN(new BN(msg,16));var bytes=this.n.byteLength();var bkey=key.getPrivate().toArray("be",bytes);var nonce=msg.toArray("be",bytes);var drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"});var ns1=this.n.sub(new BN(1));for(var iter=0;true;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));k=this._truncateToN(k,true);if(k.cmpn(1)<=0||k.cmp(ns1)>=0)continue;var kp=this.g.mul(k);if(kp.isInfinity())continue;var kpX=kp.getX();var r=kpX.umod(this.n);if(r.cmpn(0)===0)continue;var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));s=s.umod(this.n);if(s.cmpn(0)===0)continue;var recoveryParam=(kp.getY().isOdd()?1:0)|(kpX.cmp(r)!==0?2:0);if(options.canonical&&s.cmp(this.nh)>0){s=this.n.sub(s);recoveryParam^=1}return new Signature({r:r,s:s,recoveryParam:recoveryParam})}};EC.prototype.verify=function verify(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16));key=this.keyFromPublic(key,enc);signature=new Signature(signature,"hex");var r=signature.r;var s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return false;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return false;var sinv=s.invm(this.n);var u1=sinv.mul(msg).umod(this.n);var u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.getX().umod(this.n).cmp(r)===0}var p=this.g.jmulAdd(u1,key.getPublic(),u2);if(p.isInfinity())return false;return p.eqXToP(r)};EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits");signature=new Signature(signature,enc);var n=this.n;var e=new BN(msg);var r=signature.r;var s=signature.s;var isYOdd=j&1;var isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");if(isSecondKey)r=this.curve.pointFromX(r.add(this.curve.n),isYOdd);else r=this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n);var s1=n.sub(e).mul(rInv).umod(n);var s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)};EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){signature=new Signature(signature,enc);if(signature.recoveryParam!==null)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../curves":109,"../utils":117,"./key":111,"./signature":112,"bn.js":48,brorand:49,"hmac-drbg":135}],111:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;function KeyPair(ec,options){this.ec=ec;this.priv=null;this.pub=null;if(options.priv)this._importPrivate(options.priv,options.privEnc);if(options.pub)this._importPublic(options.pub,options.pubEnc)}module.exports=KeyPair;KeyPair.fromPublic=function fromPublic(ec,pub,enc){if(pub instanceof KeyPair)return pub;return new KeyPair(ec,{pub:pub,pubEnc:enc})};KeyPair.fromPrivate=function fromPrivate(ec,priv,enc){if(priv instanceof KeyPair)return priv;return new KeyPair(ec,{priv:priv,privEnc:enc})};KeyPair.prototype.validate=function validate(){var pub=this.getPublic();if(pub.isInfinity())return{result:false,reason:"Invalid public key"};if(!pub.validate())return{result:false,reason:"Public key is not a point"};if(!pub.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(compact,enc){if(typeof compact==="string"){enc=compact;compact=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!enc)return this.pub;return this.pub.encode(enc,compact)};KeyPair.prototype.getPrivate=function getPrivate(enc){if(enc==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(key,enc){this.priv=new BN(key,enc||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(key,enc){if(key.x||key.y){if(this.ec.curve.type==="mont"){assert(key.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){assert(key.x&&key.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(key.x,key.y);return}this.pub=this.ec.curve.decodePoint(key,enc)};KeyPair.prototype.derive=function derive(pub){return pub.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(msg,enc,options){return this.ec.sign(msg,this,enc,options)};KeyPair.prototype.verify=function verify(msg,signature){return this.ec.verify(msg,signature,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":117,"bn.js":48}],112:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;if(this._importDER(options,enc))return;assert(options.r&&options.s,"Signature without r or s");this.r=new BN(options.r,16);this.s=new BN(options.s,16);if(options.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=options.recoveryParam}module.exports=Signature;function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(initial&128)){return initial}var octetLen=initial&15;var val=0;for(var i=0,off=p.place;i<octetLen;i++,off++){val<<=8;val|=buf[off]}p.place=off;return val}function rmPadding(buf){var i=0;var len=buf.length-1;while(!buf[i]&&!(buf[i+1]&128)&&i<len){i++}if(i===0){return buf}return buf.slice(i)}Signature.prototype._importDER=function _importDER(data,enc){data=utils.toArray(data,enc);var p=new Position;if(data[p.place++]!==48){return false}var len=getLength(data,p);if(len+p.place!==data.length){return false}if(data[p.place++]!==2){return false}var rlen=getLength(data,p);var r=data.slice(p.place,rlen+p.place);p.place+=rlen;if(data[p.place++]!==2){return false}var slen=getLength(data,p);if(data.length!==slen+p.place){return false}var s=data.slice(p.place,slen+p.place);if(r[0]===0&&r[1]&128){r=r.slice(1)}if(s[0]===0&&s[1]&128){s=s.slice(1)}this.r=new BN(r);this.s=new BN(s);this.recoveryParam=null;return true};function constructLength(arr,len){if(len<128){arr.push(len);return}var octets=1+(Math.log(len)/Math.LN2>>>3);arr.push(octets|128);while(--octets){arr.push(len>>>(octets<<3)&255)}arr.push(len)}Signature.prototype.toDER=function toDER(enc){var r=this.r.toArray();var s=this.s.toArray();if(r[0]&128)r=[0].concat(r);if(s[0]&128)s=[0].concat(s);r=rmPadding(r);s=rmPadding(s);while(!s[0]&&!(s[1]&128)){s=s.slice(1)}var arr=[2];constructLength(arr,r.length);arr=arr.concat(r);arr.push(2);constructLength(arr,s.length);var backHalf=arr.concat(s);var res=[48];constructLength(res,backHalf.length);res=res.concat(backHalf);return utils.encode(res,enc)}},{"../utils":117,"bn.js":48}],113:[function(require,module,exports){"use strict";var hash=require("hash.js");var curves=require("../curves");var utils=require("../utils");var assert=utils.assert;var parseBytes=utils.parseBytes;var KeyPair=require("./key");var Signature=require("./signature");function EDDSA(curve){assert(curve==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(curve);var curve=curves[curve].curve;this.curve=curve;this.g=curve.g;this.g.precompute(curve.n.bitLength()+1);this.pointClass=curve.point().constructor;this.encodingLength=Math.ceil(curve.n.bitLength()/8);this.hash=hash.sha512}module.exports=EDDSA;EDDSA.prototype.sign=function sign(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret);var r=this.hashInt(key.messagePrefix(),message);var R=this.g.mul(r);var Rencoded=this.encodePoint(R);var s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv());var S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})};EDDSA.prototype.verify=function verify(message,sig,pub){message=parseBytes(message);sig=this.makeSignature(sig);var key=this.keyFromPublic(pub);var h=this.hashInt(sig.Rencoded(),key.pubBytes(),message);var SG=this.g.mul(sig.S());var RplusAh=sig.R().add(key.pub().mul(h));return RplusAh.eq(SG)};EDDSA.prototype.hashInt=function hashInt(){var hash=this.hash();for(var i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(pub){return KeyPair.fromPublic(this,pub)};EDDSA.prototype.keyFromSecret=function keyFromSecret(secret){return KeyPair.fromSecret(this,secret)};EDDSA.prototype.makeSignature=function makeSignature(sig){if(sig instanceof Signature)return sig;return new Signature(this,sig)};EDDSA.prototype.encodePoint=function encodePoint(point){var enc=point.getY().toArray("le",this.encodingLength);enc[this.encodingLength-1]|=point.getX().isOdd()?128:0;return enc};EDDSA.prototype.decodePoint=function decodePoint(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1;var normed=bytes.slice(0,lastIx).concat(bytes[lastIx]&~128);var xIsOdd=(bytes[lastIx]&128)!==0;var y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)};EDDSA.prototype.encodeInt=function encodeInt(num){return num.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(bytes){return utils.intFromLE(bytes)};EDDSA.prototype.isPoint=function isPoint(val){return val instanceof this.pointClass}},{"../curves":109,"../utils":117,"./key":114,"./signature":115,"hash.js":123}],114:[function(require,module,exports){"use strict";var utils=require("../utils");var assert=utils.assert;var parseBytes=utils.parseBytes;var cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa;this._secret=parseBytes(params.secret);if(eddsa.isPoint(params.pub))this._pub=params.pub;else this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function fromPublic(eddsa,pub){if(pub instanceof KeyPair)return pub;return new KeyPair(eddsa,{pub:pub})};KeyPair.fromSecret=function fromSecret(eddsa,secret){if(secret instanceof KeyPair)return secret;return new KeyPair(eddsa,{secret:secret})};KeyPair.prototype.secret=function secret(){return this._secret};cachedProperty(KeyPair,"pubBytes",(function pubBytes(){return this.eddsa.encodePoint(this.pub())}));cachedProperty(KeyPair,"pub",(function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())}));cachedProperty(KeyPair,"privBytes",(function privBytes(){var eddsa=this.eddsa;var hash=this.hash();var lastIx=eddsa.encodingLength-1;var a=hash.slice(0,eddsa.encodingLength);a[0]&=248;a[lastIx]&=127;a[lastIx]|=64;return a}));cachedProperty(KeyPair,"priv",(function priv(){return this.eddsa.decodeInt(this.privBytes())}));cachedProperty(KeyPair,"hash",(function hash(){return this.eddsa.hash().update(this.secret()).digest()}));cachedProperty(KeyPair,"messagePrefix",(function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)}));KeyPair.prototype.sign=function sign(message){assert(this._secret,"KeyPair can only verify");return this.eddsa.sign(message,this)};KeyPair.prototype.verify=function verify(message,sig){return this.eddsa.verify(message,sig,this)};KeyPair.prototype.getSecret=function getSecret(enc){assert(this._secret,"KeyPair is public only");return utils.encode(this.secret(),enc)};KeyPair.prototype.getPublic=function getPublic(enc){return utils.encode(this.pubBytes(),enc)};module.exports=KeyPair},{"../utils":117}],115:[function(require,module,exports){"use strict";var BN=require("bn.js");var utils=require("../utils");var assert=utils.assert;var cachedProperty=utils.cachedProperty;var parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa;if(typeof sig!=="object")sig=parseBytes(sig);if(Array.isArray(sig)){sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}}assert(sig.R&&sig.S,"Signature without R or S");if(eddsa.isPoint(sig.R))this._R=sig.R;if(sig.S instanceof BN)this._S=sig.S;this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded;this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,"S",(function S(){return this.eddsa.decodeInt(this.Sencoded())}));cachedProperty(Signature,"R",(function R(){return this.eddsa.decodePoint(this.Rencoded())}));cachedProperty(Signature,"Rencoded",(function Rencoded(){return this.eddsa.encodePoint(this.R())}));cachedProperty(Signature,"Sencoded",(function Sencoded(){return this.eddsa.encodeInt(this.S())}));Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return utils.encode(this.toBytes(),"hex").toUpperCase()};module.exports=Signature},{"../utils":117,"bn.js":48}],116:[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],117:[function(require,module,exports){"use strict";var utils=exports;var BN=require("bn.js");var minAssert=require("minimalistic-assert");var minUtils=require("minimalistic-crypto-utils");utils.assert=minAssert;utils.toArray=minUtils.toArray;utils.zero2=minUtils.zero2;utils.toHex=minUtils.toHex;utils.encode=minUtils.encode;function getNAF(num,w){var naf=[];var ws=1<<w+1;var k=num.clone();while(k.cmpn(1)>=0){var z;if(k.isOdd()){var mod=k.andln(ws-1);if(mod>(ws>>1)-1)z=(ws>>1)-mod;else z=mod;k.isubn(z)}else{z=0}naf.push(z);var shift=k.cmpn(0)!==0&&k.andln(ws-1)===0?w+1:1;for(var i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}utils.getNAF=getNAF;function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone();k2=k2.clone();var d1=0;var d2=0;while(k1.cmpn(-d1)>0||k2.cmpn(-d2)>0){var m14=k1.andln(3)+d1&3;var m24=k2.andln(3)+d2&3;if(m14===3)m14=-1;if(m24===3)m24=-1;var u1;if((m14&1)===0){u1=0}else{var m8=k1.andln(7)+d1&7;if((m8===3||m8===5)&&m24===2)u1=-m14;else u1=m14}jsf[0].push(u1);var u2;if((m24&1)===0){u2=0}else{var m8=k2.andln(7)+d2&7;if((m8===3||m8===5)&&m14===2)u2=-m24;else u2=m24}jsf[1].push(u2);if(2*d1===u1+1)d1=1-d1;if(2*d2===u2+1)d2=1-d2;k1.iushrn(1);k2.iushrn(1)}return jsf}utils.getJSF=getJSF;function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function cachedProperty(){return this[key]!==undefined?this[key]:this[key]=computer.call(this)}}utils.cachedProperty=cachedProperty;function parseBytes(bytes){return typeof bytes==="string"?utils.toArray(bytes,"hex"):bytes}utils.parseBytes=parseBytes;function intFromLE(bytes){return new BN(bytes,"hex","le")}utils.intFromLE=intFromLE},{"bn.js":48,"minimalistic-assert":143,"minimalistic-crypto-utils":144}],118:[function(require,module,exports){module.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.5.1",_inBundle:false,_integrity:"sha512-xvJINNLbTeWQjrl6X+7eQCrIy/YPv5XCpKW6kB5mKvtnGILoLDcySuwomfdzt0BMdLNVnuRNTuzKNHj0bva1Cg==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:true,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.1.tgz",_shasum:"c380f5f909bf1b9b4428d028cd18d3b0efd6b52b",_spec:"elliptic@^6.0.0",_where:"/Users/sebastiangurin/git/magica/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:false,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:false,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.4",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.6.0",mocha:"^6.1.4"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.1"}},{}],119:[function(require,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}if(Object.create){Events.prototype=Object.create(null);if(!(new Events).__proto__)prefix=false}function EE(fn,context,once){this.fn=fn;this.context=context;this.once=once||false}function addListener(emitter,event,fn,context,once){if(typeof fn!=="function"){throw new TypeError("The listener must be a function")}var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;if(!emitter._events[evt])emitter._events[evt]=listener,emitter._eventsCount++;else if(!emitter._events[evt].fn)emitter._events[evt].push(listener);else emitter._events[evt]=[emitter._events[evt],listener];return emitter}function clearEvent(emitter,evt){if(--emitter._eventsCount===0)emitter._events=new Events;else delete emitter._events[evt]}function EventEmitter(){this._events=new Events;this._eventsCount=0}EventEmitter.prototype.eventNames=function eventNames(){var names=[],events,name;if(this._eventsCount===0)return names;for(name in events=this._events){if(has.call(events,name))names.push(prefix?name.slice(1):name)}if(Object.getOwnPropertySymbols){return names.concat(Object.getOwnPropertySymbols(events))}return names};EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++){ee[i]=handlers[i].fn}return ee};EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];if(!listeners)return 0;if(listeners.fn)return 1;return listeners.length};EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return false;var listeners=this._events[evt],len=arguments.length,args,i;if(listeners.fn){if(listeners.once)this.removeListener(event,listeners.fn,undefined,true);switch(len){case 1:return listeners.fn.call(listeners.context),true;case 2:return listeners.fn.call(listeners.context,a1),true;case 3:return listeners.fn.call(listeners.context,a1,a2),true;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),true;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),true;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),true}for(i=1,args=new Array(len-1);i<len;i++){args[i-1]=arguments[i]}listeners.fn.apply(listeners.context,args)}else{var length=listeners.length,j;for(i=0;i<length;i++){if(listeners[i].once)this.removeListener(event,listeners[i].fn,undefined,true);switch(len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++){args[j-1]=arguments[j]}listeners[i].fn.apply(listeners[i].context,args)}}}return true};EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,false)};EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,true)};EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn){clearEvent(this,evt);return this}var listeners=this._events[evt];if(listeners.fn){if(listeners.fn===fn&&(!once||listeners.once)&&(!context||listeners.context===context)){clearEvent(this,evt)}}else{for(var i=0,events=[],length=listeners.length;i<length;i++){if(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context){events.push(listeners[i])}}if(events.length)this._events[evt]=events.length===1?events[0]:events;else clearEvent(this,evt)}return this};EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;if(event){evt=prefix?prefix+event:event;if(this._events[evt])clearEvent(this,evt)}else{this._events=new Events;this._eventsCount=0}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prefixed=prefix;EventEmitter.EventEmitter=EventEmitter;if("undefined"!==typeof module){module.exports=EventEmitter}},{}],120:[function(require,module,exports){var objectCreate=Object.create||objectCreatePolyfill;var objectKeys=Object.keys||objectKeysPolyfill;var bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){if(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events")){this._events=objectCreate(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;var hasDefineProperty;try{var o={};if(Object.defineProperty)Object.defineProperty(o,"x",{value:0});hasDefineProperty=o.x===0}catch(err){hasDefineProperty=false}if(hasDefineProperty){Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||arg!==arg)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=arg}})}else{EventEmitter.defaultMaxListeners=defaultMaxListeners}EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||isNaN(n))throw new TypeError('"n" argument must be a positive number');this._maxListeners=n;return this};function $getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)};function emitNone(handler,isFn,self){if(isFn)handler.call(self);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self)}}function emitOne(handler,isFn,self,arg1){if(isFn)handler.call(self,arg1);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1)}}function emitTwo(handler,isFn,self,arg1,arg2){if(isFn)handler.call(self,arg1,arg2);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2)}}function emitThree(handler,isFn,self,arg1,arg2,arg3){if(isFn)handler.call(self,arg1,arg2,arg3);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2,arg3)}}function emitMany(handler,isFn,self,args){if(isFn)handler.apply(self,args);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].apply(self,args)}}EventEmitter.prototype.emit=function emit(type){var er,handler,len,args,i,events;var doError=type==="error";events=this._events;if(events)doError=doError&&events.error==null;else if(!doError)return false;if(doError){if(arguments.length>1)er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Unhandled "error" event. ('+er+")");err.context=er;throw err}return false}handler=events[type];if(!handler)return false;var isFn=typeof handler==="function";len=arguments.length;switch(len){case 1:emitNone(handler,isFn,this);break;case 2:emitOne(handler,isFn,this,arguments[1]);break;case 3:emitTwo(handler,isFn,this,arguments[1],arguments[2]);break;case 4:emitThree(handler,isFn,this,arguments[1],arguments[2],arguments[3]);break;default:args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];emitMany(handler,isFn,this,args)}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=target._events;if(!events){events=target._events=objectCreate(null);target._eventsCount=0}else{if(events.newListener){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(!existing){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else{if(prepend){existing.unshift(listener)}else{existing.push(listener)}}if(!existing.warned){m=$getMaxListeners(target);if(m&&m>0&&existing.length>m){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+' "'+String(type)+'" listeners '+"added. Use emitter.setMaxListeners() to "+"increase limit.");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;if(typeof console==="object"&&console.warn){console.warn("%s: %s",w.name,w.message)}}}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;switch(arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:var args=new Array(arguments.length);for(var i=0;i<args.length;++i)args[i]=arguments[i];this.listener.apply(this.target,args)}}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=bind.call(onceWrapper,state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=this._events;if(!events)return this;list=events[type];if(!list)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=objectCreate(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else spliceOne(list,position);if(list.length===1)events[type]=list[0];if(events.removeListener)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(!events)return this;if(!events.removeListener){if(arguments.length===0){this._events=objectCreate(null);this._eventsCount=0}else if(events[type]){if(--this._eventsCount===0)this._events=objectCreate(null);else delete events[type]}return this}if(arguments.length===0){var keys=objectKeys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=objectCreate(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(!events)return[];var evlistener=events[type];if(!evlistener)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}function objectCreatePolyfill(proto){var F=function(){};F.prototype=proto;return new F}function objectKeysPolyfill(obj){var keys=[];for(var k in obj)if(Object.prototype.hasOwnProperty.call(obj,k)){keys.push(k)}return k}function functionBindPolyfill(context){var fn=this;return function(){return fn.apply(context,arguments)}}},{}],121:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;var MD5=require("md5.js");function EVP_BytesToKey(password,salt,keyBits,ivLen){if(!Buffer.isBuffer(password))password=Buffer.from(password,"binary");if(salt){if(!Buffer.isBuffer(salt))salt=Buffer.from(salt,"binary");if(salt.length!==8)throw new RangeError("salt should be Buffer with 8 byte length")}var keyLen=keyBits/8;var key=Buffer.alloc(keyLen);var iv=Buffer.alloc(ivLen||0);var tmp=Buffer.alloc(0);while(keyLen>0||ivLen>0){var hash=new MD5;hash.update(tmp);hash.update(password);if(salt)hash.update(salt);tmp=hash.digest();var used=0;if(keyLen>0){var keyStart=key.length-keyLen;used=Math.min(keyLen,tmp.length);tmp.copy(key,keyStart,0,used);keyLen-=used}if(used<tmp.length&&ivLen>0){var ivStart=iv.length-ivLen;var length=Math.min(ivLen,tmp.length-used);tmp.copy(iv,ivStart,used,used+length);ivLen-=length}}tmp.fill(0);return{key:key,iv:iv}}module.exports=EVP_BytesToKey},{"md5.js":141,"safe-buffer":229}],122:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var Transform=require("stream").Transform;var inherits=require("inherits");function throwIfNotStringOrBuffer(val,prefix){if(!Buffer.isBuffer(val)&&typeof val!=="string"){throw new TypeError(prefix+" must be a string or a buffer")}}function HashBase(blockSize){Transform.call(this);this._block=Buffer.allocUnsafe(blockSize);this._blockSize=blockSize;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}inherits(HashBase,Transform);HashBase.prototype._transform=function(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)};HashBase.prototype._flush=function(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)};HashBase.prototype.update=function(data,encoding){throwIfNotStringOrBuffer(data,"Data");if(this._finalized)throw new Error("Digest already called");if(!Buffer.isBuffer(data))data=Buffer.from(data,encoding);var block=this._block;var offset=0;while(this._blockOffset+data.length-offset>=this._blockSize){for(var i=this._blockOffset;i<this._blockSize;)block[i++]=data[offset++];this._update();this._blockOffset=0}while(offset<data.length)block[this._blockOffset++]=data[offset++];for(var j=0,carry=data.length*8;carry>0;++j){this._length[j]+=carry;carry=this._length[j]/4294967296|0;if(carry>0)this._length[j]-=4294967296*carry}return this};HashBase.prototype._update=function(){throw new Error("_update is not implemented")};HashBase.prototype.digest=function(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var digest=this._digest();if(encoding!==undefined)digest=digest.toString(encoding);this._block.fill(0);this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return digest};HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")};module.exports=HashBase},{inherits:137,"safe-buffer":229,stream:238}],123:[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils");hash.common=require("./hash/common");hash.sha=require("./hash/sha");hash.ripemd=require("./hash/ripemd");hash.hmac=require("./hash/hmac");hash.sha1=hash.sha.sha1;hash.sha256=hash.sha.sha256;hash.sha224=hash.sha.sha224;hash.sha384=hash.sha.sha384;hash.sha512=hash.sha.sha512;hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":124,"./hash/hmac":125,"./hash/ripemd":126,"./hash/sha":127,"./hash/utils":134}],124:[function(require,module,exports){"use strict";var utils=require("./utils");var assert=require("minimalistic-assert");function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}exports.BlockHash=BlockHash;BlockHash.prototype.update=function update(msg,enc){msg=utils.toArray(msg,enc);if(!this.pending)this.pending=msg;else this.pending=this.pending.concat(msg);this.pendingTotal+=msg.length;if(this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length);if(this.pending.length===0)this.pending=null;msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this};BlockHash.prototype.digest=function digest(enc){this.update(this._pad());assert(this.pending===null);return this._digest(enc)};BlockHash.prototype._pad=function pad(){var len=this.pendingTotal;var bytes=this._delta8;var k=bytes-(len+this.padLength)%bytes;var res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;len<<=3;if(this.endian==="big"){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=len>>>24&255;res[i++]=len>>>16&255;res[i++]=len>>>8&255;res[i++]=len&255}else{res[i++]=len&255;res[i++]=len>>>8&255;res[i++]=len>>>16&255;res[i++]=len>>>24&255;res[i++]=0;res[i++]=0;res[i++]=0;res[i++]=0;for(t=8;t<this.padLength;t++)res[i++]=0}return res}},{"./utils":134,"minimalistic-assert":143}],125:[function(require,module,exports){"use strict";var utils=require("./utils");var assert=require("minimalistic-assert");function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash;this.blockSize=hash.blockSize/8;this.outSize=hash.outSize/8;this.inner=null;this.outer=null;this._init(utils.toArray(key,enc))}module.exports=Hmac;Hmac.prototype._init=function init(key){if(key.length>this.blockSize)key=(new this.Hash).update(key).digest();assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)};Hmac.prototype.update=function update(msg,enc){this.inner.update(msg,enc);return this};Hmac.prototype.digest=function digest(enc){this.outer.update(this.inner.digest());return this.outer.digest(enc)}},{"./utils":134,"minimalistic-assert":143}],126:[function(require,module,exports){"use strict";var utils=require("./utils");var common=require("./common");var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_3=utils.sum32_3;var sum32_4=utils.sum32_4;var BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}utils.inherits(RIPEMD160,BlockHash);exports.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(msg,start){var A=this.h[0];var B=this.h[1];var C=this.h[2];var D=this.h[3];var E=this.h[4];var Ah=A;var Bh=B;var Ch=C;var Dh=D;var Eh=E;for(var j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E;E=D;D=rotl32(C,10);C=B;B=T;T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh);Ah=Eh;Eh=Dh;Dh=rotl32(Ch,10);Ch=Bh;Bh=T}T=sum32_3(this.h[1],C,Dh);this.h[1]=sum32_3(this.h[2],D,Eh);this.h[2]=sum32_3(this.h[3],E,Ah);this.h[3]=sum32_3(this.h[4],A,Bh);this.h[4]=sum32_3(this.h[0],B,Ch);this.h[0]=T};RIPEMD160.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"little");else return utils.split32(this.h,"little")};function f(j,x,y,z){if(j<=15)return x^y^z;else if(j<=31)return x&y|~x&z;else if(j<=47)return(x|~y)^z;else if(j<=63)return x&z|y&~z;else return x^(y|~z)}function K(j){if(j<=15)return 0;else if(j<=31)return 1518500249;else if(j<=47)return 1859775393;else if(j<=63)return 2400959708;else return 2840853838}function Kh(j){if(j<=15)return 1352829926;else if(j<=31)return 1548603684;else if(j<=47)return 1836072691;else if(j<=63)return 2053994217;else return 0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":124,"./utils":134}],127:[function(require,module,exports){"use strict";exports.sha1=require("./sha/1");exports.sha224=require("./sha/224");exports.sha256=require("./sha/256");exports.sha384=require("./sha/384");exports.sha512=require("./sha/512")},{"./sha/1":128,"./sha/224":129,"./sha/256":130,"./sha/384":131,"./sha/512":132}],128:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var shaCommon=require("./common");var rotl32=utils.rotl32;var sum32=utils.sum32;var sum32_5=utils.sum32_5;var ft_1=shaCommon.ft_1;var BlockHash=common.BlockHash;var sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}utils.inherits(SHA1,BlockHash);module.exports=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];for(i=0;i<W.length;i++){var s=~~(i/20);var t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d;d=c;c=rotl32(b,30);b=a;a=t}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e)};SHA1.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")}},{"../common":124,"../utils":134,"./common":133}],129:[function(require,module,exports){"use strict";var utils=require("../utils");var SHA256=require("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256);module.exports=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,7),"big");else return utils.split32(this.h.slice(0,7),"big")}},{"../utils":134,"./256":130}],130:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var shaCommon=require("./common");var assert=require("minimalistic-assert");var sum32=utils.sum32;var sum32_4=utils.sum32_4;var sum32_5=utils.sum32_5;var ch32=shaCommon.ch32;var maj32=shaCommon.maj32;var s0_256=shaCommon.s0_256;var s1_256=shaCommon.s1_256;var g0_256=shaCommon.g0_256;var g1_256=shaCommon.g1_256;var BlockHash=common.BlockHash;var sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=sha256_K;this.W=new Array(64)}utils.inherits(SHA256,BlockHash);module.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(msg,start){var W=this.W;for(var i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0];var b=this.h[1];var c=this.h[2];var d=this.h[3];var e=this.h[4];var f=this.h[5];var g=this.h[6];var h=this.h[7];assert(this.k.length===W.length);for(i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]);var T2=sum32(s0_256(a),maj32(a,b,c));h=g;g=f;f=e;e=sum32(d,T1);d=c;c=b;b=a;a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a);this.h[1]=sum32(this.h[1],b);this.h[2]=sum32(this.h[2],c);this.h[3]=sum32(this.h[3],d);this.h[4]=sum32(this.h[4],e);this.h[5]=sum32(this.h[5],f);this.h[6]=sum32(this.h[6],g);this.h[7]=sum32(this.h[7],h)};SHA256.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")}},{"../common":124,"../utils":134,"./common":133,"minimalistic-assert":143}],131:[function(require,module,exports){"use strict";var utils=require("../utils");var SHA512=require("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512);module.exports=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h.slice(0,12),"big");else return utils.split32(this.h.slice(0,12),"big")}},{"../utils":134,"./512":132}],132:[function(require,module,exports){"use strict";var utils=require("../utils");var common=require("../common");var assert=require("minimalistic-assert");var rotr64_hi=utils.rotr64_hi;var rotr64_lo=utils.rotr64_lo;var shr64_hi=utils.shr64_hi;var shr64_lo=utils.shr64_lo;var sum64=utils.sum64;var sum64_hi=utils.sum64_hi;var sum64_lo=utils.sum64_lo;var sum64_4_hi=utils.sum64_4_hi;var sum64_4_lo=utils.sum64_4_lo;var sum64_5_hi=utils.sum64_5_hi;var sum64_5_lo=utils.sum64_5_lo;var BlockHash=common.BlockHash;var sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=sha512_K;this.W=new Array(160)}utils.inherits(SHA512,BlockHash);module.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(msg,start){var W=this.W;for(var i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]);var c0_lo=g1_512_lo(W[i-4],W[i-3]);var c1_hi=W[i-14];var c1_lo=W[i-13];var c2_hi=g0_512_hi(W[i-30],W[i-29]);var c2_lo=g0_512_lo(W[i-30],W[i-29]);var c3_hi=W[i-32];var c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo);W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}};SHA512.prototype._update=function _update(msg,start){this._prepareBlock(msg,start);var W=this.W;var ah=this.h[0];var al=this.h[1];var bh=this.h[2];var bl=this.h[3];var ch=this.h[4];var cl=this.h[5];var dh=this.h[6];var dl=this.h[7];var eh=this.h[8];var el=this.h[9];var fh=this.h[10];var fl=this.h[11];var gh=this.h[12];var gl=this.h[13];var hh=this.h[14];var hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh;var c0_lo=hl;var c1_hi=s1_512_hi(eh,el);var c1_lo=s1_512_lo(eh,el);var c2_hi=ch64_hi(eh,el,fh,fl,gh,gl);var c2_lo=ch64_lo(eh,el,fh,fl,gh,gl);var c3_hi=this.k[i];var c3_lo=this.k[i+1];var c4_hi=W[i];var c4_lo=W[i+1];var T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);var T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);c0_hi=s0_512_hi(ah,al);c0_lo=s0_512_lo(ah,al);c1_hi=maj64_hi(ah,al,bh,bl,ch,cl);c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo);var T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;eh=sum64_hi(dh,dl,T1_hi,T1_lo);el=sum64_lo(dl,dl,T1_hi,T1_lo);dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo);al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al);sum64(this.h,2,bh,bl);sum64(this.h,4,ch,cl);sum64(this.h,6,dh,dl);sum64(this.h,8,eh,el);sum64(this.h,10,fh,fl);sum64(this.h,12,gh,gl);sum64(this.h,14,hh,hl)};SHA512.prototype._digest=function digest(enc){if(enc==="hex")return utils.toHex32(this.h,"big");else return utils.split32(this.h,"big")};function ch64_hi(xh,xl,yh,yl,zh){var r=xh&yh^~xh&zh;if(r<0)r+=4294967296;return r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;if(r<0)r+=4294967296;return r}function maj64_hi(xh,xl,yh,yl,zh){var r=xh&yh^xh&zh^yh&zh;if(r<0)r+=4294967296;return r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;if(r<0)r+=4294967296;return r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28);var c1_hi=rotr64_hi(xl,xh,2);var c2_hi=rotr64_hi(xl,xh,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28);var c1_lo=rotr64_lo(xl,xh,2);var c2_lo=rotr64_lo(xl,xh,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14);var c1_hi=rotr64_hi(xh,xl,18);var c2_hi=rotr64_hi(xl,xh,9);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14);var c1_lo=rotr64_lo(xh,xl,18);var c2_lo=rotr64_lo(xl,xh,9);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1);var c1_hi=rotr64_hi(xh,xl,8);var c2_hi=shr64_hi(xh,xl,7);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1);var c1_lo=rotr64_lo(xh,xl,8);var c2_lo=shr64_lo(xh,xl,7);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19);var c1_hi=rotr64_hi(xl,xh,29);var c2_hi=shr64_hi(xh,xl,6);var r=c0_hi^c1_hi^c2_hi;if(r<0)r+=4294967296;return r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19);var c1_lo=rotr64_lo(xl,xh,29);var c2_lo=shr64_lo(xh,xl,6);var r=c0_lo^c1_lo^c2_lo;if(r<0)r+=4294967296;return r}},{"../common":124,"../utils":134,"minimalistic-assert":143}],133:[function(require,module,exports){"use strict";var utils=require("../utils");var rotr32=utils.rotr32;function ft_1(s,x,y,z){if(s===0)return ch32(x,y,z);if(s===1||s===3)return p32(x,y,z);if(s===2)return maj32(x,y,z)}exports.ft_1=ft_1;function ch32(x,y,z){return x&y^~x&z}exports.ch32=ch32;function maj32(x,y,z){return x&y^x&z^y&z}exports.maj32=maj32;function p32(x,y,z){return x^y^z}exports.p32=p32;function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}exports.s0_256=s0_256;function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}exports.s1_256=s1_256;function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}exports.g0_256=g0_256;function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}exports.g1_256=g1_256},{"../utils":134}],134:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");var inherits=require("inherits");exports.inherits=inherits;function isSurrogatePair(msg,i){if((msg.charCodeAt(i)&64512)!==55296){return false}if(i<0||i+1>=msg.length){return false}return(msg.charCodeAt(i+1)&64512)===56320}function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg==="string"){if(!enc){var p=0;for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);if(c<128){res[p++]=c}else if(c<2048){res[p++]=c>>6|192;res[p++]=c&63|128}else if(isSurrogatePair(msg,i)){c=65536+((c&1023)<<10)+(msg.charCodeAt(++i)&1023);res[p++]=c>>18|240;res[p++]=c>>12&63|128;res[p++]=c>>6&63|128;res[p++]=c&63|128}else{res[p++]=c>>12|224;res[p++]=c>>6&63|128;res[p++]=c&63|128}}}else if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else{for(i=0;i<msg.length;i++)res[i]=msg[i]|0}return res}exports.toArray=toArray;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}exports.toHex=toHex;function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(w&255)<<24;return res>>>0}exports.htonl=htonl;function toHex32(msg,endian){var res="";for(var i=0;i<msg.length;i++){var w=msg[i];if(endian==="little")w=htonl(w);res+=zero8(w.toString(16))}return res}exports.toHex32=toHex32;function zero2(word){if(word.length===1)return"0"+word;else return word}exports.zero2=zero2;function zero8(word){if(word.length===7)return"0"+word;else if(word.length===6)return"00"+word;else if(word.length===5)return"000"+word;else if(word.length===4)return"0000"+word;else if(word.length===3)return"00000"+word;else if(word.length===2)return"000000"+word;else if(word.length===1)return"0000000"+word;else return word}exports.zero8=zero8;function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);var res=new Array(len/4);for(var i=0,k=start;i<res.length;i++,k+=4){var w;if(endian==="big")w=msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3];else w=msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k];res[i]=w>>>0}return res}exports.join32=join32;function split32(msg,endian){var res=new Array(msg.length*4);for(var i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];if(endian==="big"){res[k]=m>>>24;res[k+1]=m>>>16&255;res[k+2]=m>>>8&255;res[k+3]=m&255}else{res[k+3]=m>>>24;res[k+2]=m>>>16&255;res[k+1]=m>>>8&255;res[k]=m&255}}return res}exports.split32=split32;function rotr32(w,b){return w>>>b|w<<32-b}exports.rotr32=rotr32;function rotl32(w,b){return w<<b|w>>>32-b}exports.rotl32=rotl32;function sum32(a,b){return a+b>>>0}exports.sum32=sum32;function sum32_3(a,b,c){return a+b+c>>>0}exports.sum32_3=sum32_3;function sum32_4(a,b,c,d){return a+b+c+d>>>0}exports.sum32_4=sum32_4;function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}exports.sum32_5=sum32_5;function sum64(buf,pos,ah,al){var bh=buf[pos];var bl=buf[pos+1];var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0;buf[pos+1]=lo}exports.sum64=sum64;function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0;var hi=(lo<al?1:0)+ah+bh;return hi>>>0}exports.sum64_hi=sum64_hi;function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}exports.sum64_lo=sum64_lo;function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}exports.sum64_4_hi=sum64_4_hi;function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}exports.sum64_4_lo=sum64_4_lo;function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0;var lo=al;lo=lo+bl>>>0;carry+=lo<al?1:0;lo=lo+cl>>>0;carry+=lo<cl?1:0;lo=lo+dl>>>0;carry+=lo<dl?1:0;lo=lo+el>>>0;carry+=lo<el?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}exports.sum64_5_hi=sum64_5_hi;function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}exports.sum64_5_lo=sum64_5_lo;function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}exports.rotr64_hi=rotr64_hi;function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.rotr64_lo=rotr64_lo;function shr64_hi(ah,al,num){return ah>>>num}exports.shr64_hi=shr64_hi;function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}exports.shr64_lo=shr64_lo},{inherits:137,"minimalistic-assert":143}],135:[function(require,module,exports){"use strict";var hash=require("hash.js");var utils=require("minimalistic-crypto-utils");var assert=require("minimalistic-assert");function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash;this.predResist=!!options.predResist;this.outLen=this.hash.outSize;this.minEntropy=options.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex");var nonce=utils.toArray(options.nonce,options.nonceEnc||"hex");var pers=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(entropy,nonce,pers)}module.exports=HmacDRBG;HmacDRBG.prototype._init=function init(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++){this.K[i]=0;this.V[i]=1}this._update(seed);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new hash.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(seed){var kmac=this._hmac().update(this.V).update([0]);if(seed)kmac=kmac.update(seed);this.K=kmac.digest();this.V=this._hmac().update(this.V).digest();if(!seed)return;this.K=this._hmac().update(this.V).update([1]).update(seed).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(entropy,entropyEnc,add,addEnc){if(typeof entropyEnc!=="string"){addEnc=add;add=entropyEnc;entropyEnc=null}entropy=utils.toArray(entropy,entropyEnc);add=utils.toArray(add,addEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(entropy.concat(add||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof enc!=="string"){addEnc=add;add=enc;enc=null}if(add){add=utils.toArray(add,addEnc||"hex");this._update(add)}var temp=[];while(temp.length<len){this.V=this._hmac().update(this.V).digest();temp=temp.concat(this.V)}var res=temp.slice(0,len);this._update(add);this._reseed++;return utils.encode(res,enc)}},{"hash.js":123,"minimalistic-assert":143,"minimalistic-crypto-utils":144}],136:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],137:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}}else{module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}}},{}],138:[function(require,module,exports){module.exports=function(obj){return obj!=null&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)};function isBuffer(obj){return!!obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return typeof obj.readFloatLE==="function"&&typeof obj.slice==="function"&&isBuffer(obj.slice(0,0))}},{}],139:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],140:[function(require,module,exports){(function(global){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory(global):typeof define==="function"&&define.amd?define(factory):factory(global)})(typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64;var version="2.5.1";var buffer;if(typeof module!=="undefined"&&module.exports){try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=undefined}}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64tab=function(bin){var t={};for(var i=0,l=bin.length;i<l;i++)t[bin.charAt(i)]=i;return t}(b64chars);var fromCharCode=String.fromCharCode;var cb_utob=function(c){if(c.length<2){var cc=c.charCodeAt(0);return cc<128?c:cc<2048?fromCharCode(192|cc>>>6)+fromCharCode(128|cc&63):fromCharCode(224|cc>>>12&15)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|cc&63)}else{var cc=65536+(c.charCodeAt(0)-55296)*1024+(c.charCodeAt(1)-56320);return fromCharCode(240|cc>>>18&7)+fromCharCode(128|cc>>>12&63)+fromCharCode(128|cc>>>6&63)+fromCharCode(128|cc&63)}};var re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var utob=function(u){return u.replace(re_utob,cb_utob)};var cb_encode=function(ccc){var padlen=[0,2,1][ccc.length%3],ord=ccc.charCodeAt(0)<<16|(ccc.length>1?ccc.charCodeAt(1):0)<<8|(ccc.length>2?ccc.charCodeAt(2):0),chars=[b64chars.charAt(ord>>>18),b64chars.charAt(ord>>>12&63),padlen>=2?"=":b64chars.charAt(ord>>>6&63),padlen>=1?"=":b64chars.charAt(ord&63)];return chars.join("")};var btoa=global.btoa?function(b){return global.btoa(b)}:function(b){return b.replace(/[\s\S]{1,3}/g,cb_encode)};var _encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(u){return(u.constructor===buffer.constructor?u:buffer.from(u)).toString("base64")}:function(u){return(u.constructor===buffer.constructor?u:new buffer(u)).toString("base64")}:function(u){return btoa(utob(u))};var encode=function(u,urisafe){return!urisafe?_encode(String(u)):_encode(String(u)).replace(/[+\/]/g,(function(m0){return m0=="+"?"-":"_"})).replace(/=/g,"")};var encodeURI=function(u){return encode(u,true)};var re_btou=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g");var cb_btou=function(cccc){switch(cccc.length){case 4:var cp=(7&cccc.charCodeAt(0))<<18|(63&cccc.charCodeAt(1))<<12|(63&cccc.charCodeAt(2))<<6|63&cccc.charCodeAt(3),offset=cp-65536;return fromCharCode((offset>>>10)+55296)+fromCharCode((offset&1023)+56320);case 3:return fromCharCode((15&cccc.charCodeAt(0))<<12|(63&cccc.charCodeAt(1))<<6|63&cccc.charCodeAt(2));default:return fromCharCode((31&cccc.charCodeAt(0))<<6|63&cccc.charCodeAt(1))}};var btou=function(b){return b.replace(re_btou,cb_btou)};var cb_decode=function(cccc){var len=cccc.length,padlen=len%4,n=(len>0?b64tab[cccc.charAt(0)]<<18:0)|(len>1?b64tab[cccc.charAt(1)]<<12:0)|(len>2?b64tab[cccc.charAt(2)]<<6:0)|(len>3?b64tab[cccc.charAt(3)]:0),chars=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(n&255)];chars.length-=[0,0,2,1][padlen];return chars.join("")};var _atob=global.atob?function(a){return global.atob(a)}:function(a){return a.replace(/\S{1,4}/g,cb_decode)};var atob=function(a){return _atob(String(a).replace(/[^A-Za-z0-9\+\/]/g,""))};var _decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(a){return(a.constructor===buffer.constructor?a:buffer.from(a,"base64")).toString()}:function(a){return(a.constructor===buffer.constructor?a:new buffer(a,"base64")).toString()}:function(a){return btou(_atob(a))};var decode=function(a){return _decode(String(a).replace(/[-_]/g,(function(m0){return m0=="-"?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))};var noConflict=function(){var Base64=global.Base64;global.Base64=_Base64;return Base64};global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer};if(typeof Object.defineProperty==="function"){var noEnum=function(v){return{value:v,enumerable:false,writable:true,configurable:true}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)})));Object.defineProperty(String.prototype,"toBase64",noEnum((function(urisafe){return encode(this,urisafe)})));Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,true)})))}}if(global["Meteor"]){Base64=global.Base64}if(typeof module!=="undefined"&&module.exports){module.exports.Base64=global.Base64}else if(typeof define==="function"&&define.amd){define([],(function(){return global.Base64}))}return{Base64:global.Base64}}))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],141:[function(require,module,exports){"use strict";var inherits=require("inherits");var HashBase=require("hash-base");var Buffer=require("safe-buffer").Buffer;var ARRAY16=new Array(16);function MD5(){HashBase.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878}inherits(MD5,HashBase);MD5.prototype._update=function(){var M=ARRAY16;for(var i=0;i<16;++i)M[i]=this._block.readInt32LE(i*4);var a=this._a;var b=this._b;var c=this._c;var d=this._d;a=fnF(a,b,c,d,M[0],3614090360,7);d=fnF(d,a,b,c,M[1],3905402710,12);c=fnF(c,d,a,b,M[2],606105819,17);b=fnF(b,c,d,a,M[3],3250441966,22);a=fnF(a,b,c,d,M[4],4118548399,7);d=fnF(d,a,b,c,M[5],1200080426,12);c=fnF(c,d,a,b,M[6],2821735955,17);b=fnF(b,c,d,a,M[7],4249261313,22);a=fnF(a,b,c,d,M[8],1770035416,7);d=fnF(d,a,b,c,M[9],2336552879,12);c=fnF(c,d,a,b,M[10],4294925233,17);b=fnF(b,c,d,a,M[11],2304563134,22);a=fnF(a,b,c,d,M[12],1804603682,7);d=fnF(d,a,b,c,M[13],4254626195,12);c=fnF(c,d,a,b,M[14],2792965006,17);b=fnF(b,c,d,a,M[15],1236535329,22);a=fnG(a,b,c,d,M[1],4129170786,5);d=fnG(d,a,b,c,M[6],3225465664,9);c=fnG(c,d,a,b,M[11],643717713,14);b=fnG(b,c,d,a,M[0],3921069994,20);a=fnG(a,b,c,d,M[5],3593408605,5);d=fnG(d,a,b,c,M[10],38016083,9);c=fnG(c,d,a,b,M[15],3634488961,14);b=fnG(b,c,d,a,M[4],3889429448,20);a=fnG(a,b,c,d,M[9],568446438,5);d=fnG(d,a,b,c,M[14],3275163606,9);c=fnG(c,d,a,b,M[3],4107603335,14);b=fnG(b,c,d,a,M[8],1163531501,20);a=fnG(a,b,c,d,M[13],2850285829,5);d=fnG(d,a,b,c,M[2],4243563512,9);c=fnG(c,d,a,b,M[7],1735328473,14);b=fnG(b,c,d,a,M[12],2368359562,20);a=fnH(a,b,c,d,M[5],4294588738,4);d=fnH(d,a,b,c,M[8],2272392833,11);c=fnH(c,d,a,b,M[11],1839030562,16);b=fnH(b,c,d,a,M[14],4259657740,23);a=fnH(a,b,c,d,M[1],2763975236,4);d=fnH(d,a,b,c,M[4],1272893353,11);c=fnH(c,d,a,b,M[7],4139469664,16);b=fnH(b,c,d,a,M[10],3200236656,23);a=fnH(a,b,c,d,M[13],681279174,4);d=fnH(d,a,b,c,M[0],3936430074,11);c=fnH(c,d,a,b,M[3],3572445317,16);b=fnH(b,c,d,a,M[6],76029189,23);a=fnH(a,b,c,d,M[9],3654602809,4);d=fnH(d,a,b,c,M[12],3873151461,11);c=fnH(c,d,a,b,M[15],530742520,16);b=fnH(b,c,d,a,M[2],3299628645,23);a=fnI(a,b,c,d,M[0],4096336452,6);d=fnI(d,a,b,c,M[7],1126891415,10);c=fnI(c,d,a,b,M[14],2878612391,15);b=fnI(b,c,d,a,M[5],4237533241,21);a=fnI(a,b,c,d,M[12],1700485571,6);d=fnI(d,a,b,c,M[3],2399980690,10);c=fnI(c,d,a,b,M[10],4293915773,15);b=fnI(b,c,d,a,M[1],2240044497,21);a=fnI(a,b,c,d,M[8],1873313359,6);d=fnI(d,a,b,c,M[15],4264355552,10);c=fnI(c,d,a,b,M[6],2734768916,15);b=fnI(b,c,d,a,M[13],1309151649,21);a=fnI(a,b,c,d,M[4],4149444226,6);d=fnI(d,a,b,c,M[11],3174756917,10);c=fnI(c,d,a,b,M[2],718787259,15);b=fnI(b,c,d,a,M[9],3951481745,21);this._a=this._a+a|0;this._b=this._b+b|0;this._c=this._c+c|0;this._d=this._d+d|0};MD5.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var buffer=Buffer.allocUnsafe(16);buffer.writeInt32LE(this._a,0);buffer.writeInt32LE(this._b,4);buffer.writeInt32LE(this._c,8);buffer.writeInt32LE(this._d,12);return buffer};function rotl(x,n){return x<<n|x>>>32-n}function fnF(a,b,c,d,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+b|0}function fnG(a,b,c,d,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+b|0}function fnH(a,b,c,d,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+b|0}function fnI(a,b,c,d,m,k,s){return rotl(a+(c^(b|~d))+m+k|0,s)+b|0}module.exports=MD5},{"hash-base":122,inherits:137,"safe-buffer":229}],142:[function(require,module,exports){var bn=require("bn.js");var brorand=require("brorand");function MillerRabin(rand){this.rand=rand||new brorand.Rand}module.exports=MillerRabin;MillerRabin.create=function create(rand){return new MillerRabin(rand)};MillerRabin.prototype._randbelow=function _randbelow(n){var len=n.bitLength();var min_bytes=Math.ceil(len/8);do{var a=new bn(this.rand.generate(min_bytes))}while(a.cmp(n)>=0);return a};MillerRabin.prototype._randrange=function _randrange(start,stop){var size=stop.sub(start);return start.add(this._randbelow(size))};MillerRabin.prototype.test=function test(n,k,cb){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);var prime=true;for(;k>0;k--){var a=this._randrange(new bn(2),n1);if(cb)cb(a);var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return false;if(x.cmp(rn1)===0)break}if(i===s)return false}return prime};MillerRabin.prototype.getDivisor=function getDivisor(n,k){var len=n.bitLength();var red=bn.mont(n);var rone=new bn(1).toRed(red);if(!k)k=Math.max(1,len/48|0);var n1=n.subn(1);for(var s=0;!n1.testn(s);s++){}var d=n.shrn(s);var rn1=n1.toRed(red);for(;k>0;k--){var a=this._randrange(new bn(2),n1);var g=n.gcd(a);if(g.cmpn(1)!==0)return g;var x=a.toRed(red).redPow(d);if(x.cmp(rone)===0||x.cmp(rn1)===0)continue;for(var i=1;i<s;i++){x=x.redSqr();if(x.cmp(rone)===0)return x.fromRed().subn(1).gcd(n);if(x.cmp(rn1)===0)break}if(i===s){x=x.redSqr();return x.fromRed().subn(1).gcd(n)}}return false}},{"bn.js":48,brorand:49}],143:[function(require,module,exports){module.exports=assert;function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}assert.equal=function assertEqual(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],144:[function(require,module,exports){"use strict";var utils=exports;function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if(typeof msg!=="string"){for(var i=0;i<msg.length;i++)res[i]=msg[i]|0;return res}if(enc==="hex"){msg=msg.replace(/[^a-z0-9]+/gi,"");if(msg.length%2!==0)msg="0"+msg;for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else{for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i);var hi=c>>8;var lo=c&255;if(hi)res.push(hi,lo);else res.push(lo)}}return res}utils.toArray=toArray;function zero2(word){if(word.length===1)return"0"+word;else return word}utils.zero2=zero2;function toHex(msg){var res="";for(var i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toHex=toHex;utils.encode=function encode(arr,enc){if(enc==="hex")return toHex(arr);else return arr}},{}],145:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function array(n,sample){var a=[];for(var i=0;i<n;i++){a.push(typeof sample==="undefined"?i:sample)}return a}exports.array=array;function asArray(selectors){return Array.isArray(selectors)?selectors:[selectors]}exports.asArray=asArray;function seq(start,step,max){if(start===void 0){start=0}if(step===void 0){step=1}if(max===void 0){max=0}var result=[];for(var i=start;i<max;i+=step){result.push(i)}return result}exports.seq=seq},{}],146:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function enumKeys(anEnum){var a=[];for(var i in anEnum){a.push(i)}return a}exports.enumKeys=enumKeys;function enumNoValueKeys(anEnum){return Object.keys(anEnum).map((function(i){return anEnum[i]})).filter((function(s,i,a){return typeof s==="string"&&a.indexOf(s)===i}))}exports.enumNoValueKeys=enumNoValueKeys},{}],147:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function dedup(a,p){return a.filter((function(n,i,a){return i===a.findIndex((function(x){return p(n,x)}))}))}exports.dedup=dedup;function notSame(t,i,a){return a.indexOf(t)===i}exports.notSame=notSame;function notSameNotFalsy(t,i,a){return a.indexOf(t)===i}exports.notSameNotFalsy=notSameNotFalsy},{}],148:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function flatDeep(arr){return arr&&arr.length?arr.reduce((function(acc,val){return Array.isArray(val)?acc.concat(flatDeep(val)):acc.concat(val)}),[]):[]}exports.flatDeep=flatDeep;function flat(arr){return arr&&arr.length?arr.reduce((function(a,b){return a.concat(b)})):[]}exports.flat=flat;function flatReadOnly(arr){return arr&&arr.length?arr.reduce((function(a,b){return a.concat(b)})):[]}exports.flatReadOnly=flatReadOnly;function flatInstallArrayPrototype(){if(typeof Array.prototype.flat==="undefined"){Array.prototype.flat=function(){return flat(this)}}}exports.flatInstallArrayPrototype=flatInstallArrayPrototype},{}],149:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./create"));__export(require("./enumKeys"));__export(require("./filter"));__export(require("./flat"));__export(require("./prototypeFind"));__export(require("./set"))},{"./create":145,"./enumKeys":146,"./filter":147,"./flat":148,"./prototypeFind":150,"./set":151}],150:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function arrayPrototypeFind(a,predicate,thisArg){for(var i=0;i<a.length;i++){var v=a[i];if(predicate.apply(thisArg,[v,i,a])){return v}}}exports.arrayPrototypeFind=arrayPrototypeFind;function installArrayPrototypeFind(force){if(force===void 0){force=false}Array.prototype.find=typeof Array.prototype.find==="undefined"||force?function(predicate,thisArg){return arrayPrototypeFind(this,predicate,thisArg)}:Array.prototype.find}exports.installArrayPrototypeFind=installArrayPrototypeFind},{}],151:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var filter_1=require("./filter");function unionEquals(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=filter_1.dedup(a.concat(b),predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.unionEquals=unionEquals;exports.arrayUnion=unionEquals;function arrayInterception(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=a.filter((function(a){return b.find((function(b){return predicate(a,b)}))}));r=filter_1.dedup(r,predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.arrayInterception=arrayInterception;function arrayDifference(a,b,predicate,output){if(predicate===void 0){predicate=function(a,b){return a===b}}var r=a.filter((function(a){return!b.find((function(b){return predicate(a,b)}))})).concat(b.filter((function(b){return!a.find((function(a){return predicate(b,a)}))})));r=filter_1.dedup(r,predicate);output&&output.push.apply(output,filter_1.dedup(r.concat(output),predicate));return r}exports.arrayDifference=arrayDifference},{"./filter":147}],152:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function rgb2Hex(s){return s.match(/[0-9]+/g).reduce((function(a,b){return a+(b|256).toString(16).slice(1)}),"#").toString(16)}exports.rgb2Hex=rgb2Hex},{}],153:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("./array");function compareTexts(actual,expected,options){return compareWithMultiplicity(actual,expected,options,compareText)}exports.compareTexts=compareTexts;function compareText(actual,expected,options){if(actual===expected){return options.negate?negate(true):true}actual=buildText(actual,options);expected=buildText(expected,options);if(!options.verb||options.verb==="contains"){return options.negate?negate(actual.includes(expected)):actual.includes(expected)}else if(options.verb==="equals"){return options.negate?negate(actual===expected):actual===expected}else if(options.verb==="contained"){return options.negate?negate(expected.includes(actual)):expected.includes(actual)}else if(options.verb==="endsWith"){return options.negate?negate(actual.endsWith(expected)):actual.endsWith(expected)}else if(options.verb==="startsWith"){return options.negate?negate(actual.startsWith(expected)):actual.startsWith(expected)}else{return options.negate?negate(false):false}}exports.compareText=compareText;function compareWithMultiplicity(_actual,_expected,options,predicate){var actual=array_1.asArray(_actual);var expected=array_1.asArray(_expected);if(actual===expected){return options.negate?negate(true):true}if(!options.multiplicity||options.multiplicity==="anyOf"){var r=!!actual.find((function(a){return!!expected.find((function(e){return predicate(a,e,options)}))}));return options.negate?negate(r):r}else if(options.multiplicity==="allOf"){var r=!actual.find((function(a){return!expected.find((function(e){return predicate(a,e,options)}))}));return options.negate?negate(r):r}else{return options.negate?negate(false):false}}function negate(b){return!b}function buildText(text,options){if(options.caseInsensitive){text=text.toLowerCase()}if(options.asCode){text=text.replace(/\s+/g," ").trim()}return text}},{"./array":149}],154:[function(require,module,exports){(function(process,global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isNode(){return typeof process!=="undefined"&&typeof global!=="undefined"&&typeof process.exit==="function"&&typeof module!=="undefined"&&typeof require==="function"&&typeof require("f"+"s")!=="undefined"&&typeof require("f"+"s").writeFileSync==="function"&&typeof require("child_"+"pro"+"cess")!=="undefined"&&typeof require("child_"+"pro"+"cess").execSync==="function"}exports.isNode=isNode;function isJSDOM(){return isNode()&&exports.isDOM()}exports.isJSDOM=isJSDOM;exports.inNode=isNode;function inBrowser(){return typeof window!=="undefined"&&typeof document!=="undefined"&&typeof Node!=="undefined"&&document.nodeType===Node.DOCUMENT_NODE}exports.inBrowser=inBrowser;exports.isBrowser=inBrowser;exports.inDOM=inBrowser;exports.isDOM=inBrowser;function isWebWorker(){return!exports.isDOM()&&!isNode()&&typeof self!=="undefined"&&typeof self.onmessage!=="undefined"}exports.isWebWorker=isWebWorker;var _this=this;function getGlobal(){return isWebWorker()?self:isNode()?global:exports.isBrowser()?window:_this}exports.getGlobal=getGlobal}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:205}],155:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Emitter=function(){function Emitter(){this.l=[]}Emitter.prototype.add=function(l){this.l.push(l)};Emitter.prototype.emit=function(e){this.l.forEach((function(l){return l(e)}))};Emitter.prototype.remove=function(l){this.l=this.l.filter((function(a){return a===l}))};return Emitter}();exports.Emitter=Emitter},{}],156:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function checkThrow(r,msg){if(msg===void 0){msg="Throwing on undefined value"}if(!r){throw new Error(msg)}return r}exports.checkThrow=checkThrow;function checkTruthy(r,msg){if(msg===void 0){msg="Throwing on undefined value"}if(!r){throw new Error(msg)}return true}exports.checkTruthy=checkTruthy;function tryTo(f,def){try{return f()}catch(error){return def}}exports.tryTo=tryTo},{}],157:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function bytesToKiloBytes(fileSizeInBytes){return fileSizeInBytes/1e3}exports.bytesToKiloBytes=bytesToKiloBytes;function withoutExtension(f){var i=slash(f).lastIndexOf(".");return i===-1?f:f.substring(0,i)}exports.withoutExtension=withoutExtension;function basename(f,removeExtension){if(removeExtension===void 0){removeExtension=false}var i=slash(f).lastIndexOf("/");var s=i===-1?f:f.substring(i+1,f.length);return removeExtension?withoutExtension(s):s}exports.basename=basename;function getFileExtension(s){var i=s.lastIndexOf(".");if(i==-1||i===s.length-1){return""}return s.substring(i+1,s.length)}exports.getFileExtension=getFileExtension;function dirname(path){var i=slash(path).lastIndexOf("/");return i===-1?"":path.substring(0,i)}exports.dirname=dirname;function getRelativePath(source,target){source=slash(source);target=slash(target);var sep="/",targetArr=target.split(sep),sourceArr=source.split(sep),filename=targetArr.pop(),targetPath=targetArr.join(sep);if(targetArr.length<2&&sourceArr.length<2){return target}var relativePath="";while(targetPath.indexOf(sourceArr.join(sep))===-1){sourceArr.pop();relativePath+=".."+sep}var relPathArr=targetArr.slice(sourceArr.length);relPathArr.length&&(relativePath+=relPathArr.join(sep)+sep);return relativePath+filename}exports.getRelativePath=getRelativePath;function pathJoin(){var parts=[];for(var _i=0;_i<arguments.length;_i++){parts[_i]=arguments[_i]}var separator="/";var replace=new RegExp(separator+"{1,}","g");return parts.filter(Boolean).map(slash).join(separator).replace(replace,separator)}exports.pathJoin=pathJoin;function parseGitIgnore(content,options){if(options===void 0){options={cwd:".",fileName:".gitignore"}}var mapGitIgnorePatternTo=function(base){return function(ignore){if(ignore.startsWith("!")){return"!"+pathJoin(base,ignore.slice(1))}return pathJoin(base,ignore)}};var base=getRelativePath(options.cwd,dirname(options.fileName));return content.split(/\r?\n/).filter(Boolean).filter((function(line){return line.charAt(0)!=="#"})).map(mapGitIgnorePatternTo(base))}exports.parseGitIgnore=parseGitIgnore;function slash(path){var isExtendedLengthPath=/^\\\\\?\\/.test(path);var hasNonAscii=/[^\u0000-\u0080]+/.test(path);if(isExtendedLengthPath||hasNonAscii){return path}return path.replace(/\\/g,"/")}exports.slash=slash;function detectNewline(s,def){if(def===void 0){def="\n"}var newlines=s.match(/(?:\r?\n)/g)||[];if(newlines.length===0){return def}var crlf=newlines.filter((function(newline){return newline==="\r\n"})).length;var lf=newlines.length-crlf;return crlf>lf?"\r\n":"\n"}exports.detectNewline=detectNewline},{}],158:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isGenerator(obj){return obj&&typeof obj.next==="function"&&typeof obj.throw==="function"}exports.isGenerator=isGenerator;function isGeneratorFunction(fn){return typeof fn==="function"&&fn.constructor&&fn.constructor.name==="GeneratorFunction"}exports.isGeneratorFunction=isGeneratorFunction;function isClassConstructorFunction(a){return a&&a.prototype&&a.prototype.constructor&&a.prototype.constructor.toString().startsWith("class")}exports.isClassConstructorFunction=isClassConstructorFunction},{}],159:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Point=function(){function Point(x,y){this.x=x;this.y=y;this.set(x,y)}Point.prototype.clone=function(){return new Point(this.x,this.y)};Point.prototype.set=function(x,y){this.x=x;this.y=y;return this};Point.prototype.equals=function(x,y){return this.x==x&&this.y==y};Point.prototype.toString=function(){return"("+this.x+","+this.y+")"};Point.prototype.map=function(f){this.x=f(this.x);this.y=f(this.y);return this};Point.prototype.add=function(x,y){this.x+=x;this.y+=y;return this};Point.prototype.subtract=function(x,y){this.x-=x;this.y-=y;return this};Point.prototype.scale=function(s){this.x*=s;this.y*=s;return this};Point.prototype.isZero=function(){return this.x===0&&this.y==0};return Point}();exports.Point=Point;var Rect=function(){function Rect(left,top,right,bottom){this.left=left;this.top=top;this.right=right;this.bottom=bottom}Object.defineProperty(Rect.prototype,"x",{get:function(){return this.left},set:function(v){var diff=this.left-v;this.left=v;this.right-=diff},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"y",{get:function(){return this.top},set:function(v){var diff=this.top-v;this.top=v;this.bottom-=diff},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"width",{get:function(){return this.right-this.left},set:function(v){this.right=this.left+v},enumerable:true,configurable:true});Object.defineProperty(Rect.prototype,"height",{get:function(){return this.bottom-this.top},set:function(v){this.bottom=this.top+v},enumerable:true,configurable:true});Rect.prototype.isEmpty=function(){return this.left>=this.right||this.top>=this.bottom};Rect.prototype.setRect=function(x,y,w,h){this.left=x;this.top=y;this.right=x+w;this.bottom=y+h;return this};Rect.prototype.setBounds=function(l,t,r,b){this.top=t;this.left=l;this.bottom=b;this.right=r;return this};Rect.prototype.equals=function(other){return other&&(this.isEmpty()&&other.isEmpty()||this.top==other.top&&this.left==other.left&&this.bottom==other.bottom&&this.right==other.right)};Rect.prototype.clone=function(){return new Rect(this.left,this.top,this.right-this.left,this.bottom-this.top)};Rect.prototype.center=function(){if(this.isEmpty()){throw new Error("Empty rectangles do not have centers")}return new Point(this.left+(this.right-this.left)/2,this.top+(this.bottom-this.top)/2)};Rect.prototype.copyFrom=function(other){this.top=other.top;this.left=other.left;this.bottom=other.bottom;this.right=other.right;return this};Rect.prototype.translate=function(x,y){this.left+=x;this.right+=x;this.top+=y;this.bottom+=y;return this};Rect.prototype.toString=function(){return"["+this.x+","+this.y+","+this.width+","+this.height+"]"};Rect.prototype.union=function(other){return this.clone().expandToContain(other)};Rect.prototype.contains=function(other){if(other.isEmpty())return true;if(this.isEmpty())return false;return other.left>=this.left&&other.right<=this.right&&other.top>=this.top&&other.bottom<=this.bottom};Rect.prototype.intersect=function(other){return this.clone().restrictTo(other)};Rect.prototype.intersects=function(other){if(this.isEmpty()||other.isEmpty()){return false}var x1=Math.max(this.left,other.left);var x2=Math.min(this.right,other.right);var y1=Math.max(this.top,other.top);var y2=Math.min(this.bottom,other.bottom);return x1<x2&&y1<y2};Rect.prototype.restrictTo=function(other){if(this.isEmpty()||other.isEmpty()){return this.setRect(0,0,0,0)}var x1=Math.max(this.left,other.left);var x2=Math.min(this.right,other.right);var y1=Math.max(this.top,other.top);var y2=Math.min(this.bottom,other.bottom);return this.setRect(x1,y1,Math.max(0,x2-x1),Math.max(0,y2-y1))};Rect.prototype.expandToContain=function(other){if(this.isEmpty()){return this.copyFrom(other)}if(other.isEmpty()){return this}var l=Math.min(this.left,other.left);var r=Math.max(this.right,other.right);var t=Math.min(this.top,other.top);var b=Math.max(this.bottom,other.bottom);return this.setRect(l,t,r-l,b-t)};Rect.prototype.round=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);return this};Rect.prototype.scale=function(xscl,yscl){this.left*=xscl;this.right*=xscl;this.top*=yscl;this.bottom*=yscl;return this};Rect.prototype.map=function(f){this.left=f(this.left);this.top=f(this.top);this.right=f(this.right);this.bottom=f(this.bottom);return this};Rect.prototype.translateInside=function(other){var offsetX=0;if(this.left<=other.left){offsetX=other.left-this.left}else if(this.right>other.right){offsetX=other.right-this.right}var offsetY=0;if(this.top<=other.top){offsetY=other.top-this.top}else if(this.bottom>other.bottom){offsetY=other.bottom-this.bottom}return this.translate(offsetX,offsetY)};Rect.prototype.subtract=function(other){var r=new Rect(0,0,0,0);var result=[];other=other.intersect(this);if(other.isEmpty()){return[this.clone()]}r.setBounds(this.left,this.top,other.left,this.bottom);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.left,this.top,other.right,other.top);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.left,other.bottom,other.right,this.bottom);if(!r.isEmpty()){result.push(r.clone())}r.setBounds(other.right,this.top,this.right,this.bottom);if(!r.isEmpty()){result.push(r.clone())}return result};Rect.prototype.blend=function(rect,scalar){return new Rect(this.left+(rect.left-this.left)*scalar,this.top+(rect.top-this.top)*scalar,this.width+(rect.width-this.width)*scalar,this.height+(rect.height-this.height)*scalar)};Rect.prototype.inflate=function(xscl,yscl){var xAdj=(this.width*xscl-this.width)/2;var s=arguments.length>1?yscl:xscl;var yAdj=(this.height*s-this.height)/2;this.left-=xAdj;this.right+=xAdj;this.top-=yAdj;this.bottom+=yAdj;return this};Rect.prototype.inflateFixed=function(fixed){this.left-=fixed;this.right+=fixed;this.top-=fixed;this.bottom+=fixed;return this};return Rect}();exports.Rect=Rect},{}],160:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./array"));__export(require("./color"));__export(require("./compareText"));__export(require("./environment"));__export(require("./event"));__export(require("./exceptions"));__export(require("./file"));__export(require("./function"));__export(require("./geometry"));__export(require("./json"));__export(require("./merge"));__export(require("./mime"));__export(require("./number"));__export(require("./object"));__export(require("./promise"));__export(require("./string"));__export(require("./time"));__export(require("./tree"));__export(require("./type"));__export(require("./url"))},{"./array":149,"./color":152,"./compareText":153,"./environment":154,"./event":155,"./exceptions":156,"./file":157,"./function":158,"./geometry":159,"./json":161,"./merge":162,"./mime":163,"./number":164,"./object":165,"./promise":166,"./string":174,"./time":179,"./tree":184,"./type":185,"./url":186}],161:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var object_1=require("./object");var type_1=require("./type");function parseJSON(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return JSON.parse(s)}catch(error){return defaultValue}}exports.parseJSON=parseJSON;function stringifyJSON(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return JSON.stringify(s)}catch(error){return defaultValue}}exports.stringifyJSON=stringifyJSON;function cloneJSON(a){return JSON.parse(JSON.stringify(a))}exports.cloneJSON=cloneJSON;function visitJson(o,v,_name){if(type_1.isArray(o)&&o){return v(o,_name)||o.some((function(va,i){return visitJson(va,v,i)}))}else if(typeof o==="object"&&o){return v(o,_name)||object_1.objectToArray(o).some((function(o){return visitJson(o.value,v,o.key)}))}else{return v(o,_name)}}exports.visitJson=visitJson;function findJson(o,p,_name){var r=undefined;visitJson(o,(function(value,key){if(p(value,key)){r={value:value,key:key};return true}return false}));return r}exports.findJson=findJson;function isJSONObject(o){return typeof o==="object"&&!Array.isArray(o)}exports.isJSONObject=isJSONObject},{"./object":165,"./type":185}],162:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("./type");function recursive(clone){return merge(clone===true,true,arguments)}exports.recursive=recursive;function clone(input){var output=input,type=type_1.typeOf(input),index,size;if(type==="array"){output=[];size=input.length;for(index=0;index<size;++index)output[index]=clone(input[index])}else if(type==="object"){output={};for(index in input)output[index]=clone(input[index])}return output}exports.clone=clone;function mergeRecursive(base,extend){if(type_1.typeOf(base)!=="object")return extend;for(var key in extend){if(type_1.typeOf(base[key])==="object"&&type_1.typeOf(extend[key])==="object"){base[key]=mergeRecursive(base[key],extend[key])}else{base[key]=extend[key]}}return base}exports.mergeRecursive=mergeRecursive;function merge(clone_,recursive){var argv=[];for(var _i=2;_i<arguments.length;_i++){argv[_i-2]=arguments[_i]}var result=argv[0],size=argv.length;if(clone_||type_1.typeOf(result)!=="object")result={};for(var index=0;index<size;++index){var item=argv[index],type=type_1.typeOf(item);if(type!=="object")continue;for(var key in item){if(key==="__proto__")continue;var sitem=clone_?clone(item[key]):item[key];if(recursive){result[key]=mergeRecursive(result[key],sitem)}else{result[key]=sitem}}}return result}exports.merge=merge},{"./type":185}],163:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getMimeTypeForExtension(extension){return Object.keys(commonExtensionMimeTypeMap).find((function(a){return commonExtensionMimeTypeMap[a].extensions.includes(extension)}))}exports.getMimeTypeForExtension=getMimeTypeForExtension;function getExtensionsForMimeType(mimeType){var found=Object.keys(commonExtensionMimeTypeMap).find((function(a){return a===mimeType}));return found&&commonExtensionMimeTypeMap[found].extensions}exports.getExtensionsForMimeType=getExtensionsForMimeType;var commonExtensionMimeTypeMap={"application/atom+xml":{extensions:["atom"]},"application/java-archive":{extensions:["jar","war","ear"]},"application/javascript":{extensions:["js"]},"application/json":{extensions:["json"]},"application/mac-binhex40":{extensions:["hqx"]},"application/msword":{extensions:["doc"]},"application/octet-stream":{extensions:["bin","exe","dll","deb","dmg","iso","img","msi","msp","msm"]},"application/pdf":{extensions:["pdf"]},"application/postscript":{extensions:["ps","eps","ai"]},"application/rss+xml":{extensions:["rss"]},"application/rtf":{extensions:["rtf"]},"application/vnd.apple.mpegurl":{extensions:["m3u8"]},"application/vnd.google-earth.kml+xml":{extensions:["kml"]},"application/vnd.google-earth.kmz":{extensions:["kmz"]},"application/vnd.ms-excel":{extensions:["xls"]},"application/vnd.ms-fontobject":{extensions:["eot"]},"application/vnd.ms-powerpoint":{extensions:["ppt"]},"application/vnd.oasis.opendocument.graphics":{extensions:["odg"]},"application/vnd.oasis.opendocument.presentation":{extensions:["odp"]},"application/vnd.oasis.opendocument.spreadsheet":{extensions:["ods"]},"application/vnd.oasis.opendocument.text":{extensions:["odt"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:["docx"]},"application/vnd.wap.wmlc":{extensions:["wmlc"]},"application/x-7z-compressed":{extensions:["7z"]},"application/x-cocoa":{extensions:["cco"]},"application/x-java-archive-diff":{extensions:["jardiff"]},"application/x-java-jnlp-file":{extensions:["jnlp"]},"application/x-makeself":{extensions:["run"]},"application/x-perl":{extensions:["pl","pm"]},"application/x-pilot":{extensions:["prc","pdb"]},"application/x-rar-compressed":{extensions:["rar"]},"application/x-redhat-package-manager":{extensions:["rpm"]},"application/x-sea":{extensions:["sea"]},"application/x-shockwave-flash":{extensions:["swf"]},"application/x-stuffit":{extensions:["sit"]},"application/x-tcl":{extensions:["tcl","tk"]},"application/x-x509-ca-cert":{extensions:["der","pem","crt"]},"application/x-xpinstall":{extensions:["xpi"]},"application/xhtml+xml":{extensions:["xhtml"]},"application/xspf+xml":{extensions:["xspf"]},"application/zip":{extensions:["zip"]},"audio/midi":{extensions:["mid","midi","kar"]},"audio/mpeg":{extensions:["mp3"]},"audio/ogg":{extensions:["ogg"]},"audio/x-m4a":{extensions:["m4a"]},"audio/x-realaudio":{extensions:["ra"]},"font/woff":{extensions:["woff"]},"font/woff2":{extensions:["woff2"]},"image/gif":{extensions:["gif"]},"image/jpeg":{extensions:["jpeg","jpg"]},"image/png":{extensions:["png"]},"image/svg+xml":{extensions:["svg","svgz"]},"image/tiff":{extensions:["tif","tiff"]},"image/vnd.wap.wbmp":{extensions:["wbmp"]},"image/webp":{extensions:["webp"]},"image/x-icon":{extensions:["ico"]},"image/x-jng":{extensions:["jng"]},"image/x-ms-bmp":{extensions:["bmp"]},"text/css":{extensions:["css"]},"text/html":{extensions:["html","htm","shtml"]},"text/mathml":{extensions:["mml"]},"text/plain":{extensions:["txt"]},"text/vnd.sun.j2me.app-descriptor":{extensions:["jad"]},"text/vnd.wap.wml":{extensions:["wml"]},"text/x-component":{extensions:["htc"]},"text/xml":{extensions:["xml"]},"video/3gpp":{extensions:["3gpp","3gp"]},"video/mp2t":{extensions:["ts"]},"video/mp4":{extensions:["mp4"]},"video/mpeg":{extensions:["mpeg","mpg"]},"video/quicktime":{extensions:["mov"]},"video/webm":{extensions:["webm"]},"video/x-flv":{extensions:["flv"]},"video/x-m4v":{extensions:["m4v"]},"video/x-mng":{extensions:["mng"]},"video/x-ms-asf":{extensions:["asx","asf"]},"video/x-ms-wmv":{extensions:["wmv"]},"video/x-msvideo":{extensions:["avi"]}}},{}],164:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("./array");var _unique=0;function unique(prefix){if(prefix===void 0){prefix="_"}return prefix+_unique++}exports.unique=unique;function randomIntBetween(a,b){return Math.floor(Math.random()*b)+a}exports.randomIntBetween=randomIntBetween;function randomIntsBetween(l,min,max){return array_1.array(l).map((function(n){return randomFloatBetween(min,max)}))}exports.randomIntsBetween=randomIntsBetween;exports.ints=randomIntsBetween;exports.int=randomIntBetween;function randomFloatBetween(a,b){return Math.random()*b+a}exports.randomFloatBetween=randomFloatBetween;function randomFloatsBetween(l,min,max){return array_1.array(l).map((function(n){return randomFloatBetween(min,max)}))}exports.randomFloatsBetween=randomFloatsBetween;exports.floats=randomFloatsBetween;exports.float=randomFloatBetween;function between(n,min,max){return Math.max(min,Math.min(n,max))}exports.between=between;function intBetween(n,min,max){return Math.trunc(Math.max(min,Math.min(n,max)))}exports.intBetween=intBetween},{"./array":149}],165:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("./type");function objectKeys(o){return Object.keys(o)}exports.objectKeys=objectKeys;function objectMapValues(o,p){var r={};objectKeys(o).forEach((function(k){r[k]=p(k,o[k])}));return r}exports.objectMapValues=objectMapValues;exports.objectMap=objectMapValues;function objectToArray(o){return objectKeys(o).map((function(key){return{key:key,value:o[key]}}))}exports.objectToArray=objectToArray;function objectFilter(o,p){var r={};objectKeys(o).filter((function(k,v){return p(k,o[k])})).forEach((function(k){r[k]=o[k]}));return r}exports.objectFilter=objectFilter;function arrayToObject(a,fn){var o={};a.filter(type_1.notUndefined).forEach((function(k){o[k]=fn(k)}));return o}exports.arrayToObject=arrayToObject;function getObjectProperty(object,path,defaultValue){if(defaultValue===void 0){defaultValue=undefined}if(!path){return object}else if(object){var tokens=typeof path==="string"?path.split("."):path,prev=object,n=0;while(typeof prev!=="undefined"&&n<tokens.length){prev=prev[tokens[n++]]}if(typeof prev!=="undefined"){return prev}}return defaultValue}exports.getObjectProperty=getObjectProperty;function setObjectProperty(object,path,value){if(!path||!object){throw new Error("Insufficient arguments")}var tokens=typeof path==="string"?path.split("."):path,prev=object;if(tokens.length===0){Object.assign(object,value);return object}for(var i=0;i<tokens.length-1;++i){var currentToken=tokens[i];if(typeof prev[currentToken]==="undefined"){prev[currentToken]=typeof tokens[i+1]==="number"?[]:{}}else{if(typeof tokens[i+1]==="number"&&!Array.isArray(prev[currentToken])){throw new Error("Detected number path item on non array value. Path: "+path+", item: "+tokens[i+1]+", Value: "+prev[currentToken])}}prev=prev[currentToken]}if(tokens.length){prev[tokens[tokens.length-1]]=value}return object}exports.setObjectProperty=setObjectProperty;function getObjectPropertyPaths(object,options){if(options===void 0){options={ignoreArrayElements:true,leafsOnly:false}}function visit(object,p,p2){if(p===void 0){p=[]}if(p2===void 0){p2=[]}var objectIsArray=type_1.isArray(object);if(options.ignoreArrayElements&&objectIsArray){return}for(var i in object){var v=object[i];var objectName=objectIsArray?parseInt(i):i+"";var p3=p2.concat([objectName]);if(type_1.isObject(v)||type_1.isArray(v)){visit(v,p,p3)}p.push(p3);p.push(p2)}}var p=[];var p2=[];visit(object,p,p2);var result=p.filter((function(p,i,a){return a.length&&a.findIndex((function(o){return JSON.stringify(o)===JSON.stringify(p)}))===i})).sort((function(a,b){return a.length-b.length})).filter((function(a){return a.length>0}));if(options.leafsOnly){return result.filter((function(p){return!result.find((function(p2){return p2!==p&&p2.length>p.length&&JSON.stringify(p)===JSON.stringify(p2.slice(0,p.length))}))}))}else{return result}}exports.getObjectPropertyPaths=getObjectPropertyPaths},{"./type":185}],166:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function serial(p){return new Promise((function(resolve){p.reduce((function(promiseChain,currentTask){return promiseChain.then((function(chainResults){return currentTask().then((function(currentResult){return chainResults.concat([currentResult])}))}))}),Promise.resolve([])).then((function(arrayOfResults){resolve(arrayOfResults)}))}))}exports.serial=serial;var Deferred=function(){function Deferred(callback){var instance=this;this.resolve=null;this.reject=null;this.status="pending";this.promise=new Promise((function(resolve,reject){instance.resolve=function(){this.status="resolved";resolve.apply(this,arguments)};instance.reject=function(){this.status="rejected";reject.apply(this,arguments)}}));if(typeof callback==="function"){callback.call(this,this.resolve,this.reject)}}Deferred.prototype.then=function(resolve){return this.promise.then(resolve)};Deferred.prototype.catch=function(r){return this.promise.catch(r)};return Deferred}();exports.Deferred=Deferred},{}],167:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("../array");var BorderStyle;(function(BorderStyle){BorderStyle["light"]="light";BorderStyle["double"]="double";BorderStyle["round"]="round";BorderStyle["heavy"]="heavy";BorderStyle["lightDouble"]="lightDouble";BorderStyle["doubleLight"]="doubleLight";BorderStyle["classic"]="classic";BorderStyle["lightTripleDash"]="lightTripleDash";BorderStyle["lightQuadrupleDash"]="lightQuadrupleDash";BorderStyle["lightDoubleDash"]="lightDoubleDash";BorderStyle["heavier"]="heavier";BorderStyle["roundDoubleDash"]="roundDoubleDash";BorderStyle["roundTripleDash"]="roundTripleDash";BorderStyle["roundQuadrupleDash"]="roundQuadrupleDash";BorderStyle["heavyDoubleDash"]="heavyDoubleDash";BorderStyle["heavyTripleDash"]="heavyTripleDash";BorderStyle["heavyQuadrupleDash"]="heavyQuadrupleDash";BorderStyle["singleRareCorners"]="singleRareCorners";BorderStyle["triangleCorners"]="triangleCorners"})(BorderStyle=exports.BorderStyle||(exports.BorderStyle={}));exports.borderStyles=array_1.enumKeys(BorderStyle);var BorderSide;(function(BorderSide){BorderSide["topLeft"]="topLeft";BorderSide["topRight"]="topRight";BorderSide["bottomRight"]="bottomRight";BorderSide["bottomLeft"]="bottomLeft";BorderSide["left"]="left";BorderSide["bottom"]="bottom";BorderSide["top"]="top";BorderSide["right"]="right"})(BorderSide=exports.BorderSide||(exports.BorderSide={}));function getBoxChar(s,si){return getBoxStyles()[s][si]}exports.getBoxChar=getBoxChar;var boxStyles;var getBoxStyles=function(){if(!boxStyles){boxStyles={light:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},double:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},round:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},roundQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavy:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyDoubleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyTripleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavyQuadrupleDash:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},heavier:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},lightDouble:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},singleRareCorners:{bottom:"",top:"",left:"",right:"",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},triangleCorners:{bottom:"_",top:"",left:"",right:" ",topLeft:"",topRight:"",bottomRight:"",bottomLeft:""},doubleLight:{topLeft:"",topRight:"",bottomRight:"",bottomLeft:"",left:"",right:"",bottom:"",top:""},classic:{topLeft:"+",topRight:"+",bottomRight:"+",bottomLeft:"+",left:"|",right:"|",bottom:"",top:"-"}}}return boxStyles}},{"../array":149}],168:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function changeText(text,toInsert){var s=text.split("");var indexIncr=0;toInsert.forEach((function(data){data.toAdd=data.toAdd||"";data.toRemove=data.toRemove||"";s.splice.apply(s,[data.pos+indexIncr,data.toRemove.length].concat(data.toAdd.split("")));indexIncr+=data.toAdd.length-data.toRemove.length}));return s.join("")}exports.changeText=changeText},{}],169:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function evaluate(s,defaultValue){if(defaultValue===void 0){defaultValue=undefined}try{return eval("("+s+")")}catch(error){return defaultValue}}exports.evaluate=evaluate;function stringToObject(s,propSep,nameValueSep){if(s===void 0){s=""}if(propSep===void 0){propSep=","}if(nameValueSep===void 0){nameValueSep=":"}var a=s.split(propSep).map((function(s){return s.trim()}));var o={};a.forEach((function(f){var b=f.split(nameValueSep).map((function(a){return a.trim()}));if(b.length!==2){return}o[b[0]]=b[1]}));return o}exports.stringToObject=stringToObject},{}],170:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("../array");function quote(s,q){if(q===void 0){q='"'}return q+s.replace(new RegExp(q,"g"),"\\"+q)+q}exports.quote=quote;function unquote(s){return s.substring(1,s.length-1)}exports.unquote=unquote;function repeat(n,s){return array_1.array(n,s).join("")}exports.repeat=repeat;function indent(i,tabSize){if(i===void 0){i=1}if(tabSize===void 0){tabSize=2}return repeat(i*tabSize," ")}exports.indent=indent;function wordWrap(s,w,newLine){if(newLine===void 0){newLine="\n"}var n=newLine.replace(/\\/,"\\\\");return s.replace(new RegExp("(?![^"+n+"]{1,"+w+"}$)([^"+n+"]{1,"+w+"})\\s","g"),"$1"+newLine)}exports.wordWrap=wordWrap},{"../array":149}],171:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getPreviousMatchingPos(text,pos,predicate){pos=text.length<=pos?text.length:pos;if(typeof predicate==="string"){var s_1=predicate;predicate=function(c){return c===s_1}}while(pos>=0){var char=text[pos];if(!predicate(char)){pos--}else{break}}return pos}exports.getPreviousMatchingPos=getPreviousMatchingPos;function getPosition(string,subString,n){return string.split(subString,n).join(subString).length}exports.getPosition=getPosition},{}],172:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function hashCode(s){var h=0,l=s.length,i=0;if(l>0){while(i<l){h=(h<<5)-h+s.charCodeAt(i++)|0}}return h}exports.hashCode=hashCode},{}],173:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function escapeHtmlAttribute(code){return code.replace(/\"/gim,"&quot;")}exports.escapeHtmlAttribute=escapeHtmlAttribute;function unEscapeHtmlAttribute(code){return code.replace(/\&quot\;/gim,'"')}exports.unEscapeHtmlAttribute=unEscapeHtmlAttribute;function wrapInHtml(s){return'\n  <!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8" />\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <title>title</title>\n  <meta name="viewport" content="width=device-width, initial-scale=1">\n</head>\n<body>\n'+s+"\n</body>\n</html>\n"}exports.wrapInHtml=wrapInHtml;function styleObjectToCss(o,propertiesSeparator){if(propertiesSeparator===void 0){propertiesSeparator=""}return Object.keys(o).map((function(p){return stylePropertyNameToCssSyntax(p)+": "+o[p]+";"})).join(propertiesSeparator)}exports.styleObjectToCss=styleObjectToCss;function stylePropertyNameToCssSyntax(s){var t;while(t=/([A-Z])/.exec(s)){s=s.substring(0,t.index)+"-"+t[1].toLowerCase()+s.substring(t.index+1,s.length)}return s}exports.stylePropertyNameToCssSyntax=stylePropertyNameToCssSyntax},{}],174:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./boxes"));__export(require("./change"));__export(require("./evaluate"));__export(require("./format"));__export(require("./getPreviousMatchingPos"));__export(require("./hash"));__export(require("./html"));__export(require("./template"));__export(require("./whiteSpace"))},{"./boxes":167,"./change":168,"./evaluate":169,"./format":170,"./getPreviousMatchingPos":171,"./hash":172,"./html":173,"./template":175,"./whiteSpace":176}],175:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var cache={};function template(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||template(str):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn}exports.template=template},{}],176:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function shorter(text,much){if(much===void 0){much=10}return text.trim().substring(0,Math.min(text.length,much))+"..."}exports.shorter=shorter;function removeWhites(s,replaceWith){if(replaceWith===void 0){replaceWith=" "}return s.replace(/\s+/gm,replaceWith).trim()}exports.removeWhites=removeWhites;function removeEmptyLines(c,newLine){if(newLine===void 0){newLine="\n"}return c.split(newLine).filter((function(l){return!!l.trim()})).join(newLine)}exports.removeEmptyLines=removeEmptyLines;function trimRightLines(s,newLine){if(newLine===void 0){newLine="\n"}return s.split(newLine).map((function(l){return l.trimRight()})).join(newLine)}exports.trimRightLines=trimRightLines},{}],177:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var type_1=require("../type");function animate(_a){var duration=_a.duration,draw=_a.draw,timing=_a.timing,lapse=_a.lapse,end=_a.end;return new Promise((function(resolve){if(type_1.isObject(timing)){timing=timing.fn(duration)}var start=Date.now();var progress=0;requestAnimationFrame((function anim(time){var timeFraction=(time-start)/duration;if(timeFraction>1)timeFraction=1;progress=timing(timeFraction,time-start,duration);draw(progress);if(timeFraction<1){requestAnimationFrame(anim,lapse)}else{end&&end();resolve()}}))}))}exports.animate=animate;function requestAnimationFrame(f,lapse){if(lapse===void 0){lapse=0}setTimeout((function(){return f(Date.now())}),lapse)}var easing;(function(easing){function makeEaseOut(timing){return function(timeFraction){return 1-timing(1-timeFraction)}}function bounceFn(timeFraction){for(var a=0,b_1=1,result=void 0;1;a+=b_1,b_1/=2){if(timeFraction>=(7-4*a)/11){return-Math.pow((11-6*a-11*timeFraction)/4,2)+Math.pow(b_1,2)}}}easing.bounceEasyOut=function(){return makeEaseOut(bounceFn)};function quad(timeFraction){return Math.pow(timeFraction,2)}easing.quad=quad;easing.back=function(x){if(x===void 0){x=1.5}return function(timeFraction){return Math.pow(timeFraction,2)*((x+1)*timeFraction-x)}};easing.elastic=function(x){if(x===void 0){x=1.5}return function(timeFraction){return Math.pow(2,10*(timeFraction-1))*Math.cos(20*Math.PI*x/3*timeFraction)}};function makeEaseInOut(timing){return function(timeFraction){if(timeFraction<.5)return timing(2*timeFraction)/2;else return(2-timing(2*(1-timeFraction)))/2}}easing.bounceEaseInOut=function(){return makeEaseInOut(bounceFn)};var c=1;var b=0;easing.easeInQuad=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t+b}}}};easing.easeOutQuad=function(){return{fn:function(d){return function(x,t){return-c*(t/=d)*(t-2)+b}}}};easing.easeInOutQuad=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*(--t*(t-2)-1)+b}}}};easing.easeInElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s_1=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b}}}};easing.easeOutBounce=function(){return{fn:function(d){return function(x,t){if((t/=d)<1/2.75){return c*(7.5625*t*t)+b}else if(t<2/2.75){return c*(7.5625*(t-=1.5/2.75)*t+.75)+b}else if(t<2.5/2.75){return c*(7.5625*(t-=2.25/2.75)*t+.9375)+b}else{return c*(7.5625*(t-=2.625/2.75)*t+.984375)+b}}}}};easing.easeInCubic=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t+b}}}};easing.easeOutCubic=function(){return{fn:function(d){return function(x,t){return c*((t=t/d-1)*t*t+1)+b}}}};easing.easeInOutCubic=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b}}}};easing.easeInQuart=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t*t+b}}}};easing.easeInOutQuart=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b}}}};easing.easeInQuint=function(){return{fn:function(d){return function(x,t){return c*(t/=d)*t*t*t*t+b}}}};easing.easeOutQuint=function(){return{fn:function(d){return function(x,t){return c*((t=t/d-1)*t*t*t*t+1)+b}}}};easing.easeInExpo=function(){return{fn:function(d){return function(x,t){return t==0?b:c*Math.pow(2,10*(t/d-1))+b}}}};easing.easeInOutQuint=function(){return{fn:function(d){return function(x,t){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b}}}};easing.easeInSine=function(){return{fn:function(d){return function(x,t){return-c*Math.cos(t/d*(Math.PI/2))+c+b}}}};easing.easeInOutElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s_2=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b}}}};easing.easeOutElastic=function(){return{fn:function(d){return function(x,t){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s_3=p/4}else{s=p/(2*Math.PI)*Math.asin(c/a)}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b}}}};easing.easeInOutExpo=function(){return{fn:function(d){return function(x,t){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b}}}};easing.easeInOutBack=function(){return{fn:function(d){return function(x,t){var s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=1.525)+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b}}}};easing.easeOutBack=function(){return{fn:function(d){return function(x,t,d){var s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b}}}};easing.easeInBounce=function(){return{fn:function(d){return function(x,t,d){return c-easing.easeOutBounce().fn(d)(x,d-t,0,c,d)+b}}}};easing.easeInOutBounce=function(){return{fn:function(d){return function(x,t,d){if(t<d/2)return easing.easeInBounce().fn(d)(x,t*2,0,c,d)*.5+b;return easing.easeOutBounce().fn(d)(x,t*2-d,0,c,d)*.5+c*.5+b}}}}})(easing=exports.easing||(exports.easing={}))},{"../type":185}],178:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function formatDate(date,format){if(typeof date==="string"){date=new Date(date)}var dd=date.getDay();var mm=date.getMonth()+1;var yyyy=date.getFullYear();if(dd<10){dd="0"+dd}if(mm<10){mm="0"+mm}if(format==="YYYY-MM-DD"){return yyyy+"-"+mm+"-"+dd}else{return mm+"/"+dd+"/"+yyyy}}exports.formatDate=formatDate;function formatDateTime(date,format){if(typeof date==="string"){date=new Date(date)}var hh=(""+date.getHours()).length<2?"0"+date.getHours():""+date.getHours();var mm=(""+date.getMinutes()).length<2?"0"+date.getMinutes():""+date.getMinutes();return formatDate(date,"YYYY-MM-DD")+"T"+hh+":"+mm}exports.formatDateTime=formatDateTime;function timeHash(){return Date.now().toString(36)}},{}],179:[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});__export(require("./anim"));__export(require("./format"));__export(require("./printMs"));__export(require("./sleep"));__export(require("./throttle"));__export(require("./waitFor"))},{"./anim":177,"./format":178,"./printMs":180,"./sleep":181,"./throttle":182,"./waitFor":183}],180:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});function printMs(ms,config){if(config===void 0){config={minutes:false,seconds:true,ms:true}}config=__assign({minutes:false,seconds:true,ms:true},config);var seconds=config.seconds&&Math.floor(ms/1e3);var minutes=config.minutes&&seconds&&(config.ms?Math.floor(seconds/60):Math.round(seconds/60));var milliseconds=config.ms&&Math.floor(ms%1e3||ms);return""+(minutes?minutes+" minutes ":"")+(seconds?seconds+" seconds ":"")+(milliseconds?milliseconds+" ms ":"")}exports.printMs=printMs},{}],181:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function sleep(ms){return new Promise((function(resolve){setTimeout((function(){resolve()}),ms)}))}exports.sleep=sleep;exports.wait=sleep;function withTime(label,fn){console.time(label);var r=fn();console.timeEnd(label);return r}exports.withTime=withTime},{}],182:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function throttle(func,wait,options){if(options===void 0){options={}}var context,args,result;var timeout=null;var previous=0;options||(options={});var later=function(){previous=options.leading===false?0:Date.now();timeout=null;result=func.apply(context,args);context=args=null};return function(){var now=Date.now();if(!previous&&options.leading===false)previous=now;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args);context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}}exports.throttle=throttle},{}],183:[function(require,module,exports){"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P((function(resolve){resolve(result.value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var __generator=this&&this.__generator||function(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}};Object.defineProperty(exports,"__esModule",{value:true});var _1=require(".");var defaultOptions={interval:200,timeout:3e3};function waitForPredicate(p,options){if(options===void 0){options={interval:200,timeout:3e3}}return __awaiter(this,void 0,void 0,(function(){var o,t,r;return __generator(this,(function(_a){switch(_a.label){case 0:o=typeof options=="string"?__assign({},defaultOptions,{timeoutError:options}):options;t=setTimeout((function(){var msg=o.timeoutError||p.toString().substring(0,Math.min(p.toString().length,100));throw new Error(msg)}),o.timeout||3e3);_a.label=1;case 1:if(!!(r=p()))return[3,3];return[4,_1.sleep(o.interval||200)];case 2:_a.sent();return[3,1];case 3:t&&clearTimeout(t);return[2,r]}}))}))}exports.waitForPredicate=waitForPredicate},{".":179}],184:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function visitChildren(n,v){v(n);(n.childNodes||[]).forEach((function(c){return visitChildren(c,v)}))}exports.visitChildren=visitChildren;function mapChildren(n,v){var o=[];visitChildren(n,(function(c){return o.push(v(c))}));return o}exports.mapChildren=mapChildren;function findChildren(n,p){return(n.childNodes||[]).find(p)}exports.findChildren=findChildren;function filterChildren(n,p){return(n.childNodes||[]).filter((function(c){return p(c)}))}exports.filterChildren=filterChildren;function getChildIndex(node,children){if(children===void 0){children=undefined}var result=-1;node.parentNode&&(children||(node.parentNode?node.parentNode.childNodes||[]:[])).find((function(c,i){if(c===node){result=i;return true}return false}));return result}exports.getChildIndex=getChildIndex;function getNextSibling(node){var index=getChildIndex(node,node.childNodes);return node.parentNode&&index<(node.childNodes||[]).length-1?(node.childNodes||[])[index+1]:undefined}exports.getNextSibling=getNextSibling;function getSiblings(node,getChildrenMode){if(getChildrenMode===void 0){getChildrenMode=false}return node.parentNode?(node.parentNode.childNodes||[]).filter((function(c){return c!==node})):[]}exports.getSiblings=getSiblings;function getPreviousSibling(node){var index=getChildIndex(node,node.childNodes);return index>0&&node.parentNode?(node.childNodes||[])[index-1]:undefined}exports.getPreviousSibling=getPreviousSibling;function visitAncestors(n,v,o){if(o===void 0){o={}}return!n||v(n)||!n.parentNode||visitAncestors(n.parentNode,v,o)}exports.visitAncestors=visitAncestors;function findAncestor(n,p,o){if(o===void 0){o={}}var a;visitAncestors(n,(function(c){if(p(c)){a=c;return true}return false}),o);return a}exports.findAncestor=findAncestor;function findRootElement(n){return!n?undefined:!n.parentNode?n:findAncestor(n.parentNode,(function(p){return!p.parentNode}))}exports.findRootElement=findRootElement;function filterAncestors(n,p,o){if(o===void 0){o={}}var a=[];visitAncestors(n,(function(c){if(p(c)){a.push(c)}return false}));return a}exports.filterAncestors=filterAncestors;function visitDescendants(n,v,o,inRecursion){if(o===void 0){o={}}if(inRecursion===void 0){inRecursion=false}var r=false;if(o.childrenFirst){r=(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}));if(r){if(!o.breakOnDescendantSignal&&(o.andSelf||inRecursion)){v(n)}return true}else if(o.andSelf||inRecursion){r=v(n)}return false}else{if(o.andSelf||inRecursion){r=v(n)}if(r){if(!o.visitDescendantsOnSelfSignalAnyway){return true}else{return(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}))||true}}else{return(n.childNodes||[]).some((function(c){return visitDescendants(c,v,o,true)}))}}}exports.visitDescendants=visitDescendants;function filterDescendants(n,p,o){if(o===void 0){o={}}var a=[];visitDescendants(n,(function(c){if(p(c)){a.push(c)}return false}),o);return a}exports.filterDescendants=filterDescendants;function mapDescendants(n,p,o){if(o===void 0){o={}}var a=[];visitDescendants(n,(function(c){a.push(p(c));return false}),o);return a}exports.mapDescendants=mapDescendants;function findDescendant(n,p,o){if(o===void 0){o={}}var a;visitDescendants(n,(function(c){if(p(c)){a=c;return true}return false}),o);return a}exports.findDescendant=findDescendant;function getAncestors(node){var a=node;var result=[];while(a&&(a=a.parentNode)){result.push(a)}return result}exports.getAncestors=getAncestors;function getDistanceToAncestor(node,ancestor){if(node===ancestor||!node||!ancestor){return 0}else{return getDistanceToAncestor(node.parentNode,ancestor)+1}}exports.getDistanceToAncestor=getDistanceToAncestor},{}],185:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toStr=Object.prototype.toString;function getType(type){return toStr.call(type)}exports.getType=getType;function isObject(obj){return typeof obj==="object"&&getType(obj)==="[object Object]"}exports.isObject=isObject;exports.isArray=Array.isArray||function(obj){return toStr.call(obj)==="[object Array]"};function isString(a){return typeof a==="string"}exports.isString=isString;function isBoolean(obj){return typeof obj==="boolean"||getType(obj)==="[object Boolean]"}exports.isBoolean=isBoolean;function typeOf(input){return{}.toString.call(input).slice(8,-1).toLowerCase()}exports.typeOf=typeOf;function notUndefined(n){return n!==undefined}exports.notUndefined=notUndefined;function notFalsy(n){return!!n}exports.notFalsy=notFalsy;function anyUndefined(){var a=[];for(var _i=0;_i<arguments.length;_i++){a[_i]=arguments[_i]}return!!a.find((function(a){return typeof a==="undefined"}))}exports.anyUndefined=anyUndefined},{}],186:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getFileNameFromUrl(url){var hashIndex=url.indexOf("#");url=hashIndex!==-1?url.substring(0,hashIndex):url;return(url.split("/").pop()||"").replace(/[\?].*$/g,"")}exports.getFileNameFromUrl=getFileNameFromUrl;function getParametersFromUrl(url){var queryString=url.split("?")[1];var obj={};if(!queryString){return obj}queryString=queryString.split("#")[0];var arr=queryString.split("&");for(var i=0;i<arr.length;i++){var a=arr[i].split("=");obj[a[0]]=a[1]||""}return obj}exports.getParametersFromUrl=getParametersFromUrl},{}],187:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map((function(n){return test2[n]}));if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter}));if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],188:[function(require,module,exports){"use strict";module.exports=(promise,onFinally)=>{onFinally=onFinally||(()=>{});return promise.then(val=>new Promise(resolve=>{resolve(onFinally())}).then(()=>val),err=>new Promise(resolve=>{resolve(onFinally())}).then(()=>{throw err}))}},{}],189:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const EventEmitter=require("eventemitter3");const p_timeout_1=require("p-timeout");const priority_queue_1=require("./priority-queue");const empty=()=>{};const timeoutError=new p_timeout_1.default.TimeoutError;class PQueue extends EventEmitter{constructor(options){super();this._intervalCount=0;this._intervalEnd=0;this._pendingCount=0;this._resolveEmpty=empty;this._resolveIdle=empty;options=Object.assign({carryoverConcurrencyCount:false,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:true,queueClass:priority_queue_1.default},options);if(!(typeof options.intervalCap==="number"&&options.intervalCap>=1)){throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${options.intervalCap}\` (${typeof options.intervalCap})`)}if(options.interval===undefined||!(Number.isFinite(options.interval)&&options.interval>=0)){throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${options.interval}\` (${typeof options.interval})`)}this._carryoverConcurrencyCount=options.carryoverConcurrencyCount;this._isIntervalIgnored=options.intervalCap===Infinity||options.interval===0;this._intervalCap=options.intervalCap;this._interval=options.interval;this._queue=new options.queueClass;this._queueClass=options.queueClass;this.concurrency=options.concurrency;this._timeout=options.timeout;this._throwOnTimeout=options.throwOnTimeout===true;this._isPaused=options.autoStart===false}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--;this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty();this._resolveEmpty=empty;if(this._pendingCount===0){this._resolveIdle();this._resolveIdle=empty}}_onResumeInterval(){this._onInterval();this._initializeIntervalIfNeeded();this._timeoutId=undefined}_isIntervalPaused(){const now=Date.now();if(this._intervalId===undefined){const delay=this._intervalEnd-now;if(delay<0){this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}else{if(this._timeoutId===undefined){this._timeoutId=setTimeout(()=>{this._onResumeInterval()},delay)}return true}}return false}_tryToStartAnother(){if(this._queue.size===0){if(this._intervalId){clearInterval(this._intervalId)}this._intervalId=undefined;this._resolvePromises();return false}if(!this._isPaused){const canInitializeInterval=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){this.emit("active");this._queue.dequeue()();if(canInitializeInterval){this._initializeIntervalIfNeeded()}return true}}return false}_initializeIntervalIfNeeded(){if(this._isIntervalIgnored||this._intervalId!==undefined){return}this._intervalId=setInterval(()=>{this._onInterval()},this._interval);this._intervalEnd=Date.now()+this._interval}_onInterval(){if(this._intervalCount===0&&this._pendingCount===0&&this._intervalId){clearInterval(this._intervalId);this._intervalId=undefined}this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._processQueue()}_processQueue(){while(this._tryToStartAnother()){}}get concurrency(){return this._concurrency}set concurrency(newConcurrency){if(!(typeof newConcurrency==="number"&&newConcurrency>=1)){throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${newConcurrency}\` (${typeof newConcurrency})`)}this._concurrency=newConcurrency;this._processQueue()}async add(fn,options={}){return new Promise((resolve,reject)=>{const run=async()=>{this._pendingCount++;this._intervalCount++;try{const operation=this._timeout===undefined&&options.timeout===undefined?fn():p_timeout_1.default(Promise.resolve(fn()),options.timeout===undefined?this._timeout:options.timeout,()=>{if(options.throwOnTimeout===undefined?this._throwOnTimeout:options.throwOnTimeout){reject(timeoutError)}return undefined});resolve(await operation)}catch(error){reject(error)}this._next()};this._queue.enqueue(run,options);this._tryToStartAnother()})}async addAll(functions,options){return Promise.all(functions.map(async function_=>this.add(function_,options)))}start(){if(!this._isPaused){return this}this._isPaused=false;this._processQueue();return this}pause(){this._isPaused=true}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size===0){return}return new Promise(resolve=>{const existingResolve=this._resolveEmpty;this._resolveEmpty=()=>{existingResolve();resolve()}})}async onIdle(){if(this._pendingCount===0&&this._queue.size===0){return}return new Promise(resolve=>{const existingResolve=this._resolveIdle;this._resolveIdle=()=>{existingResolve();resolve()}})}get size(){return this._queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}set timeout(milliseconds){this._timeout=milliseconds}get timeout(){return this._timeout}}exports.default=PQueue},{"./priority-queue":191,eventemitter3:119,"p-timeout":192}],190:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function lowerBound(array,value,comparator){let first=0;let count=array.length;while(count>0){const step=count/2|0;let it=first+step;if(comparator(array[it],value)<=0){first=++it;count-=step+1}else{count=step}}return first}exports.default=lowerBound},{}],191:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const lower_bound_1=require("./lower-bound");class PriorityQueue{constructor(){this._queue=[]}enqueue(run,options){options=Object.assign({priority:0},options);const element={priority:options.priority,run:run};if(this.size&&this._queue[this.size-1].priority>=options.priority){this._queue.push(element);return}const index=lower_bound_1.default(this._queue,element,(a,b)=>b.priority-a.priority);this._queue.splice(index,0,element)}dequeue(){const item=this._queue.shift();return item&&item.run}get size(){return this._queue.length}}exports.default=PriorityQueue},{"./lower-bound":190}],192:[function(require,module,exports){"use strict";const pFinally=require("p-finally");class TimeoutError extends Error{constructor(message){super(message);this.name="TimeoutError"}}const pTimeout=(promise,milliseconds,fallback)=>new Promise((resolve,reject)=>{if(typeof milliseconds!=="number"||milliseconds<0){throw new TypeError("Expected `milliseconds` to be a positive number")}if(milliseconds===Infinity){resolve(promise);return}const timer=setTimeout(()=>{if(typeof fallback==="function"){try{resolve(fallback())}catch(error){reject(error)}return}const message=typeof fallback==="string"?fallback:`Promise timed out after ${milliseconds} milliseconds`;const timeoutError=fallback instanceof Error?fallback:new TimeoutError(message);if(typeof promise.cancel==="function"){promise.cancel()}reject(timeoutError)},milliseconds);pFinally(promise.then(resolve,reject),()=>{clearTimeout(timer)})});module.exports=pTimeout;module.exports.default=pTimeout;module.exports.TimeoutError=TimeoutError},{"p-finally":188}],193:[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],194:[function(require,module,exports){"use strict";var asn1=require("asn1.js");exports.certificate=require("./certificate");var RSAPrivateKey=asn1.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}));exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}));var PrivateKeyInfo=asn1.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())}));exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));exports.DSAPrivateKey=DSAPrivateKey;exports.DSAparam=asn1.define("DSAparam",(function(){this.int()}));var ECPrivateKey=asn1.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())}));exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));exports.signature=asn1.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":195,"asn1.js":29}],195:[function(require,module,exports){"use strict";var asn=require("asn1.js");var Time=asn.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}));var AttributeTypeValue=asn.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}));var AlgorithmIdentifier=asn.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}));var SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}));var RelativeDistinguishedName=asn.define("RelativeDistinguishedName",(function(){this.setof(AttributeTypeValue)}));var RDNSequence=asn.define("RDNSequence",(function(){this.seqof(RelativeDistinguishedName)}));var Name=asn.define("Name",(function(){this.choice({rdnSequence:this.use(RDNSequence)})}));var Validity=asn.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}));var Extension=asn.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(false),this.key("extnValue").octstr())}));var TBSCertificate=asn.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}));var X509Certificate=asn.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())}));module.exports=X509Certificate},{"asn1.js":29}],196:[function(require,module,exports){var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m;var startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m;var fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m;var evp=require("evp_bytestokey");var ciphers=require("browserify-aes");var Buffer=require("safe-buffer").Buffer;module.exports=function(okey,password){var key=okey.toString();var match=key.match(findProc);var decrypted;if(!match){var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/[\r\n]/g,""),"base64")}else{var suite="aes"+match[1];var iv=Buffer.from(match[2],"hex");var cipherText=Buffer.from(match[3].replace(/[\r\n]/g,""),"base64");var cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key;var out=[];var cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText));out.push(cipher.final());decrypted=Buffer.concat(out)}var tag=key.match(startRegex)[1];return{tag:tag,data:decrypted}}},{"browserify-aes":53,evp_bytestokey:121,"safe-buffer":229}],197:[function(require,module,exports){var asn1=require("./asn1");var aesid=require("./aesid.json");var fixProc=require("./fixProc");var ciphers=require("browserify-aes");var compat=require("pbkdf2");var Buffer=require("safe-buffer").Buffer;module.exports=parseKeys;function parseKeys(buffer){var password;if(typeof buffer==="object"&&!Buffer.isBuffer(buffer)){password=buffer.passphrase;buffer=buffer.key}if(typeof buffer==="string"){buffer=Buffer.from(buffer)}var stripped=fixProc(buffer,password);var type=stripped.tag;var data=stripped.data;var subtype,ndata;switch(type){case"CERTIFICATE":ndata=asn1.certificate.decode(data,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!ndata){ndata=asn1.PublicKey.decode(data,"der")}subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":ndata.subjectPrivateKey=ndata.subjectPublicKey;return{type:"ec",data:ndata};case"1.2.840.10040.4.1":ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der");return{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der");data=decrypt(data,password);case"PRIVATE KEY":ndata=asn1.PrivateKey.decode(data,"der");subtype=ndata.algorithm.algorithm.join(".");switch(subtype){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der");return{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":data=asn1.ECPrivateKey.decode(data,"der");return{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}parseKeys.signature=asn1.signature;function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt;var iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10);var algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")];var iv=data.algorithm.decrypt.cipher.iv;var cipherText=data.subjectPrivateKey;var keylen=parseInt(algo.split("-")[1],10)/8;var key=compat.pbkdf2Sync(password,salt,iters,keylen,"sha1");var cipher=ciphers.createDecipheriv(algo,key,iv);var out=[];out.push(cipher.update(cipherText));out.push(cipher.final());return Buffer.concat(out)}},{"./aesid.json":193,"./asn1":194,"./fixProc":196,"browserify-aes":53,pbkdf2:199,"safe-buffer":229}],198:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),(function(p){return!!p})),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),(function(p){return!!p})),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,(function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p})).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){if(typeof path!=="string")path=path+"";if(path.length===0)return".";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?"/":".";if(hasRoot&&end===1){return"/"}return path.slice(0,end)};function basename(path){if(typeof path!=="string")path=path+"";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return"";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!=="string")path=path+"";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return""}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,require("_process"))},{_process:205}],199:[function(require,module,exports){exports.pbkdf2=require("./lib/async");exports.pbkdf2Sync=require("./lib/sync")},{"./lib/async":200,"./lib/sync":203}],200:[function(require,module,exports){(function(process,global){var checkParameters=require("./precondition");var defaultEncoding=require("./default-encoding");var sync=require("./sync");var Buffer=require("safe-buffer").Buffer;var ZERO_BUF;var subtle=global.crypto&&global.crypto.subtle;var toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"};var checks=[];function checkNative(algo){if(global.process&&!global.process.browser){return Promise.resolve(false)}if(!subtle||!subtle.importKey||!subtle.deriveBits){return Promise.resolve(false)}if(checks[algo]!==undefined){return checks[algo]}ZERO_BUF=ZERO_BUF||Buffer.alloc(8);var prom=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,algo).then((function(){return true})).catch((function(){return false}));checks[algo]=prom;return prom}function browserPbkdf2(password,salt,iterations,length,algo){return subtle.importKey("raw",password,{name:"PBKDF2"},false,["deriveBits"]).then((function(key){return subtle.deriveBits({name:"PBKDF2",salt:salt,iterations:iterations,hash:{name:algo}},key,length<<3)})).then((function(res){return Buffer.from(res)}))}function resolvePromise(promise,callback){promise.then((function(out){process.nextTick((function(){callback(null,out)}))}),(function(e){process.nextTick((function(){callback(e)}))}))}module.exports=function(password,salt,iterations,keylen,digest,callback){if(typeof digest==="function"){callback=digest;digest=undefined}digest=digest||"sha1";var algo=toBrowser[digest.toLowerCase()];if(!algo||typeof global.Promise!=="function"){return process.nextTick((function(){var out;try{out=sync(password,salt,iterations,keylen,digest)}catch(e){return callback(e)}callback(null,out)}))}checkParameters(password,salt,iterations,keylen);if(typeof callback!=="function")throw new Error("No callback provided to pbkdf2");if(!Buffer.isBuffer(password))password=Buffer.from(password,defaultEncoding);if(!Buffer.isBuffer(salt))salt=Buffer.from(salt,defaultEncoding);resolvePromise(checkNative(algo).then((function(resp){if(resp)return browserPbkdf2(password,salt,iterations,keylen,algo);return sync(password,salt,iterations,keylen,digest)})),callback)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./default-encoding":201,"./precondition":202,"./sync":203,_process:205,"safe-buffer":229}],201:[function(require,module,exports){(function(process){var defaultEncoding;if(process.browser){defaultEncoding="utf-8"}else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}module.exports=defaultEncoding}).call(this,require("_process"))},{_process:205}],202:[function(require,module,exports){(function(Buffer){var MAX_ALLOC=Math.pow(2,30)-1;function checkBuffer(buf,name){if(typeof buf!=="string"&&!Buffer.isBuffer(buf)){throw new TypeError(name+" must be a buffer or string")}}module.exports=function(password,salt,iterations,keylen){checkBuffer(password,"Password");checkBuffer(salt,"Salt");if(typeof iterations!=="number"){throw new TypeError("Iterations not a number")}if(iterations<0){throw new TypeError("Bad iterations")}if(typeof keylen!=="number"){throw new TypeError("Key length not a number")}if(keylen<0||keylen>MAX_ALLOC||keylen!==keylen){throw new TypeError("Bad key length")}}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":138}],203:[function(require,module,exports){var md5=require("create-hash/md5");var RIPEMD160=require("ripemd160");var sha=require("sha.js");var checkParameters=require("./precondition");var defaultEncoding=require("./default-encoding");var Buffer=require("safe-buffer").Buffer;var ZEROS=Buffer.alloc(128);var sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(alg,key,saltLen){var hash=getDigest(alg);var blocksize=alg==="sha512"||alg==="sha384"?128:64;if(key.length>blocksize){key=hash(key)}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=Buffer.allocUnsafe(blocksize+sizes[alg]);var opad=Buffer.allocUnsafe(blocksize+sizes[alg]);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}var ipad1=Buffer.allocUnsafe(blocksize+saltLen+4);ipad.copy(ipad1,0,0,blocksize);this.ipad1=ipad1;this.ipad2=ipad;this.opad=opad;this.alg=alg;this.blocksize=blocksize;this.hash=hash;this.size=sizes[alg]}Hmac.prototype.run=function(data,ipad){data.copy(ipad,this.blocksize);var h=this.hash(ipad);h.copy(this.opad,this.blocksize);return this.hash(this.opad)};function getDigest(alg){function shaFunc(data){return sha(alg).update(data).digest()}function rmd160Func(data){return(new RIPEMD160).update(data).digest()}if(alg==="rmd160"||alg==="ripemd160")return rmd160Func;if(alg==="md5")return md5;return shaFunc}function pbkdf2(password,salt,iterations,keylen,digest){checkParameters(password,salt,iterations,keylen);if(!Buffer.isBuffer(password))password=Buffer.from(password,defaultEncoding);if(!Buffer.isBuffer(salt))salt=Buffer.from(salt,defaultEncoding);digest=digest||"sha1";var hmac=new Hmac(digest,password,salt.length);var DK=Buffer.allocUnsafe(keylen);var block1=Buffer.allocUnsafe(salt.length+4);salt.copy(block1,0,0,salt.length);var destPos=0;var hLen=sizes[digest];var l=Math.ceil(keylen/hLen);for(var i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var T=hmac.run(block1,hmac.ipad1);var U=T;for(var j=1;j<iterations;j++){U=hmac.run(U,hmac.ipad2);for(var k=0;k<hLen;k++)T[k]^=U[k]}T.copy(DK,destPos);destPos+=hLen}return DK}module.exports=pbkdf2},{"./default-encoding":201,"./precondition":202,"create-hash/md5":85,ripemd160:228,"safe-buffer":229,"sha.js":231}],204:[function(require,module,exports){(function(process){"use strict";if(typeof process==="undefined"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports={nextTick:nextTick}}else{module.exports=process}function nextTick(fn,arg1,arg2,arg3){if(typeof fn!=="function"){throw new TypeError('"callback" argument must be a function')}var len=arguments.length;var args,i;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick((function afterTickOne(){fn.call(null,arg1)}));case 3:return process.nextTick((function afterTickTwo(){fn.call(null,arg1,arg2)}));case 4:return process.nextTick((function afterTickThree(){fn.call(null,arg1,arg2,arg3)}));default:args=new Array(len-1);i=0;while(i<args.length){args[i++]=arguments[i]}return process.nextTick((function afterTick(){fn.apply(null,args)}))}}}).call(this,require("_process"))},{_process:205}],205:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],206:[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt");exports.privateDecrypt=require("./privateDecrypt");exports.privateEncrypt=function privateEncrypt(key,buf){return exports.publicEncrypt(key,buf,true)};exports.publicDecrypt=function publicDecrypt(key,buf){return exports.privateDecrypt(key,buf,true)}},{"./privateDecrypt":208,"./publicEncrypt":209}],207:[function(require,module,exports){var createHash=require("create-hash");var Buffer=require("safe-buffer").Buffer;module.exports=function(seed,len){var t=Buffer.alloc(0);var i=0;var c;while(t.length<len){c=i2ops(i++);t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()])}return t.slice(0,len)};function i2ops(c){var out=Buffer.allocUnsafe(4);out.writeUInt32BE(c,0);return out}},{"create-hash":84,"safe-buffer":229}],208:[function(require,module,exports){var parseKeys=require("parse-asn1");var mgf=require("./mgf");var xor=require("./xor");var BN=require("bn.js");var crt=require("browserify-rsa");var createHash=require("create-hash");var withPublic=require("./withPublic");var Buffer=require("safe-buffer").Buffer;module.exports=function privateDecrypt(privateKey,enc,reverse){var padding;if(privateKey.padding){padding=privateKey.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(privateKey);var k=key.modulus.byteLength();if(enc.length>k||new BN(enc).cmp(key.modulus)>=0){throw new Error("decryption error")}var msg;if(reverse){msg=withPublic(new BN(enc),key)}else{msg=crt(enc,key)}var zBuffer=Buffer.alloc(k-msg.length);msg=Buffer.concat([zBuffer,msg],k);if(padding===4){return oaep(key,msg)}else if(padding===1){return pkcs1(key,msg,reverse)}else if(padding===3){return msg}else{throw new Error("unknown padding")}};function oaep(key,msg){var k=key.modulus.byteLength();var iHash=createHash("sha1").update(Buffer.alloc(0)).digest();var hLen=iHash.length;if(msg[0]!==0){throw new Error("decryption error")}var maskedSeed=msg.slice(1,hLen+1);var maskedDb=msg.slice(hLen+1);var seed=xor(maskedSeed,mgf(maskedDb,hLen));var db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen))){throw new Error("decryption error")}var i=hLen;while(db[i]===0){i++}if(db[i++]!==1){throw new Error("decryption error")}return db.slice(i)}function pkcs1(key,msg,reverse){var p1=msg.slice(0,2);var i=2;var status=0;while(msg[i++]!==0){if(i>=msg.length){status++;break}}var ps=msg.slice(2,i-1);if(p1.toString("hex")!=="0002"&&!reverse||p1.toString("hex")!=="0001"&&reverse){status++}if(ps.length<8){status++}if(status){throw new Error("decryption error")}return msg.slice(i)}function compare(a,b){a=Buffer.from(a);b=Buffer.from(b);var dif=0;var len=a.length;if(a.length!==b.length){dif++;len=Math.min(a.length,b.length)}var i=-1;while(++i<len){dif+=a[i]^b[i]}return dif}},{"./mgf":207,"./withPublic":210,"./xor":211,"bn.js":48,"browserify-rsa":71,"create-hash":84,"parse-asn1":197,"safe-buffer":229}],209:[function(require,module,exports){var parseKeys=require("parse-asn1");var randomBytes=require("randombytes");var createHash=require("create-hash");var mgf=require("./mgf");var xor=require("./xor");var BN=require("bn.js");var withPublic=require("./withPublic");var crt=require("browserify-rsa");var Buffer=require("safe-buffer").Buffer;module.exports=function publicEncrypt(publicKey,msg,reverse){var padding;if(publicKey.padding){padding=publicKey.padding}else if(reverse){padding=1}else{padding=4}var key=parseKeys(publicKey);var paddedMsg;if(padding===4){paddedMsg=oaep(key,msg)}else if(padding===1){paddedMsg=pkcs1(key,msg,reverse)}else if(padding===3){paddedMsg=new BN(msg);if(paddedMsg.cmp(key.modulus)>=0){throw new Error("data too long for modulus")}}else{throw new Error("unknown padding")}if(reverse){return crt(paddedMsg,key)}else{return withPublic(paddedMsg,key)}};function oaep(key,msg){var k=key.modulus.byteLength();var mLen=msg.length;var iHash=createHash("sha1").update(Buffer.alloc(0)).digest();var hLen=iHash.length;var hLen2=2*hLen;if(mLen>k-hLen2-2){throw new Error("message too long")}var ps=Buffer.alloc(k-mLen-hLen2-2);var dblen=k-hLen-1;var seed=randomBytes(hLen);var maskedDb=xor(Buffer.concat([iHash,ps,Buffer.alloc(1,1),msg],dblen),mgf(seed,dblen));var maskedSeed=xor(seed,mgf(maskedDb,hLen));return new BN(Buffer.concat([Buffer.alloc(1),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length;var k=key.modulus.byteLength();if(mLen>k-11){throw new Error("message too long")}var ps;if(reverse){ps=Buffer.alloc(k-mLen-3,255)}else{ps=nonZero(k-mLen-3)}return new BN(Buffer.concat([Buffer.from([0,reverse?1:2]),ps,Buffer.alloc(1),msg],k))}function nonZero(len){var out=Buffer.allocUnsafe(len);var i=0;var cache=randomBytes(len*2);var cur=0;var num;while(i<len){if(cur===cache.length){cache=randomBytes(len*2);cur=0}num=cache[cur++];if(num){out[i++]=num}}return out}},{"./mgf":207,"./withPublic":210,"./xor":211,"bn.js":48,"browserify-rsa":71,"create-hash":84,"parse-asn1":197,randombytes:212,"safe-buffer":229}],210:[function(require,module,exports){var BN=require("bn.js");var Buffer=require("safe-buffer").Buffer;function withPublic(paddedMsg,key){return Buffer.from(paddedMsg.toRed(BN.mont(key.modulus)).redPow(new BN(key.publicExponent)).fromRed().toArray())}module.exports=withPublic},{"bn.js":48,"safe-buffer":229}],211:[function(require,module,exports){module.exports=function xor(a,b){var len=a.length;var i=-1;while(++i<len){a[i]^=b[i]}return a}},{}],212:[function(require,module,exports){(function(process,global){"use strict";var MAX_BYTES=65536;var MAX_UINT32=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Buffer=require("safe-buffer").Buffer;var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){module.exports=randomBytes}else{module.exports=oldBrowser}function randomBytes(size,cb){if(size>MAX_UINT32)throw new RangeError("requested too many random bytes");var bytes=Buffer.allocUnsafe(size);if(size>0){if(size>MAX_BYTES){for(var generated=0;generated<size;generated+=MAX_BYTES){crypto.getRandomValues(bytes.slice(generated,generated+MAX_BYTES))}}else{crypto.getRandomValues(bytes)}}if(typeof cb==="function"){return process.nextTick((function(){cb(null,bytes)}))}return bytes}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:205,"safe-buffer":229}],213:[function(require,module,exports){(function(process,global){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var safeBuffer=require("safe-buffer");var randombytes=require("randombytes");var Buffer=safeBuffer.Buffer;var kBufferMaxLength=safeBuffer.kMaxLength;var crypto=global.crypto||global.msCrypto;var kMaxUint32=Math.pow(2,32)-1;function assertOffset(offset,length){if(typeof offset!=="number"||offset!==offset){throw new TypeError("offset must be a number")}if(offset>kMaxUint32||offset<0){throw new TypeError("offset must be a uint32")}if(offset>kBufferMaxLength||offset>length){throw new RangeError("offset out of range")}}function assertSize(size,offset,length){if(typeof size!=="number"||size!==size){throw new TypeError("size must be a number")}if(size>kMaxUint32||size<0){throw new TypeError("size must be a uint32")}if(size+offset>length||size>kBufferMaxLength){throw new RangeError("buffer too small")}}if(crypto&&crypto.getRandomValues||!process.browser){exports.randomFill=randomFill;exports.randomFillSync=randomFillSync}else{exports.randomFill=oldBrowser;exports.randomFillSync=oldBrowser}function randomFill(buf,offset,size,cb){if(!Buffer.isBuffer(buf)&&!(buf instanceof global.Uint8Array)){throw new TypeError('"buf" argument must be a Buffer or Uint8Array')}if(typeof offset==="function"){cb=offset;offset=0;size=buf.length}else if(typeof size==="function"){cb=size;size=buf.length-offset}else if(typeof cb!=="function"){throw new TypeError('"cb" argument must be a function')}assertOffset(offset,buf.length);assertSize(size,offset,buf.length);return actualFill(buf,offset,size,cb)}function actualFill(buf,offset,size,cb){if(process.browser){var ourBuf=buf.buffer;var uint=new Uint8Array(ourBuf,offset,size);crypto.getRandomValues(uint);if(cb){process.nextTick((function(){cb(null,buf)}));return}return buf}if(cb){randombytes(size,(function(err,bytes){if(err){return cb(err)}bytes.copy(buf,offset);cb(null,buf)}));return}var bytes=randombytes(size);bytes.copy(buf,offset);return buf}function randomFillSync(buf,offset,size){if(typeof offset==="undefined"){offset=0}if(!Buffer.isBuffer(buf)&&!(buf instanceof global.Uint8Array)){throw new TypeError('"buf" argument must be a Buffer or Uint8Array')}assertOffset(offset,buf.length);if(size===undefined)size=buf.length-offset;assertSize(size,offset,buf.length);return actualFill(buf,offset,size)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:205,randombytes:212,"safe-buffer":229}],214:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":215}],215:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);{var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function onend(){if(this.allowHalfOpen||this._writableState.ended)return;pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}});Duplex.prototype._destroy=function(err,cb){this.push(null);this.end();pna.nextTick(cb,err)}},{"./_stream_readable":217,"./_stream_writable":219,"core-util-is":82,inherits:137,"process-nextick-args":204}],216:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":218,"core-util-is":82,inherits:137}],217:[function(require,module,exports){(function(process,global){"use strict";var pna=require("process-nextick-args");module.exports=Readable;var isArray=require("isarray");var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug=void 0;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var BufferList=require("./internal/streams/BufferList");var destroyImpl=require("./internal/streams/destroy");var StringDecoder;util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function")return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var readableHwm=options.readableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(readableHwm||readableHwm===0))this.highWaterMark=readableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){this.push(null);cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)stream.emit("error",new Error("stream.unshift() after end event"));else addChunk(stream,state,chunk,true)}else if(state.ended){stream.emit("error",new Error("stream.push() after EOF"))}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false}}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}else{state.length-=n}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)pna.nextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;pna.nextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)pna.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}var increasedAwaitDrain=false;src.on("data",ondata);function ondata(chunk){debug("ondata");increasedAwaitDrain=false;var ret=dest.write(chunk);if(false===ret&&!increasedAwaitDrain){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++;increasedAwaitDrain=true}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,unpipeInfo)}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"){if(this._readableState.flowing!==false)this.resume()}else if(ev==="readable"){var state=this._readableState;if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.emittedReadable=false;if(!state.reading){pna.nextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;pna.nextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;state.awaitDrain=0;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var _this=this;var state=this._readableState;var paused=false;stream.on("end",(function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)_this.push(chunk)}_this.push(null)}));stream.on("data",(function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=_this.push(chunk);if(!ret){paused=true;stream.pause()}}));for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]))}this._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return this};Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Readable._fromList=fromList;function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.head.data;else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=fromListPartial(n,state.buffer,state.decoder)}return ret}function fromListPartial(n,list,hasStrings){var ret;if(n<list.head.data.length){ret=list.head.data.slice(0,n);list.head.data=list.head.data.slice(n)}else if(n===list.head.data.length){ret=list.shift()}else{ret=hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list)}return ret}function copyFromBufferString(n,list){var p=list.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=str.slice(nb)}break}++c}list.length-=c;return ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n);var p=list.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=buf.slice(nb)}break}++c}list.length-=c;return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!state.endEmitted){state.ended=true;pna.nextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./_stream_duplex":215,"./internal/streams/BufferList":220,"./internal/streams/destroy":221,"./internal/streams/stream":222,_process:205,"core-util-is":82,events:120,inherits:137,isarray:139,"process-nextick-args":204,"safe-buffer":229,"string_decoder/":223,util:50}],218:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function afterTransform(er,data){var ts=this._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb){return this.emit("error",new Error("write callback called multiple times"))}ts.writechunk=null;ts.writecb=null;if(data!=null)this.push(data);cb(er);var rs=this._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){this._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.on("prefinish",prefinish)}function prefinish(){var _this=this;if(typeof this._flush==="function"){this._flush((function(er,data){done(_this,er,data)}))}else{done(this,null,null)}}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,(function(err2){cb(err2);_this2.emit("close")}))};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!=null)stream.push(data);if(stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":215,"core-util-is":82,inherits:137}],219:[function(require,module,exports){(function(process,global,setImmediate){"use strict";var pna=require("process-nextick-args");module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;var Duplex;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream);function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var writableHwm=options.writableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(writableHwm||writableHwm===0))this.highWaterMark=writableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){if(realHasInstance.call(this,object))return true;if(this!==Writable)return false;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function(object){return object instanceof this}}function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!realHasInstance.call(Writable,this)&&!(this instanceof Duplex)){return new Writable(options)}this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options.final==="function")this._final=options.final}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);pna.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;var er=false;if(chunk===null){er=new TypeError("May not write null values to stream")}else if(typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}if(er){stream.emit("error",er);pna.nextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=!state.objectMode&&_isUint8Array(chunk);if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){pna.nextTick(cb,er);pna.nextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;stream.emit("error",er)}else{cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){asyncWrite(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}state.bufferedRequestCount=0}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;state.bufferedRequestCount--;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final((function(err){state.pendingcb--;if(err){stream.emit("error",err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)}))}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"){state.pendingcb++;state.finalCalled=true;pna.nextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish")}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)pna.nextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}if(state.corkedRequestsFree){state.corkedRequestsFree.next=corkReq}else{state.corkedRequestsFree=corkReq}}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){this.end();cb(err)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("timers").setImmediate)},{"./_stream_duplex":215,"./internal/streams/destroy":221,"./internal/streams/stream":222,_process:205,"core-util-is":82,inherits:137,"process-nextick-args":204,"safe-buffer":229,timers:241,"util-deprecate":242}],220:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Buffer=require("safe-buffer").Buffer;var util=require("util");function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length};BufferList.prototype.unshift=function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret};BufferList.prototype.concat=function concat(n){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret};return BufferList}();if(util&&util.inspect&&util.inspect.custom){module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj}}},{"safe-buffer":229,util:50}],221:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err&&(!this._writableState||!this._writableState.errorEmitted)){pna.nextTick(emitErrorNT,this,err)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,(function(err){if(!cb&&err){pna.nextTick(emitErrorNT,_this,err);if(_this._writableState){_this._writableState.errorEmitted=true}}else if(cb){cb(err)}}));return this}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy}},{"process-nextick-args":204}],222:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:120}],223:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var isEncoding=Buffer.isEncoding||function(encoding){encoding=""+encoding;switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(enc){if(!enc)return"utf8";var retried;while(true){switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase();retried=true}}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!=="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;nb=4;break;case"utf8":this.fillLast=utf8FillLast;nb=4;break;case"base64":this.text=base64Text;this.end=base64End;nb=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=Buffer.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r;var i;if(this.lastNeed){r=this.fillLast(buf);if(r===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<buf.length)return r?r+this.text(buf,i):this.text(buf,i);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length){buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length);this.lastNeed-=buf.length};function utf8CheckByte(byte){if(byte<=127)return 0;else if(byte>>5===6)return 2;else if(byte>>4===14)return 3;else if(byte>>3===30)return 4;return byte>>6===2?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-1;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-2;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0){if(nb===2)nb=0;else self.lastNeed=nb-3}return nb}return 0}function utf8CheckExtraBytes(self,buf,p){if((buf[0]&192)!==128){self.lastNeed=0;return""}if(self.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128){self.lastNeed=1;return""}if(self.lastNeed>2&&buf.length>2){if((buf[2]&192)!==128){self.lastNeed=2;return""}}}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,buf,p);if(r!==undefined)return r;if(this.lastNeed<=buf.length){buf.copy(this.lastChar,p,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,p,0,buf.length);this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);buf.copy(this.lastChar,0,end);return buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+"";return r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=buf[buf.length-1];return buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;if(n===0)return buf.toString("base64",i);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=buf[buf.length-1]}else{this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1]}return buf.toString("base64",i,buf.length-n)}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}},{"safe-buffer":229}],224:[function(require,module,exports){module.exports=require("./readable").PassThrough},{"./readable":225}],225:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":215,"./lib/_stream_passthrough.js":216,"./lib/_stream_readable.js":217,"./lib/_stream_transform.js":218,"./lib/_stream_writable.js":219}],226:[function(require,module,exports){module.exports=require("./readable").Transform},{"./readable":225}],227:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":219}],228:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer;var inherits=require("inherits");var HashBase=require("hash-base");var ARRAY16=new Array(16);var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){HashBase.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}inherits(RIPEMD160,HashBase);RIPEMD160.prototype._update=function(){var words=ARRAY16;for(var j=0;j<16;++j)words[j]=this._block.readInt32LE(j*4);var al=this._a|0;var bl=this._b|0;var cl=this._c|0;var dl=this._d|0;var el=this._e|0;var ar=this._a|0;var br=this._b|0;var cr=this._c|0;var dr=this._d|0;var er=this._e|0;for(var i=0;i<80;i+=1){var tl;var tr;if(i<16){tl=fn1(al,bl,cl,dl,el,words[zl[i]],hl[0],sl[i]);tr=fn5(ar,br,cr,dr,er,words[zr[i]],hr[0],sr[i])}else if(i<32){tl=fn2(al,bl,cl,dl,el,words[zl[i]],hl[1],sl[i]);tr=fn4(ar,br,cr,dr,er,words[zr[i]],hr[1],sr[i])}else if(i<48){tl=fn3(al,bl,cl,dl,el,words[zl[i]],hl[2],sl[i]);tr=fn3(ar,br,cr,dr,er,words[zr[i]],hr[2],sr[i])}else if(i<64){tl=fn4(al,bl,cl,dl,el,words[zl[i]],hl[3],sl[i]);tr=fn2(ar,br,cr,dr,er,words[zr[i]],hr[3],sr[i])}else{tl=fn5(al,bl,cl,dl,el,words[zl[i]],hl[4],sl[i]);tr=fn1(ar,br,cr,dr,er,words[zr[i]],hr[4],sr[i])}al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=tl;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=tr}var t=this._b+cl+dr|0;this._b=this._c+dl+er|0;this._c=this._d+el+ar|0;this._d=this._e+al+br|0;this._e=this._a+bl+cr|0;this._a=t};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);buffer.writeInt32LE(this._a,0);buffer.writeInt32LE(this._b,4);buffer.writeInt32LE(this._c,8);buffer.writeInt32LE(this._d,12);buffer.writeInt32LE(this._e,16);return buffer};function rotl(x,n){return x<<n|x>>>32-n}function fn1(a,b,c,d,e,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+e|0}function fn2(a,b,c,d,e,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+e|0}function fn3(a,b,c,d,e,m,k,s){return rotl(a+((b|~c)^d)+m+k|0,s)+e|0}function fn4(a,b,c,d,e,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+e|0}function fn5(a,b,c,d,e,m,k,s){return rotl(a+(b^(c|~d))+m+k|0,s)+e|0}module.exports=RIPEMD160},{buffer:80,"hash-base":122,inherits:137}],229:[function(require,module,exports){var buffer=require("buffer");var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},{buffer:80}],230:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function Hash(blockSize,finalSize){this._block=Buffer.alloc(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0}Hash.prototype.update=function(data,enc){if(typeof data==="string"){enc=enc||"utf8";data=Buffer.from(data,enc)}var block=this._block;var blockSize=this._blockSize;var length=data.length;var accum=this._len;for(var offset=0;offset<length;){var assigned=accum%blockSize;var remainder=Math.min(length-offset,blockSize-assigned);for(var i=0;i<remainder;i++){block[assigned+i]=data[offset+i]}accum+=remainder;offset+=remainder;if(accum%blockSize===0){this._update(block)}}this._len+=length;return this};Hash.prototype.digest=function(enc){var rem=this._len%this._blockSize;this._block[rem]=128;this._block.fill(0,rem+1);if(rem>=this._finalSize){this._update(this._block);this._block.fill(0)}var bits=this._len*8;if(bits<=4294967295){this._block.writeUInt32BE(bits,this._blockSize-4)}else{var lowBits=(bits&4294967295)>>>0;var highBits=(bits-lowBits)/4294967296;this._block.writeUInt32BE(highBits,this._blockSize-8);this._block.writeUInt32BE(lowBits,this._blockSize-4)}this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module.exports=Hash},{"safe-buffer":229}],231:[function(require,module,exports){var exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=require("./sha");exports.sha1=require("./sha1");exports.sha224=require("./sha224");exports.sha256=require("./sha256");exports.sha384=require("./sha384");exports.sha512=require("./sha512")},{"./sha":232,"./sha1":233,"./sha224":234,"./sha256":235,"./sha384":236,"./sha512":237}],232:[function(require,module,exports){var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha,Hash);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha.prototype._hash=function(){var H=Buffer.allocUnsafe(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha},{"./hash":230,inherits:137,"safe-buffer":229}],233:[function(require,module,exports){var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1518500249,1859775393,2400959708|0,3395469782|0];var W=new Array(80);function Sha1(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){if(s===0)return b&c|~b&d;if(s===2)return b&c|b&d|c&d;return b^c^d}Sha1.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<80;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;j<80;++j){var s=~~(j/20);var t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d;d=c;c=rotl30(b);b=a;a=t}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=Buffer.allocUnsafe(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha1},{"./hash":230,inherits:137,"safe-buffer":229}],234:[function(require,module,exports){var inherits=require("inherits");var Sha256=require("./sha256");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var W=new Array(64);function Sha224(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha224,Sha256);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var H=Buffer.allocUnsafe(28);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);return H};module.exports=Sha224},{"./hash":230,"./sha256":235,inherits:137,"safe-buffer":229}],235:[function(require,module,exports){var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var W=new Array(64);function Sha256(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha256,Hash);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}Sha256.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;for(var i=0;i<16;++i)W[i]=M.readInt32BE(i*4);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0;var T2=sigma0(a)+maj(a,b,c)|0;h=g;g=f;f=e;e=d+T1|0;d=c;c=b;b=a;a=T1+T2|0}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var H=Buffer.allocUnsafe(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};module.exports=Sha256},{"./hash":230,inherits:137,"safe-buffer":229}],236:[function(require,module,exports){var inherits=require("inherits");var SHA512=require("./sha512");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var W=new Array(160);function Sha384(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var H=Buffer.allocUnsafe(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return H};module.exports=Sha384},{"./hash":230,"./sha512":237,inherits:137,"safe-buffer":229}],237:[function(require,module,exports){var inherits=require("inherits");var Hash=require("./hash");var Buffer=require("safe-buffer").Buffer;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var W=new Array(160);function Sha512(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha512,Hash);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}Sha512.prototype._update=function(M){var W=this._w;var ah=this._ah|0;var bh=this._bh|0;var ch=this._ch|0;var dh=this._dh|0;var eh=this._eh|0;var fh=this._fh|0;var gh=this._gh|0;var hh=this._hh|0;var al=this._al|0;var bl=this._bl|0;var cl=this._cl|0;var dl=this._dl|0;var el=this._el|0;var fl=this._fl|0;var gl=this._gl|0;var hl=this._hl|0;for(var i=0;i<32;i+=2){W[i]=M.readInt32BE(i*4);W[i+1]=M.readInt32BE(i*4+4)}for(;i<160;i+=2){var xh=W[i-15*2];var xl=W[i-15*2+1];var gamma0=Gamma0(xh,xl);var gamma0l=Gamma0l(xl,xh);xh=W[i-2*2];xl=W[i-2*2+1];var gamma1=Gamma1(xh,xl);var gamma1l=Gamma1l(xl,xh);var Wi7h=W[i-7*2];var Wi7l=W[i-7*2+1];var Wi16h=W[i-16*2];var Wi16l=W[i-16*2+1];var Wil=gamma0l+Wi7l|0;var Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0;Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0;Wil=Wil+Wi16l|0;Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0;W[i]=Wih;W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j];Wil=W[j+1];var majh=maj(ah,bh,ch);var majl=maj(al,bl,cl);var sigma0h=sigma0(ah,al);var sigma0l=sigma0(al,ah);var sigma1h=sigma1(eh,el);var sigma1l=sigma1(el,eh);var Kih=K[j];var Kil=K[j+1];var chh=Ch(eh,fh,gh);var chl=Ch(el,fl,gl);var t1l=hl+sigma1l|0;var t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0;t1h=t1h+chh+getCarry(t1l,chl)|0;t1l=t1l+Kil|0;t1h=t1h+Kih+getCarry(t1l,Kil)|0;t1l=t1l+Wil|0;t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0;var t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+getCarry(el,dl)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0;this._bl=this._bl+bl|0;this._cl=this._cl+cl|0;this._dl=this._dl+dl|0;this._el=this._el+el|0;this._fl=this._fl+fl|0;this._gl=this._gl+gl|0;this._hl=this._hl+hl|0;this._ah=this._ah+ah+getCarry(this._al,al)|0;this._bh=this._bh+bh+getCarry(this._bl,bl)|0;this._ch=this._ch+ch+getCarry(this._cl,cl)|0;this._dh=this._dh+dh+getCarry(this._dl,dl)|0;this._eh=this._eh+eh+getCarry(this._el,el)|0;this._fh=this._fh+fh+getCarry(this._fl,fl)|0;this._gh=this._gh+gh+getCarry(this._gl,gl)|0;this._hh=this._hh+hh+getCarry(this._hl,hl)|0};Sha512.prototype._hash=function(){var H=Buffer.allocUnsafe(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return H};module.exports=Sha512},{"./hash":230,inherits:137,"safe-buffer":229}],238:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:120,inherits:137,"readable-stream/duplex.js":214,"readable-stream/passthrough.js":224,"readable-stream/readable.js":225,"readable-stream/transform.js":226,"readable-stream/writable.js":227}],239:[function(require,module,exports){arguments[4][223][0].apply(exports,arguments)},{dup:223,"safe-buffer":240}],240:[function(require,module,exports){var buffer=require("buffer");var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}SafeBuffer.prototype=Object.create(Buffer.prototype);copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},{buffer:80}],241:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout((function onTimeout(){if(item._onTimeout)item._onTimeout()}),msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick((function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}}));return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":205,timers:241}],242:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],243:[function(require,module,exports){var indexOf=function(xs,item){if(xs.indexOf)return xs.indexOf(item);else for(var i=0;i<xs.length;i++){if(xs[i]===item)return i}return-1};var Object_keys=function(obj){if(Object.keys)return Object.keys(obj);else{var res=[];for(var key in obj)res.push(key);return res}};var forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);else for(var i=0;i<xs.length;i++){fn(xs[i],i,xs)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(obj,name,value){Object.defineProperty(obj,name,{writable:true,enumerable:false,configurable:true,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context)){throw new TypeError("needs a 'context' argument.")}var iframe=document.createElement("iframe");if(!iframe.style)iframe.style={};iframe.style.display="none";document.body.appendChild(iframe);var win=iframe.contentWindow;var wEval=win.eval,wExecScript=win.execScript;if(!wEval&&wExecScript){wExecScript.call(win,"null");wEval=win.eval}forEach(Object_keys(context),(function(key){win[key]=context[key]}));forEach(globals,(function(key){if(context[key]){win[key]=context[key]}}));var winKeys=Object_keys(win);var res=wEval.call(win,this.code);forEach(Object_keys(win),(function(key){if(key in context||indexOf(winKeys,key)===-1){context[key]=win[key]}}));forEach(globals,(function(key){if(!(key in context)){defineProp(context,key,win[key])}}));document.body.removeChild(iframe);return res};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context);var res=this.runInContext(ctx);if(context){forEach(Object_keys(ctx),(function(key){context[key]=ctx[key]}))}return res};forEach(Object_keys(Script.prototype),(function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}));exports.isContext=function(context){return context instanceof Context};exports.createScript=function(code){return exports.Script(code)};exports.createContext=Script.createContext=function(context){var copy=new Context;if(typeof context==="object"){forEach(Object_keys(context),(function(key){copy[key]=context[key]}))}return copy}},{}],"/":[function(require,module,exports){"use strict";function __export(m){for(var p in m)if(!exports.hasOwnProperty(p))exports[p]=m[p]}Object.defineProperty(exports,"__esModule",{value:true});const misc_utils_of_mine_generic_1=require("misc-utils-of-mine-generic");misc_utils_of_mine_generic_1.flatInstallArrayPrototype();require("./util/magicaWasm").getThisBrowserScriptTagSrc();require("./util/magica").installMagica();var file_1=require("./file/file");exports.File=file_1.File;var protected_1=require("./file/protected");exports.isProtectedFile=protected_1.isProtectedFile;exports.protectFile=protected_1.protectFile;__export(require("./image/html"));var imageCompare_1=require("./image/imageCompare");exports.imageCompare=imageCompare_1.imageCompare;var imageInfo_1=require("./image/imageInfo");exports.imageInfo=imageInfo_1.imageInfo;__export(require("./image/imageUtil"));var support_1=require("./image/support");exports.imageBuiltIn=support_1.imageBuiltIn;exports.knownSupportedReadWriteImageFormats=support_1.knownSupportedReadWriteImageFormats;__export(require("./imageMagick/imLists"));var magickLoaded_1=require("./imageMagick/magickLoaded");exports.magickLoaded=magickLoaded_1.magickLoaded;var command_1=require("./main/command");exports.cliToArray=command_1.cliToArray;var executeCommandPreprocessor_1=require("./main/executeCommandPreprocessor");exports.registerCommandPreprocessor=executeCommandPreprocessor_1.registerCommandPreprocessor;__export(require("./main/main"));var run_1=require("./main/run");exports.run=run_1.run;var template_1=require("./main/template/template");exports.addTemplateHelper=template_1.addTemplateHelper;var options_1=require("./options");exports.getOptions=options_1.getOptions;exports.setOptions=options_1.setOptions;__export(require("./util"))},{"./file/file":1,"./file/protected":2,"./image/html":3,"./image/imageCompare":4,"./image/imageInfo":5,"./image/imageUtil":6,"./image/support":7,"./imageMagick/imLists":10,"./imageMagick/magickLoaded":11,"./main/command":12,"./main/executeCommandPreprocessor":14,"./main/main":15,"./main/run":16,"./main/template/template":19,"./options":20,"./util":23,"./util/magica":25,"./util/magicaWasm":26,"misc-utils-of-mine-generic":160}]},{},[])("/")}));